
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://juniorxyz.github.io/myCMS/2025/10/10/programmingnote/">
      
      
        <link rel="prev" href="../typescrpt/">
      
      
        <link rel="next" href="../leetcode/">
      
      
        
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>ProgrammingNote - My Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../css/collapseCodeblock.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-basic" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="My Docs" class="md-header__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            My Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ProgrammingNote
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/junior-stack/myCMS" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    junior-stack/myCMS
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="My Docs" class="md-nav__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    My Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/junior-stack/myCMS" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    junior-stack/myCMS
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Blog
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tags
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Archive
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Archive
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../../archive/2025/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2025
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-basic" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Basic
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Basic">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-declare-variable" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1 Declare variable
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-print" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.2 print
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-loop" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.3 Loop
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-define-function" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.4 Define function
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-define-class" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.5 define class
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-ifcatch-block" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.6 if/catch block
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17-operator" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.7 Operator
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-collections" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Collections
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Collections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-list" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 List
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-set" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 Set
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-map" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 Map
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-string" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4 String
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-multi-set" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.5 Multi-set
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26-priority-queue" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.6 Priority Queue
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-files-io" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Files, I/O
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Files, I/O">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-read-write-api" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 Read &amp; Write API
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-network-stream" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 Network Stream
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-socket" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3 Socket
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-set-up" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Set up
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Set up">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-package-manager" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 Package Manager
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-relative-import" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 Relative import
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-build-library-app" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3 Build Library &amp; App
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-concurrency" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Concurrency
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Concurrency">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-thread-thread-pool" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1 Thread &amp; Thread pool
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-lock" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2 Lock
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-synchronizer-class" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3 Synchronizer class
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-pipes" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.4 Pipes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-feature" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Feature
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Feature">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-reference" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1 Reference
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-reflection" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2 Reflection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-closure" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.3 Closure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-sync-vs-async" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.4 Sync vs Async
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#65-memory-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.5 Memory Model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#66-generic" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.6 Generic
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#67-iterator-seq-generator" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.7 Iterator &amp; Seq Generator
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#68-signal-handler" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.8 Signal handler
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content md-content--post" data-md-component="content">
    <div class="md-sidebar md-sidebar--post" data-md-component="sidebar" data-md-type="navigation">
      <div class="md-sidebar__scrollwrap">
        <div class="md-sidebar__inner md-post">
          <nav class="md-nav md-nav--primary">
            <div class="md-post__back">
              <div class="md-nav__title md-nav__container">
                <a href="../../../.." class="md-nav__link">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
                  <span class="md-ellipsis">
                    Back to index
                  </span>
                </a>
              </div>
            </div>
            
            <ul class="md-post__meta md-nav__list">
              <li class="md-nav__item md-nav__item--section">
                <div class="md-post__title">
                  <span class="md-ellipsis">
                    Metadata
                  </span>
                </div>
                <nav class="md-nav">
                  <ul class="md-nav__list">
                    <li class="md-nav__item">
                      <div class="md-nav__link">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5z"/></svg>
                        <time datetime="2025-10-10 00:00:00+00:00" class="md-ellipsis">October 10, 2025</time>
                      </div>
                    </li>
                    
                    
                    
                      
                      <li class="md-nav__item">
                        <div class="md-nav__link">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7z"/></svg>
                          <span class="md-ellipsis">
                            
                              27 min read
                            
                          </span>
                        </div>
                      </li>
                    
                  </ul>
                </nav>
              </li>
            </ul>
            
          </nav>
          
        </div>
      </div>
    </div>
    <article class="md-content__inner md-typeset">
      
        
  


  <nav class="md-tags" >
    
      
      
      
      
        <a href="../../../../tags/#tag:programming" class="md-tag">Programming</a>
      
    
  </nav>


  
  


  <h1>ProgrammingNote</h1>

<p>This is my programming notes of python, javascript, Java, C++ that I can use to refresh memories.</p>
<!-- more -->

<h2 id="1-basic">1. Basic<a class="headerlink" href="#1-basic" title="Permanent link">&para;</a></h2>
<h3 id="11-declare-variable">1.1 Declare variable<a class="headerlink" href="#11-declare-variable" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="1:4"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Python</label><label for="__tabbed_1_2">Java</label><label for="__tabbed_1_3">Javascript</label><label for="__tabbed_1_4">Cpp</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">y</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">z</span> <span class="o">=</span> <span class="s2">&quot;abc&quot;</span>

<span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">Main</span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">){</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span>
<span class="w">        </span><span class="n">Integer</span><span class="w"> </span><span class="n">x2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w"> </span><span class="c1">// we use Integer as function parameter type</span>
<span class="w">        </span><span class="kt">float</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span><span class="p">;</span>
<span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="p">;</span>

<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;hello world&quot;</span><span class="p">;</span>

<span class="w">        </span><span class="kt">char</span><span class="o">[]</span><span class="w"> </span><span class="n">c_arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;b&#39;</span><span class="p">};</span>

<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">  </span><span class="c1">// final means `a` can only be assigned once</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// common js</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span><span class="w">   </span><span class="c1">//x and y are both Number type</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;abc&quot;</span>

<span class="c1">// ES6</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="c1">// let variable can be reassigned</span>
<span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;abc&quot;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="w">  </span><span class="c1">// cannot be assigned again and must be initialized</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">){</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.0</span><span class="p">;</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="12-print">1.2 print<a class="headerlink" href="#12-print" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="2:4"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><input id="__tabbed_2_4" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Python</label><label for="__tabbed_2_2">Java</label><label for="__tabbed_2_3">javascript</label><label for="__tabbed_2_4">Cpp</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;hello world&quot;</span><span class="p">)</span>

<span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;a = </span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">, b = </span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">A</span><span class="p">:</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>   <span class="c1"># we customize class string in __str__ method</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;\</span><span class="si">{</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">}</span><span class="err">\</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="n">A</span><span class="p">())</span>  
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Arrays</span><span class="p">;</span>
<span class="kd">class</span> <span class="nc">Main</span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Hello world&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="kt">float</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.0</span><span class="p">;</span>
<span class="w">        </span><span class="kt">char</span><span class="o">[]</span><span class="w"> </span><span class="n">c_arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;b&#39;</span><span class="p">};</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;a = %d, b = %f, %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="err">\</span>
<span class="w">        </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">toString</span><span class="p">(</span><span class="n">c_arr</span><span class="p">));</span>

<span class="w">        </span><span class="c1">// print class</span>
<span class="w">        </span><span class="kd">class</span> <span class="nc">A</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">            </span><span class="nd">@Override</span><span class="w">  </span>
<span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">toString</span><span class="p">(){</span><span class="w">  </span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="p">;</span><span class="w">  </span>
<span class="w">            </span><span class="p">}</span><span class="w">  </span>
<span class="w">        </span><span class="p">}</span><span class="w">     </span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">A</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="nx">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nx">a</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`a: </span><span class="si">${</span><span class="nx">a</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`obj: </span><span class="si">${</span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span><span class="si">}</span><span class="sb">`</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">){</span>
<span class="w">    </span><span class="c1">// 1. iostream</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Hello world&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// 2. stdio.h</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.0</span><span class="p">;</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello world&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;a=%d, b=%f, %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">msg</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="13-loop">1.3 Loop<a class="headerlink" href="#13-loop" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="3:3"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Python</label><label for="__tabbed_3_2">Java</label><label for="__tabbed_3_3">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">lst</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>

<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

<span class="n">flag</span> <span class="o">=</span> <span class="kc">True</span><span class="p">:</span>
<span class="k">while</span> <span class="n">flag</span><span class="p">:</span>
    <span class="c1"># code below</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kt">char</span><span class="o">[]</span><span class="w"> </span><span class="n">c_arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;b&#39;</span><span class="p">};</span>
<span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">c_arr</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="n">c_arr</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">for</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">item</span><span class="p">:</span><span class="n">c_arr</span><span class="p">){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="p">}</span>

<span class="kt">boolean</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">True</span><span class="p">;</span>
<span class="k">while</span><span class="p">(</span><span class="n">flag</span><span class="p">){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="n">c_arr</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// for loop 1:</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">3</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Iteration number: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">i</span><span class="p">);</span><span class="w">  </span>
<span class="p">}</span>

<span class="c1">// for...in iterates over enumerable properties of an object</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Alice&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="mf">30</span><span class="w"> </span><span class="p">};</span><span class="w">  </span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="nx">key</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">person</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">key</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">person</span><span class="p">[</span><span class="nx">key</span><span class="p">]);</span><span class="w">  </span>
<span class="p">}</span>

<span class="c1">// for...of iterates values of iterable objects</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;red&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;green&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;blue&quot;</span><span class="p">];</span><span class="w">  </span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="nx">color</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">colors</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">color</span><span class="p">);</span><span class="w">  </span>
<span class="p">}</span>

<span class="c1">// while loop</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w">  </span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nx">count</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Count is: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">count</span><span class="p">);</span><span class="w">  </span>
<span class="w">    </span><span class="nx">count</span><span class="o">++</span><span class="p">;</span><span class="w">  </span>
<span class="p">}</span>

<span class="c1">// do...while</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w">  </span>
<span class="k">do</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Value of x: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">x</span><span class="p">);</span><span class="w">  </span>
<span class="w">    </span><span class="nx">x</span><span class="o">++</span><span class="p">;</span><span class="w">  </span>
<span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nx">x</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="14-define-function">1.4 Define function<a class="headerlink" href="#14-define-function" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="4:3"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Python</label><label for="__tabbed_4_2">Java</label><label for="__tabbed_4_3">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">helloworld</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;hello world: &quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>

<span class="n">hello</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot;helloworld: &quot;</span> <span class="o">+</span> <span class="n">x</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">Demo</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">fn</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">args</span><span class="p">){</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">args</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Runnable is a function that does not return anything</span>
<span class="n">Runnable</span><span class="w"> </span><span class="n">fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;helloworld&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Callable is a function that must return something</span>
<span class="n">Callable</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;helloworld&quot;</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// normal declare</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">helloworld</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Hello: </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// arrow function</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">helloworld</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Hello: </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="15-define-class">1.5 define class<a class="headerlink" href="#15-define-class" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Java</label><label for="__tabbed_5_2">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span> <span class="nc">A1</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">methodA1</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">A</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">methodA</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">A2</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">A1</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// this class can be instantiated from anywhere</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">A2</span><span class="p">(){}</span>

<span class="w">    </span><span class="c1">// this class can only be instantiated by classes within same package</span>
<span class="w">    </span><span class="n">A2</span><span class="p">(){}</span>

<span class="w">    </span><span class="c1">// this constructor can be accessed by class within same package or</span>
<span class="w">    </span><span class="c1">// by subclasses in any packages</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="nf">A2</span><span class="p">(){}</span>

<span class="w">    </span><span class="c1">// this constructor can only be accessed within this class, like its</span>
<span class="w">    </span><span class="c1">// static method</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="nf">A2</span><span class="p">(){}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">methodA</span><span class="p">{}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">methodA1</span><span class="p">{}</span>
<span class="p">}</span>

<span class="kd">final</span><span class="w"> </span><span class="kd">class</span> <span class="nc">B</span><span class="w"> </span><span class="p">{}</span>

<span class="c1">// Java 14: ensure class C&#39;s every field is final, save repeated constructor</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">record</span> <span class="nc">C</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">cartId</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">items</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="nf">addItem</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">item</span><span class="p">){}</span>
<span class="p">}</span>

<span class="n">A2</span><span class="w"> </span><span class="n">a2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">A2</span><span class="p">();</span>
<span class="n">B</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">B</span><span class="p">();</span>
<span class="n">C</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">C</span><span class="p">(</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="p">());</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nx">A</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">a1</span><span class="p">,</span><span class="w"> </span><span class="nx">a2</span><span class="p">){</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">a1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">a1</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">a2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">a2</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nx">AA</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">A</span><span class="p">{</span>
<span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">a1</span><span class="p">,</span><span class="w"> </span><span class="nx">a2</span><span class="p">,</span><span class="w"> </span><span class="nx">a3</span><span class="p">){</span>
<span class="w">        </span><span class="k">super</span><span class="p">(</span><span class="nx">a1</span><span class="p">,</span><span class="w"> </span><span class="nx">a2</span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">a3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">a3</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">A</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">aa</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">AA</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="16-ifcatch-block">1.6 if/catch block<a class="headerlink" href="#16-ifcatch-block" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">## if else blocks</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">if</span> <span class="n">a</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

<span class="c1">## if else expression</span>
<span class="n">expr</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="kc">False</span>

<span class="c1">## try except</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">0</span>
<span class="n">Except</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;exception&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="17-operator">1.7 Operator<a class="headerlink" href="#17-operator" title="Permanent link">&para;</a></h3>
<p>arithmetic:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:1"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code> <span class="n">a</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span>
 <span class="n">a</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">-</span> <span class="mi">2</span>
 <span class="n">a</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="mi">2</span>
 <span class="n">a</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">2</span>
 <span class="n">a</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">//</span> <span class="mi">2</span>
 <span class="n">a</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">%</span> <span class="mi">2</span>
</code></pre></div>
</div>
</div>
</div>
<p>Comparison:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:3"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><input id="__tabbed_7_3" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">Python</label><label for="__tabbed_7_2">Java</label><label for="__tabbed_7_3">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;helloworld&quot;</span><span class="p">}</span>
<span class="n">b</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;helloworld&quot;</span><span class="p">}</span>
<span class="n">a</span> <span class="o">==</span> <span class="n">b</span>
<span class="n">a</span> <span class="ow">is</span> <span class="n">b</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">List</span><span class="w"> </span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="p">();</span>
<span class="n">List</span><span class="w"> </span><span class="n">arr2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="p">();</span>

<span class="n">arr</span><span class="p">.</span><span class="na">equal</span><span class="p">(</span><span class="n">arr2</span><span class="p">);</span><span class="w">  </span><span class="c1">// return if the value of two objects are true</span>
<span class="n">arr</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">arr2</span><span class="p">;</span><span class="w">      </span><span class="c1">// return if two variables point to the same object</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// == performs type coersion before comparison</span>
<span class="mf">0</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">false</span><span class="w">           </span><span class="c1">//return true</span>
<span class="mf">1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="w">             </span><span class="c1">//return true</span>
<span class="kc">null</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">undefined</span><span class="w">    </span><span class="c1">//return true</span>

<span class="c1">// === does not perform type coersion before comparison</span>
<span class="mf">0</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="kc">false</span><span class="w">          </span><span class="c1">// return false (different types)</span>
<span class="mf">1</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="w">            </span><span class="c1">// return false</span>
<span class="kc">null</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="kc">undefined</span><span class="w">   </span><span class="c1">// false</span>

<span class="c1">// Object.is: determine if two variables refer to the same object</span>
<span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">}</span>
<span class="nx">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">a</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">)</span><span class="w">      </span><span class="c1">// return true</span>
</code></pre></div>
</div>
</div>
</div>
<p>logic:
<div class="highlight"><pre><span></span><code><span class="n">x</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">y</span> <span class="o">=</span> <span class="kc">False</span>
<span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="k">else</span> <span class="mi">2</span>
<span class="n">a</span> <span class="ow">and</span> <span class="n">y</span>
<span class="n">x</span> <span class="ow">or</span> <span class="n">y</span>
</code></pre></div></p>
<p>bitwise:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:1"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="mi">5</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">bin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>  <span class="c1"># print x&#39;s binary string</span>
<span class="mi">10</span> <span class="o">&amp;</span> <span class="mi">5</span>         <span class="c1"># 1010 AND 0101 = 0000</span>
<span class="mi">10</span> <span class="o">|</span> <span class="mi">5</span>         <span class="c1"># 1010 OR 0101 =  1111</span>
<span class="mi">3</span> <span class="o">^</span> <span class="mi">5</span>          <span class="c1"># 0011 XOR 0101 = 0110</span>
<span class="o">~</span><span class="n">a</span>             <span class="c1"># ~(0101) = 1010 = -6,  ~x = -(x + 1)</span>
<span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span>         <span class="c1"># (0101 &lt;&lt; 2) = 010100, (x &lt;&lt; a) = x * 2^a</span>
<span class="n">a</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span>         <span class="c1"># (0101 &gt;&gt; 2) = 01</span>
</code></pre></div>
</div>
</div>
</div>
<p>misc:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:1"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. ... is used to disassemble object or array</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">x1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nx">a1</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">a2</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">x2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{...</span><span class="nx">x1</span><span class="p">,</span><span class="w"> </span><span class="nx">a3</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">}</span><span class="w">  </span><span class="c1">// x2: {a1: 1, a2: true, a3: false}</span>

<span class="c1">// 2. usage of ...</span>
<span class="kd">let</span><span class="w"> </span><span class="p">[</span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="nx">rest</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="mf">4</span><span class="p">];</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">rest</span><span class="p">)</span><span class="w">            </span><span class="c1">// [2, 3, 4]</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">rest2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[...</span><span class="nx">rest</span><span class="p">]</span><span class="w">        </span><span class="c1">// rest2: [2, 3, 4]</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="2-collections">2. Collections<a class="headerlink" href="#2-collections" title="Permanent link">&para;</a></h2>
<h3 id="21-list">2.1 List<a class="headerlink" href="#21-list" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="10:3"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><input id="__tabbed_10_2" name="__tabbed_10" type="radio" /><input id="__tabbed_10_3" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="__tabbed_10_1">Python</label><label for="__tabbed_10_2">Java</label><label for="__tabbed_10_3">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">arr</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>         <span class="c1"># return 3</span>
<span class="n">arr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  <span class="c1"># arr becomes [1, 2, 3, 4]</span>
<span class="n">arr</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>      <span class="c1"># arr becomes [1, 2, 3]</span>

<span class="n">arr</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="c1"># arr becomes [1, 2, 5, 3, 4] </span>
<span class="mi">8</span> <span class="ow">in</span> <span class="n">arr</span>         <span class="c1"># return False</span>
<span class="n">arr</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>     <span class="c1"># return 2</span>
<span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>         <span class="c1"># returns the arr&#39;s length: 5</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span><span class="w">  </span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Arrays</span><span class="p">;</span><span class="w">  </span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="c1">// ArrayList</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">arr2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">));</span>

<span class="n">arr2</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span><span class="w">   </span><span class="c1">// arr: [1, 2, 3]</span>
<span class="n">arr2</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w">  </span><span class="c1">// arr: [1, 2, 4, 5]</span>

<span class="n">arr2</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="c1">// arr: [1, 4, 5]</span>
<span class="n">arr2</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Integer</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="c1">// arr: [4, 5]</span>

<span class="n">arr2</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Integer</span><span class="p">(</span><span class="mi">4</span><span class="p">));</span>
<span class="n">arr2</span><span class="p">.</span><span class="na">indexOf</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Integer</span><span class="p">(</span><span class="mi">4</span><span class="p">));</span>

<span class="n">arr2</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w">      </span><span class="c1">// gives 4</span>
<span class="n">arr2</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">    </span><span class="c1">// arr: [2, 5]</span>

<span class="c1">// Linkedlist: thread-unsafe</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">arr3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedList</span><span class="o">&lt;&gt;</span><span class="p">();</span>

<span class="c1">// CopyOnWriteArrayList: thread-safe, for frequent reads</span>
<span class="c1">// create copies when add, set, remove happen, so inefficient frequent write</span>
<span class="c1">// does not block each thread while reading</span>
<span class="c1">// Iterator can only read and each thread reads the version of the array  </span>
<span class="c1">// before modification happens when looping</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">arr4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CopyOnWriteArrayList</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span>
<span class="n">Iterator</span><span class="w"> </span><span class="n">itr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">iterator</span><span class="p">();</span>
<span class="n">arr4</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="c1">// this loop prints [1, 2] because itr is obtained before modified(add)</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">itr</span><span class="p">.</span><span class="na">hasNext</span><span class="p">())</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">itr</span><span class="p">.</span><span class="na">next</span><span class="p">());</span><span class="w"> </span>
<span class="c1">// this loop prints [1, 2, 5]</span>
<span class="n">Iterator</span><span class="w"> </span><span class="n">itr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">iterator</span><span class="p">();</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">itr</span><span class="p">.</span><span class="na">hasNext</span><span class="p">())</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">itr</span><span class="p">.</span><span class="na">next</span><span class="p">());</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">]</span>
<span class="nx">arr</span><span class="p">[</span><span class="mf">2</span><span class="p">]</span><span class="w">                 </span><span class="c1">// return 3</span>
<span class="nx">arr</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mf">4</span><span class="p">)</span><span class="w">            </span><span class="c1">// arr becomes [1,2,3, 4]</span>
<span class="nx">arr</span><span class="p">.</span><span class="nx">pop</span><span class="p">(</span><span class="mf">2</span><span class="p">)</span><span class="w">             </span><span class="c1">// arr becomes [1, 2, 4]</span>
<span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="w">             </span><span class="c1">// returns 3</span>

<span class="mf">4</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">arr</span><span class="w">               </span><span class="c1">// returns True</span>
<span class="c1">// splice(start, deleteCount, item1, item2, ...)</span>
<span class="c1">// splice deletes number of elements equal to deleteCount from arr[start]</span>
<span class="c1">// inclusively, then add item1, item2, ... before the original arr[start]</span>
<span class="c1">// position, then return an array containing deleted items</span>
<span class="nx">arr</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w">             </span><span class="c1">// arr becomes [1, 4]</span>
<span class="nx">arr</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="mf">4</span><span class="p">,</span><span class="w"> </span><span class="mf">5</span><span class="p">,</span><span class="w"> </span><span class="mf">6</span><span class="p">)</span><span class="w"> </span><span class="c1">// arr becomes [1, 3, 4, 5, 6, 4]</span>
<span class="nx">arr</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">5</span><span class="p">)</span><span class="w">         </span><span class="c1">// arr becomes [1, 5, 4, 5, 6, 4]</span>
<span class="c1">// find method</span>
<span class="c1">// Map</span>

<span class="c1">// Reduce</span>

<span class="c1">// filter</span>

<span class="c1">// forEach</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="22-set">2.2 Set<a class="headerlink" href="#22-set" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="11:3"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><input id="__tabbed_11_2" name="__tabbed_11" type="radio" /><input id="__tabbed_11_3" name="__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="__tabbed_11_1">Python</label><label for="__tabbed_11_2">Java</label><label for="__tabbed_11_3">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">my_set</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;banana&quot;</span><span class="p">}</span> 
<span class="n">my_set2</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;grape&quot;</span><span class="p">}</span>
<span class="n">my_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;cherry&quot;</span><span class="p">)</span> <span class="c1"># mySet: {&quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot;}</span>
<span class="n">my_set</span><span class="o">.</span><span class="n">update</span><span class="p">([</span><span class="s2">&quot;orange&quot;</span><span class="p">,</span> <span class="s2">&quot;mango&quot;</span><span class="p">,</span> <span class="s2">&quot;apple&quot;</span><span class="p">])</span> 
<span class="c1"># mySet: {&quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot;, &quot;orange&quot;, &quot;mango&quot;}</span>
<span class="n">union_set</span> <span class="o">=</span> <span class="n">my_set</span><span class="o">.</span><span class="n">union</span><span class="p">({</span><span class="s2">&quot;pear&quot;</span><span class="p">})</span>
<span class="c1"># union_set: {&quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot;, &quot;orange&quot;, &quot;mango&quot;, &quot;pear&quot;}</span>
<span class="n">intersect_set</span> <span class="o">=</span> <span class="n">my_set</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">my_set2</span><span class="p">)</span>
<span class="c1"># intersect_set: {&quot;apple&quot;}</span>
<span class="n">diff_set</span> <span class="o">=</span> <span class="n">my_set2</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">my_set</span><span class="p">)</span>
<span class="c1"># diff_set: {&quot;grape&quot;}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// hashset: not thread safe</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashSet</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">();</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashSet</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashSet</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span>

<span class="n">a</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="w">                              </span><span class="c1">// a: {10}</span>
<span class="n">a</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w">                          </span><span class="c1">// return true</span>
<span class="n">a</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w">                            </span><span class="c1">// a: {}</span>
<span class="n">a</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w">                                </span><span class="c1">// 0</span>
<span class="c1">// b becomes the intersection of b and c, b: {3}</span>
<span class="kt">boolean</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="na">retainAll</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="c1">// b becomes the union of b and c, b: {3, 4, 5}</span>
<span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="na">addAll</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="c1">// b becomes b - c, b: {}</span>
<span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="na">removeAll</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>

<span class="c1">// Treest: sorted set but not thread-safe</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">treeSet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TreeSet</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w"> </span><span class="c1">//sort in ascending order by default</span>
<span class="n">treeSet</span><span class="p">.</span><span class="na">lower</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w">  </span><span class="c1">// max element &lt; k, or null if non-exist</span>
<span class="n">treeSet</span><span class="p">.</span><span class="na">higher</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w"> </span><span class="c1">// min element &gt; k, or null if non-exist</span>
<span class="n">treeSet</span><span class="p">.</span><span class="na">ceiling</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w"> </span><span class="c1">// max element &lt;= k, or null if non-exist</span>
<span class="n">treeSet</span><span class="p">.</span><span class="na">floor</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w">   </span><span class="c1">// min element &gt;= k, or null if non-exist</span>

<span class="c1">// ConcurrentSkipListSet: sorted treeset, thread-safe &amp; lock-free</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">treeSet2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ConcurrentSkipListSet</span><span class="o">&lt;&gt;</span><span class="p">();</span>

<span class="c1">// CopyOnWriteArraySet</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CopyOnWriteArraySet</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">Iterator</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="na">iterator</span><span class="p">();</span>
<span class="k">while</span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="na">hasNext</span><span class="p">()){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="na">next</span><span class="p">());</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Set</span><span class="p">()</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Set</span><span class="p">([</span><span class="mf">2</span><span class="p">])</span><span class="w">    </span>

<span class="nx">a</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span><span class="w">           </span><span class="c1">// a becomes {1, 2}</span>
<span class="mf">3</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">a</span><span class="w">             </span><span class="c1">// return False</span>
<span class="nx">a</span><span class="p">.</span><span class="ow">delete</span><span class="p">(</span><span class="mf">2</span><span class="p">)</span><span class="w">        </span><span class="c1">// a becomes {1}</span>

<span class="nx">b</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span>
<span class="nx">b</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">unionSet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">a</span><span class="p">.</span><span class="nx">union</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="w">         </span><span class="c1">//unionSet: {1, 3}</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">intersect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">a</span><span class="p">.</span><span class="nx">intersection</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="w"> </span><span class="c1">//intersect: {1}</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">diff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">difference</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="w">        </span><span class="c1">// diff: {3}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="23-map">2.3 Map<a class="headerlink" href="#23-map" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="12:2"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio" /><input id="__tabbed_12_2" name="__tabbed_12" type="radio" /><div class="tabbed-labels"><label for="__tabbed_12_1">Java</label><label for="__tabbed_12_2">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. HashMap: not thread-safe</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">Character</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;</span><span class="n">Character</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">();</span>
<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="sc">&#39;c&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w">       </span><span class="c1">// map: {&#39;c&#39;: 1}</span>
<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="sc">&#39;b&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">        </span><span class="c1">// map: {&#39;b&#39;: 2, &#39;c&#39;: 1}</span>
<span class="n">map</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="sc">&#39;c&#39;</span><span class="p">)</span><span class="w">           </span><span class="c1">// return 1</span>
<span class="n">map</span><span class="p">.</span><span class="na">getOrDefault</span><span class="p">(</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w">  </span><span class="c1">// return -1</span>
<span class="n">map</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="sc">&#39;c&#39;</span><span class="p">)</span><span class="w">            </span><span class="c1">// map: {&#39;b&#39;: 2}</span>
<span class="n">map</span><span class="p">.</span><span class="na">containsKey</span><span class="p">(</span><span class="sc">&#39;c&#39;</span><span class="p">)</span><span class="w">       </span><span class="c1">// false</span>
<span class="n">map</span><span class="p">.</span><span class="na">keySet</span><span class="p">()</span><span class="w">               </span><span class="c1">// {&#39;b&#39;}</span>
<span class="k">for</span><span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="n">Character</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">map</span><span class="p">.</span><span class="na">entrySet</span><span class="p">()){</span><span class="w">  </span>
<span class="w"> </span><span class="c1">// traverse key-value pair</span>
<span class="w">    </span><span class="n">entry</span><span class="p">.</span><span class="na">getKey</span><span class="p">();</span>
<span class="w">    </span><span class="n">entry</span><span class="p">.</span><span class="na">getValue</span><span class="p">();</span>
<span class="p">}</span>
<span class="n">map</span><span class="p">.</span><span class="na">forEach</span><span class="p">((</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;key: &quot;</span><span class="o">+</span><span class="n">k</span><span class="o">+</span><span class="s">&quot; value:&quot;</span><span class="o">+</span><span class="n">v</span><span class="p">));</span>
<span class="n">map</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w">                </span><span class="c1">// return 1</span>

<span class="c1">// 2. Hashtable: locks entire table during any operations</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">Character</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Hashtable</span><span class="o">&lt;&gt;</span><span class="p">()</span>

<span class="c1">// 3. ConcurrentHashMap: thread-safe without locking the entire table</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">concurrentMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ConcurrentHashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>

<span class="c1">// 4. TreeMap:  sortedmap based on red-black tree</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">Character</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">treeMap1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TreeMap</span><span class="p">();</span>
<span class="c1">// store the key in reverse order</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">Character</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">treeMap2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TreeMap</span><span class="p">(</span><span class="n">Collections</span><span class="p">.</span><span class="na">reverseOrder</span><span class="p">());</span>
<span class="n">treeMap</span><span class="p">.</span><span class="na">lowerKey</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w">           </span><span class="c1">// return max key &lt; k</span>
<span class="n">treeMap</span><span class="p">.</span><span class="na">higherKey</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w">          </span><span class="c1">// return min key &gt; k</span>
<span class="n">treeMap</span><span class="p">.</span><span class="na">ceilingKey</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w">            </span><span class="c1">// return max key &lt;= k</span>
<span class="n">treeMap</span><span class="p">.</span><span class="na">floorKey</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w">           </span><span class="c1">// return min key &gt;= k</span>
<span class="c1">// return portion of treeMap with keys &lt; k</span>
<span class="n">SortedMap</span><span class="o">&lt;</span><span class="n">K</span><span class="p">,</span><span class="n">V</span><span class="o">&gt;</span><span class="w"> </span><span class="n">portionOfTreeMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">treeMap</span><span class="p">.</span><span class="na">headMap</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w"> </span>
<span class="c1">// return portion of treeMap with keys &gt; k</span>
<span class="n">SortedMap</span><span class="o">&lt;</span><span class="n">K</span><span class="p">,</span><span class="n">V</span><span class="o">&gt;</span><span class="w"> </span><span class="n">portionOfTreeMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">treeMap</span><span class="p">.</span><span class="na">tailMap</span><span class="p">(</span><span class="n">k</span><span class="p">);</span>

<span class="c1">// 5. ConcurrentSkipListMap: sorted tree map that is thread-safe &amp; lock-free</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">Character</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">treeMap3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ConcurrentSkipListMap</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// Map:</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">myMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Map</span><span class="p">()</span>
<span class="nx">myMap</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span><span class="w">            </span><span class="c1">// return False because key &quot;a&quot; does not exist</span>
<span class="nx">myMap</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w">         </span><span class="c1">// myMap becomes {&quot;a&quot;: 1}</span>
<span class="nx">myMap</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span><span class="w">            </span><span class="c1">// return 1</span>
<span class="nx">myMap</span><span class="p">.</span><span class="ow">delete</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span><span class="w">         </span><span class="c1">// myMap becomes</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="24-string">2.4 String<a class="headerlink" href="#24-string" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="13:3"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio" /><input id="__tabbed_13_2" name="__tabbed_13" type="radio" /><input id="__tabbed_13_3" name="__tabbed_13" type="radio" /><div class="tabbed-labels"><label for="__tabbed_13_1">Python</label><label for="__tabbed_13_2">Java</label><label for="__tabbed_13_3">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># immutale string</span>
<span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;abc&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// String class: immutable strings</span>
<span class="n">String</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abcab&quot;</span><span class="p">;</span>

<span class="n">s</span><span class="p">.</span><span class="na">charAt</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w">          </span><span class="c1">// gives &#39;b&#39;</span>
<span class="n">s</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="s">&quot;bcd&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">// return -1 because &quot;a&quot; &lt; &quot;b&quot; and differ by 1</span>
<span class="n">s</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="s">&quot;cd&quot;</span><span class="p">);</span><span class="w">    </span><span class="c1">// return -2 because &quot;a&quot; &lt; &quot;c&quot; and differ by 2</span>
<span class="n">s</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="s">&quot;bc&quot;</span><span class="p">);</span><span class="w">     </span><span class="c1">// return True</span>
<span class="n">s</span><span class="p">.</span><span class="na">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">   </span><span class="c1">// return &quot;ab&quot;</span>
<span class="n">s</span><span class="p">.</span><span class="na">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w">       </span><span class="c1">// return &quot;bca&quot;</span>
<span class="n">s</span><span class="p">.</span><span class="na">indexOf</span><span class="p">(</span><span class="s">&quot;ab&quot;</span><span class="p">);</span><span class="w">      </span><span class="c1">// 0, return the location of first substring &quot;ab&quot; in s</span>
<span class="n">s</span><span class="p">.</span><span class="na">indexOf</span><span class="p">(</span><span class="s">&quot;ab&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w">   </span><span class="c1">// 3, return the location of &quot;ab&quot; after s[2] inclusive</span>
<span class="c1">// Return &quot;ttctt&quot;, replace all occurrences of &quot;ab&quot; with &quot;tt&quot;</span>
<span class="n">s</span><span class="p">.</span><span class="na">replace</span><span class="p">(</span><span class="s">&quot;ab&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;tt&quot;</span><span class="p">);</span><span class="w">  </span>
<span class="c1">// Return char array: {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;a&#39;, &#39;b&#39;}</span>
<span class="kt">char</span><span class="o">[]</span><span class="w"> </span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="na">toCharArray</span><span class="p">();</span><span class="w">       </span>
<span class="c1">// Return &quot;a*b*c&quot;, join the list of &lt;String&gt; into one string connected by</span>
<span class="c1">// delimiter</span>
<span class="n">String</span><span class="p">.</span><span class="na">join</span><span class="p">(</span><span class="s">&quot;*&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;c&quot;</span><span class="p">)));</span>
<span class="c1">// Return True iff a string character is alnum</span>
<span class="n">Character</span><span class="p">.</span><span class="na">isLetterOrDigit</span><span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="na">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>


<span class="c1">// StringBuffer class: mutable &amp; thread-safe</span>
<span class="n">StringBuffer</span><span class="w"> </span><span class="n">sb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">StringBuffer</span><span class="p">();</span>
<span class="n">sb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">StringBuffer</span><span class="p">(</span><span class="s">&quot;abced&quot;</span><span class="p">);</span>
<span class="n">sb</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="s">&quot;ab&quot;</span><span class="p">);</span><span class="w">       </span><span class="c1">// sb becomes &quot;abcedab&quot;</span>
<span class="n">sb</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;zx&quot;</span><span class="p">);</span><span class="w">    </span><span class="c1">// sb becomes &quot;zxabceddab&quot;</span>
<span class="n">sb</span><span class="p">.</span><span class="na">deleteCharAt</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w">    </span><span class="c1">// sb becomes &quot;xabceddab&quot;</span>
<span class="n">sb</span><span class="p">.</span><span class="na">setCharAt</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;c&#39;</span><span class="p">)</span><span class="w">   </span><span class="c1">// sb becomes &quot;cabceddab&quot;</span>
<span class="n">sb</span><span class="p">.</span><span class="na">reverse</span><span class="p">()</span><span class="w">           </span><span class="c1">// sb becomes its reverse</span>

<span class="c1">// StringBuilder class: mutable, fast but thread-unsafe</span>
<span class="c1">// has same methods and use as StringBuffer</span>

<span class="c1">// CharSequence interface: implemented by String, StringBuffer, StringBuilder; seen in the parameter type of replace and some methods</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nx">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;abc&quot;</span>

<span class="nx">s</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">2</span><span class="p">)</span><span class="w">        </span><span class="c1">// returns[0:2] which is &quot;ab&quot;</span>
<span class="nx">s</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;bc&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w">  </span><span class="c1">// return 1</span>
<span class="nx">s</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s2">&quot;ab&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="c1">// return True</span>
<span class="nx">s</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;bcd&quot;</span><span class="w">           </span><span class="c1">// return &quot;abcbcd&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="25-multi-set">2.5 Multi-set<a class="headerlink" href="#25-multi-set" title="Permanent link">&para;</a></h3>
<p>Multi-set can contain duplicate items multiple times
<div class="highlight"><pre><span></span><code><span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
</code></pre></div></p>
<h3 id="26-priority-queue">2.6 Priority Queue<a class="headerlink" href="#26-priority-queue" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">PriorityQueue</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">pq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PriorityQueue</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w"> </span><span class="c1">// min-heap</span>
<span class="c1">// max-heap</span>
<span class="n">PriorityQueue</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">pq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PriorityQueue</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">Collections</span><span class="p">.</span><span class="na">reverseOrder</span><span class="p">());</span>
<span class="n">pq</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="w"> </span><span class="c1">// add 10 to pq</span>
<span class="n">pq</span><span class="p">.</span><span class="na">peek</span><span class="p">();</span><span class="w">  </span><span class="c1">// retrieve min/max of pq</span>
<span class="n">pq</span><span class="p">.</span><span class="na">poll</span><span class="p">();</span><span class="w">  </span><span class="c1">// retrieve and remove min/max of pq</span>
<span class="n">pq</span><span class="p">.</span><span class="na">size</span><span class="p">();</span>
</code></pre></div>
<h2 id="3-files-io">3. Files, I/O<a class="headerlink" href="#3-files-io" title="Permanent link">&para;</a></h2>
<h3 id="31-read-write-api">3.1 Read &amp; Write API<a class="headerlink" href="#31-read-write-api" title="Permanent link">&para;</a></h3>
<p>type of read&amp;write API:</p>
<ul>
<li>Strings: some APIs deal with strings and output text file</li>
<li>Bytes: Some APIs deal with bytes and output binary file, but can also output text file if the bytes only contain ascii value
ByteBuffer methods: </li>
<li>flip: set the buffer position to 0 and limit to previous buffer position</li>
<li>rewind: reset the buffer position to 0</li>
<li>hasRemaining, get, put</li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="14:2"><input checked="checked" id="__tabbed_14_1" name="__tabbed_14" type="radio" /><input id="__tabbed_14_2" name="__tabbed_14" type="radio" /><div class="tabbed-labels"><label for="__tabbed_14_1">Java</label><label for="__tabbed_14_2">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. IO package: blocks in socket I/O and file I/O</span>
<span class="c1">// 1.1 BufferedWriter, BufferedRead(deal with string)</span>
<span class="n">Writer</span><span class="w"> </span><span class="n">writer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OutputStreamWriter</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">FileOutputStream</span><span class="p">(</span><span class="s">&quot;output.txt&quot;</span><span class="p">));</span>
<span class="n">BufferedWriter</span><span class="w"> </span><span class="n">bw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BufferedWriter</span><span class="p">(</span><span class="n">writer</span><span class="p">);</span>
<span class="n">String</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello, Java File I/O!\nThis is a new line.&quot;</span><span class="p">;</span>
<span class="n">bw</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">content</span><span class="p">);</span>
<span class="c1">// bw.flush is automatically called when bw is full, but you need to</span>
<span class="c1">// mannually call if bw is not full</span>
<span class="n">bw</span><span class="p">.</span><span class="na">flush</span><span class="p">();</span>

<span class="n">Reader</span><span class="w"> </span><span class="n">reader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">InputStreamReader</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">FileInputStream</span><span class="p">(</span><span class="s">&quot;output.txt&quot;</span><span class="p">),</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="n">StandardCharsets</span><span class="p">.</span><span class="na">UTF_8</span><span class="p">);</span>
<span class="n">BufferedReader</span><span class="w"> </span><span class="n">br</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BufferedReader</span><span class="p">(</span><span class="n">reader</span><span class="p">);</span>
<span class="n">reader</span><span class="p">.</span><span class="na">readline</span><span class="p">()</span><span class="w">     </span><span class="c1">// returns either a string or null</span>

<span class="c1">// 1.2. deal with bytes</span>
<span class="n">FileOutputStream</span><span class="w"> </span><span class="n">fos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FileOutputStream</span><span class="p">(</span><span class="s">&quot;data.bin&quot;</span><span class="p">);</span>
<span class="n">DataOutputStream</span><span class="w"> </span><span class="n">dos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DataOutputStream</span><span class="p">(</span><span class="n">fos</span><span class="p">);</span>
<span class="n">dos</span><span class="p">.</span><span class="na">writeInt</span><span class="p">(</span><span class="mi">12345</span><span class="p">);</span>
<span class="n">dos</span><span class="p">.</span><span class="na">writeDouble</span><span class="p">(</span><span class="mf">3.14159</span><span class="p">);</span>
<span class="n">dos</span><span class="p">.</span><span class="na">writebytes</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">);</span>
<span class="n">dos</span><span class="p">.</span><span class="na">writeUTF</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">);</span><span class="w">  </span><span class="c1">// different from above</span>

<span class="n">FileInputStream</span><span class="w"> </span><span class="n">fis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FileInputStream</span><span class="p">(</span><span class="s">&quot;data.bin&quot;</span><span class="p">);</span>
<span class="n">BufferedInputStream</span><span class="w"> </span><span class="n">bis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BufferedInputStream</span><span class="p">(</span><span class="n">fis</span><span class="p">);</span><span class="w"> </span><span class="c1">// improve perform</span>
<span class="n">DataInputStream</span><span class="w"> </span><span class="n">dis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DataInputStream</span><span class="p">(</span><span class="n">bis</span><span class="p">);</span><span class="w"> </span><span class="c1">// can read types</span>
<span class="kt">int</span><span class="w"> </span><span class="n">intValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dis</span><span class="p">.</span><span class="na">readInt</span><span class="p">();</span><span class="w">  </span>
<span class="kt">double</span><span class="w"> </span><span class="n">doubleValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dis</span><span class="p">.</span><span class="na">readDouble</span><span class="p">();</span><span class="w">  </span>
<span class="n">String</span><span class="w"> </span><span class="n">stringValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dis</span><span class="p">.</span><span class="na">readUTF</span><span class="p">();</span>
<span class="c1">// 1.3. bytes</span>
<span class="n">Path</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Paths</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;myFile.txt&quot;</span><span class="p">);</span>
<span class="kt">byte</span><span class="o">[]</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Some contents&quot;</span><span class="p">.</span><span class="na">getBytes</span><span class="p">()</span>
<span class="n">Files</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="w"> </span><span class="n">bytes</span><span class="p">,</span><span class="w"> </span><span class="n">StandardOpenOption</span><span class="p">.</span><span class="na">CREATE</span><span class="p">,</span><span class="w"> </span><span class="err">\</span>
<span class="w">                         </span><span class="n">StandardOpenOption</span><span class="p">.</span><span class="na">TRUNCATE_EXISTING</span><span class="p">);</span>
<span class="n">Files</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">filePath</span><span class="p">,</span><span class="w"> </span><span class="n">bytes</span><span class="p">,</span><span class="w"> </span><span class="n">StandardOpenOption</span><span class="p">.</span><span class="na">APPEND</span><span class="p">);</span>

<span class="n">Path</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Paths</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;myFile.txt&quot;</span><span class="p">);</span>
<span class="kt">byte</span><span class="o">[]</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Some contents&quot;</span><span class="p">.</span><span class="na">getBytes</span><span class="p">()</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">lines</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Files</span><span class="p">.</span><span class="na">readAllLines</span><span class="p">(</span><span class="n">path</span><span class="p">);</span>

<span class="c1">// 2. NIO(bytes): does not block in socket I/O but blocks in file I/O</span>
<span class="c1">// FileChannel: operate on byte level and can read/write contents into </span>
<span class="c1">//              buffer, supporting direct memory access and reduce copying</span>
<span class="n">FileChannel</span><span class="w"> </span><span class="n">fileChannel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FileChannel</span><span class="p">.</span><span class="na">open</span><span class="p">(</span><span class="s">&quot;myFile.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="err">\</span>
<span class="w">                        </span><span class="n">StandardOpenOption</span><span class="p">.</span><span class="na">READ</span><span class="p">,</span><span class="w"> </span><span class="err">\</span>
<span class="w">                        </span><span class="n">StandardOpenOption</span><span class="p">.</span><span class="na">WRITE</span><span class="p">,</span><span class="w"> </span><span class="err">\</span>
<span class="w">                        </span><span class="n">StandardOpenOption</span><span class="p">.</span><span class="na">CREATE</span><span class="p">);</span>
<span class="n">ByteBuffer</span><span class="w"> </span><span class="n">buffer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="p">.</span><span class="na">allocate</span><span class="p">(</span><span class="mi">1024</span><span class="p">);</span>
<span class="c1">// // read at file position 0 to buffer</span>
<span class="kt">int</span><span class="w"> </span><span class="n">bytesRead</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fileChannel</span><span class="p">.</span><span class="na">read</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"> </span>
<span class="n">readChannel</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>

<span class="c1">// need to call flip/rewind before writing from buffer and after calling</span>
<span class="c1">// buffer.put, unless the buffer is obtained through ByteBuffer.wrap</span>
<span class="n">buffer</span><span class="p">.</span><span class="na">flip</span><span class="p">();</span>
<span class="k">while</span><span class="p">(</span><span class="n">buffer</span><span class="p">.</span><span class="na">hasRemaining</span><span class="p">())</span>
<span class="w">    </span><span class="n">fileChannel</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">buffer</span><span class="p">);</span>
<span class="n">fileChannel</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>

<span class="c1">// 3. AIO(bytes): does not block in socket I/O or file I/O</span>
<span class="c1">// using AIO typically means using java.nio.channels.AsynchronousFileChannel</span>
<span class="n">Path</span><span class="w"> </span><span class="n">filePath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Paths</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;myFile.txt&quot;</span><span class="p">);</span>
<span class="n">ByteBuffer</span><span class="w"> </span><span class="n">buffer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="p">.</span><span class="na">allocate</span><span class="p">(</span><span class="mi">1024</span><span class="p">);</span>
<span class="n">AsynchronousFileChannel</span><span class="w"> </span><span class="n">fileChannel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AsynchronousFileChannel</span><span class="p">.</span><span class="na">open</span><span class="p">(</span><span class="err">\</span>
<span class="w"> </span><span class="n">filePath</span><span class="p">,</span><span class="w"> </span><span class="n">StandardOpenOption</span><span class="p">.</span><span class="na">READ</span><span class="p">,</span><span class="w"> </span><span class="n">StandardOpenOption</span><span class="p">.</span><span class="na">WRITE</span><span class="p">);</span>

<span class="w"> </span><span class="c1">// 3.1 use the Future result</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">readResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fileChannel</span><span class="p">.</span><span class="na">read</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"> </span>
<span class="c1">// read bytes (&lt;= buffer size)into buffer from file position of 0</span>
<span class="k">try</span><span class="p">{</span>
<span class="w">    </span><span class="n">Integer</span><span class="w"> </span><span class="n">bytesRead</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">readResult</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
<span class="w">    </span><span class="n">buffer</span><span class="p">.</span><span class="na">flip</span><span class="p">();</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">buffer</span><span class="p">.</span><span class="na">hasRemaining</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">((</span><span class="kt">char</span><span class="p">)</span><span class="w"> </span><span class="n">buffer</span><span class="p">.</span><span class="na">get</span><span class="p">());</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ExecutionException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();}</span>

<span class="n">buffer</span><span class="p">.</span><span class="na">rewind</span><span class="p">();</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">writeResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fileChannel</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="n">bytesRead</span><span class="p">);</span>
<span class="c1">// write bytes back to file at the end of the file </span>
<span class="n">Integer</span><span class="w"> </span><span class="n">bytesWrite</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">writeResult</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>

<span class="n">fileChannel</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>

<span class="c1">// 3.2 use CompletionHandler</span>
<span class="n">CompletionHandler</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">readHandler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="n">CompletionHandler</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="o">&gt;</span><span class="p">(){</span>
<span class="w">    </span><span class="c1">// attachment is the attachment parameter passed to fileChannel.read()</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">completed</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">bytesRead</span><span class="p">,</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="w"> </span><span class="n">attachment</span><span class="p">){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;bytes read: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">bytesRead</span><span class="p">);</span>
<span class="w">        </span><span class="n">buffer</span><span class="p">.</span><span class="na">flip</span><span class="p">();</span>
<span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">buffer</span><span class="p">.</span><span class="na">hasRemaining</span><span class="p">()){</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">((</span><span class="kt">char</span><span class="p">)</span><span class="w"> </span><span class="n">buffer</span><span class="p">.</span><span class="na">get</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span><span class="w">  </span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">failed</span><span class="p">(</span><span class="n">Throwable</span><span class="w"> </span><span class="n">exc</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="n">attachment</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">err</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Read failed: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">exc</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span><span class="w">  </span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
<span class="n">CompletionHandler</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">writeHandler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="n">CompletionHandler</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="o">&gt;</span><span class="p">(){</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">completed</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">bytesRead</span><span class="p">,</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="w"> </span><span class="n">attachment</span><span class="p">){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;bytes read: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">bytesRead</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span><span class="w">  </span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">failed</span><span class="p">(</span><span class="n">Throwable</span><span class="w"> </span><span class="n">exc</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="n">attachment</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">err</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Read failed: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">exc</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span><span class="w">  </span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">fileChannel</span><span class="p">.</span><span class="na">read</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="n">readHandler</span><span class="p">);</span><span class="w"> </span><span class="c1">// return null</span>
<span class="n">fileChannel</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="n">writeHandler</span><span class="p">);</span><span class="w"> </span><span class="c1">// return null</span>
<span class="n">fileChannel</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. asynchronous read &amp; write bytes into memory</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">readFile</span><span class="p">,</span><span class="w"> </span><span class="nx">writeFile</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;node:fs/promises&#39;</span><span class="p">;</span><span class="w">  </span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">asyncFileExample</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">readFile</span><span class="p">(</span><span class="s1">&#39;./myFile.txt&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">encoding</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;utf8&#39;</span><span class="w"> </span><span class="p">});</span><span class="w">  </span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;File content:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">);</span><span class="w"> </span>

<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;This is some content to write to the file.&#39;</span><span class="p">;</span><span class="w"> </span>
<span class="w">        </span><span class="k">await</span><span class="w"> </span><span class="nx">writeFile</span><span class="p">(</span><span class="s1">&#39;./myNewFile.txt&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">content</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">encoding</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;utf8&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;File written successfully!&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Error:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">);</span><span class="w">  </span>
<span class="w">    </span><span class="p">}</span><span class="w">  </span>
<span class="p">}</span>

<span class="c1">// 2. synchronous read &amp; write bytes into memory</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">readFileSync</span><span class="p">,</span><span class="w"> </span><span class="nx">writeFileSync</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;node:fs&#39;</span><span class="p">;</span>
<span class="k">try</span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">&#39;myFile.txt&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;utf-8&#39;</span><span class="p">);</span><span class="w">  </span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">content</span><span class="p">);</span>

<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">fs</span><span class="p">.</span><span class="nx">writeFile</span><span class="p">(</span><span class="nx">filePath</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">);</span><span class="w">  </span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;File written successfully!&#39;</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// 3. readStream, writeStream for bytes(memory efficient for large files)</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">createReadStream</span><span class="p">,</span><span class="w"> </span><span class="nx">createWriteStream</span><span class="p">}</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">readstream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createReadStream</span><span class="p">(</span><span class="s1">&#39;large_file.txt&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;utf8&#39;</span><span class="p">);</span>
<span class="nx">readstream</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">chunk</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// fn is a some kind of function that process each chunk</span>
<span class="w">    </span><span class="c1">// for example, console.log</span>
<span class="w">    </span><span class="nx">fn</span><span class="p">(</span><span class="nx">chunk</span><span class="p">)</span>
<span class="p">})</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">writeStream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createWriteStream</span><span class="p">(</span><span class="s1">&#39;output.txt&#39;</span><span class="p">);</span>
<span class="nx">writeStream</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;This is the first line of text.\n&#39;</span><span class="p">);</span><span class="w">  </span>
<span class="nx">writeStream</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;This is the second line.\n&#39;</span><span class="p">);</span>
<span class="nx">readstream</span><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">writeStream</span><span class="p">)</span>
<span class="nx">writeStream</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="s1">&#39;This is the final line.&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="32-network-stream">3.2 Network Stream<a class="headerlink" href="#32-network-stream" title="Permanent link">&para;</a></h3>
<p>how to download and upload contents using network stream</p>
<div class="tabbed-set tabbed-alternate" data-tabs="15:2"><input checked="checked" id="__tabbed_15_1" name="__tabbed_15" type="radio" /><input id="__tabbed_15_2" name="__tabbed_15" type="radio" /><div class="tabbed-labels"><label for="__tabbed_15_1">Java</label><label for="__tabbed_15_2">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. download   (works with Java 11+)</span>
<span class="n">HttpClient</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HttpClient</span><span class="p">.</span><span class="na">newHttpClient</span><span class="p">();</span>
<span class="n">HttpRequest</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HttpRequest</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="na">uri</span><span class="p">(</span><span class="n">java</span><span class="p">.</span><span class="na">net</span><span class="p">.</span><span class="na">URI</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="s">&quot;https://www.google.com&quot;</span><span class="p">))</span>
<span class="w">    </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="c1">// ofFile internally uses AsynchronousFileChannel</span>
<span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="na">send</span><span class="p">(</span><span class="n">request</span><span class="p">,</span>
<span class="w">    </span><span class="n">HttpResponse</span><span class="p">.</span><span class="na">BodyHandlers</span><span class="p">.</span><span class="na">ofFile</span><span class="p">(</span><span class="n">Paths</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;response.txt&quot;</span><span class="p">)));</span>

<span class="c1">// 2. upload</span>
<span class="c1">// ofFile uses AsynchronousFileChannel</span>
<span class="n">Path</span><span class="w"> </span><span class="n">uploadPath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Paths</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;request.txt&quot;</span><span class="p">);</span>
<span class="n">HttpRequest</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HttpRequest</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="na">uri</span><span class="p">(</span><span class="n">URI</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="s">&quot;https://www.google.com&quot;</span><span class="p">))</span>
<span class="w">    </span><span class="p">.</span><span class="na">POST</span><span class="p">(</span><span class="n">HttpRequest</span><span class="p">.</span><span class="na">BodyPublishers</span><span class="p">.</span><span class="na">ofFile</span><span class="p">(</span><span class="n">filePath</span><span class="p">))</span><span class="w"> </span><span class="c1">// set file as body</span>
<span class="w">    </span><span class="p">.</span><span class="na">header</span><span class="p">(</span><span class="s">&quot;Content-Type&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Files</span><span class="p">.</span><span class="na">probeContentType</span><span class="p">(</span><span class="n">filePath</span><span class="p">))</span>
<span class="w">    </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. ReadableStream(not ReadStream nor stream.Readable): </span>
<span class="c1">//     used for response and request body in fetch API</span>
<span class="c1">// 1.1 download</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">myReadableStream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="s2">&quot;http://localhost:3000/download&quot;</span><span class="p">)).</span><span class="nx">body</span><span class="p">;</span><span class="w"> </span>
<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">readStream</span><span class="p">(</span><span class="nx">myReadableStream</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">reader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">myReadableStream</span><span class="p">.</span><span class="nx">getReader</span><span class="p">();</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">result</span><span class="p">;</span><span class="w">  </span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">accumulatedData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span><span class="w">  </span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">result</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="nx">result</span><span class="p">.</span><span class="nx">done</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">        </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">reader</span><span class="p">.</span><span class="nx">read</span><span class="p">();</span><span class="w">  </span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">result</span><span class="p">.</span><span class="nx">done</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">            </span><span class="nx">accumulatedData</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span><span class="w">  </span>
<span class="w">        </span><span class="p">}</span><span class="w">  </span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 1.2 upload large file to an API endpoint</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">fileStream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">fs</span><span class="p">.</span><span class="nx">createReadStream</span><span class="p">(</span><span class="s1">&#39;example.txt&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">myReadableStream2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ReadableStream</span><span class="p">({</span>
<span class="w">    </span><span class="c1">// This function is called when the stream is first created  </span>
<span class="w">    </span><span class="c1">// Enqueue data chunks to be read</span>
<span class="w">    </span><span class="nx">start</span><span class="p">(</span><span class="nx">controller</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">        </span><span class="nx">fileStream</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">chunk</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">controller</span><span class="p">.</span><span class="nx">enqueue</span><span class="p">(</span><span class="nx">chunk</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">    </span><span class="nx">fileStream</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">controller</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">    </span><span class="p">},</span><span class="w">   </span>
<span class="p">});</span>
<span class="nx">fetch</span><span class="p">(</span><span class="s2">&quot;http://localhost:3000/upload&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nx">myReadableStream2</span><span class="p">,</span>
<span class="w">  </span><span class="nx">duplex</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;half&#39;</span><span class="w"> </span><span class="c1">// required when body is a readablestream</span>
<span class="w"> </span><span class="p">})</span>
<span class="c1">// 2. WritableStream: not frequently used, it is inherently created by</span>
<span class="c1">//  fetch from readableStream passed to request body of fetch</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="33-socket">3.3 Socket<a class="headerlink" href="#33-socket" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="16:1"><input checked="checked" id="__tabbed_16_1" name="__tabbed_16" type="radio" /><div class="tabbed-labels"><label for="__tabbed_16_1">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Traditional IO:
<img alt="" data-preview="data-preview" src="#" />
NIO:</p>
<ul>
<li>
<p>core classes:</p>
<ul>
<li>ByteBuffer</li>
<li>Selector</li>
<li>Selectable Channel:<ul>
<li>SocketChannel/ServerSocketChannel</li>
<li>DatagramChannel</li>
<li>Pipe.SourceChannel/Pipe.SinkChannel
<img alt="" data-preview="data-preview" src="#" />
AIO:</li>
</ul>
</li>
</ul>
</li>
<li>
<p>core classes:</p>
<ul>
<li>AsynchronousChannelGroup</li>
<li>AsynchronousServerSocketChannel/AsynchronousSocketChannel</li>
<li>Future/CompletionHandler</li>
</ul>
</li>
</ul>
<p><img alt="" data-preview="data-preview" src="#" /></p>
<p>difference between BIO vs NIO vs AIO model:</p>
<ul>
<li>BIO model creates a thread for each client connect. Each thread will block be blocked when it calls read, no matter whether the data is ready or not.</li>
<li>NIO model uses selector component(in linux, epoll server is the selector component) to coordinate new connection from client. NIO model does not need to create a thread for each client connect and can have only one thread, which reduced the overhead of switching thread. This thread will be notified whenever data from each connection is ready to be read in kernel space and the java thread can perform IO operation to copy data from kernel space to user space. In BIO model, you still have to wait when data is not ready in each client connection</li>
<li>AIO model uses the <code>io_uring</code> to handle client connection. AIO model doesn't need to create new thread for each client connection either. The difference is that java thread is notified after IO is complete rather than ready in NIO. In AIO mode, <code>io_uring</code> makes data sharing between kernel and user space zero copy through completion queue after the data is ready.  In addition, the read and write call returns Future object and does not block the thread, while the read and write call blocks the thread in NIO model to perform IO operation on ready data.</li>
</ul>
</div>
</div>
</div>
<p>code:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="17:1"><input checked="checked" id="__tabbed_17_1" name="__tabbed_17" type="radio" /><div class="tabbed-labels"><label for="__tabbed_17_1">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. NIO socket I/O:</span>
<span class="c1">// 1.1 Server:</span>
<span class="n">Selector</span><span class="w"> </span><span class="n">selector</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Selector</span><span class="p">.</span><span class="na">open</span><span class="p">();</span>
<span class="n">ServerSocketChannel</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ServerSocketChannel</span><span class="p">.</span><span class="na">open</span><span class="p">();</span>
<span class="c1">// configure the IO operation(read, write, accept, connect) to be non-</span>
<span class="c1">// blocking; the IO operation could be blocking until it completes</span>
<span class="n">server</span><span class="p">.</span><span class="na">configureBlocking</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="n">server</span><span class="p">.</span><span class="na">bind</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">InetSocketAddress</span><span class="p">(</span><span class="mi">8080</span><span class="p">));</span>
<span class="c1">// register the Accept event: server is ready to accept new connection</span>
<span class="n">server</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">selector</span><span class="p">,</span><span class="w"> </span><span class="n">SelectionKey</span><span class="p">.</span><span class="na">OP_ACCEPT</span><span class="p">);</span>

<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// select() blocks until one of the previous registered event occurs</span>
<span class="w">    </span><span class="n">selector</span><span class="p">.</span><span class="na">select</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// selectedKeys() return a set of occurred events at Selector</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">SelectionKey</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">selector</span><span class="p">.</span><span class="na">selectedKeys</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">//isAcceptable: return true if  Accept event occurs</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">key</span><span class="p">.</span><span class="na">isAcceptable</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">SocketChannel</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">server</span><span class="p">.</span><span class="na">accept</span><span class="p">();</span>
<span class="w">            </span><span class="n">client</span><span class="p">.</span><span class="na">configureBlocking</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">            </span><span class="c1">// register a read event to read data sent by client </span>
<span class="w">            </span><span class="c1">// read next time when selectedKeys() return this read event</span>
<span class="w">            </span><span class="n">client</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">selector</span><span class="p">,</span><span class="w"> </span><span class="n">SelectionKey</span><span class="p">.</span><span class="na">OP_READ</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span>
<span class="w">        </span><span class="c1">// isReadable: return true if the event is Read event</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">key</span><span class="p">.</span><span class="na">isReadable</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">SocketChannel</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">SocketChannel</span><span class="p">)</span><span class="w"> </span><span class="n">key</span><span class="p">.</span><span class="na">channel</span><span class="p">();</span><span class="w">          </span>
<span class="w">            </span><span class="n">ByteBuffer</span><span class="w"> </span><span class="n">buf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="p">.</span><span class="na">allocate</span><span class="p">(</span><span class="mi">1024</span><span class="p">);</span>
<span class="w">            </span><span class="n">client</span><span class="p">.</span><span class="na">read</span><span class="p">(</span><span class="n">buf</span><span class="p">);</span><span class="w"> </span><span class="c1">// copy data from kernel to buf</span>
<span class="w">            </span><span class="n">buf</span><span class="p">.</span><span class="na">flip</span><span class="p">();</span>
<span class="w">            </span><span class="c1">// register write event and write content to selector to send</span>
<span class="w">            </span><span class="c1">// data next time</span>
<span class="w">            </span><span class="n">client</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">selector</span><span class="p">,</span><span class="w"> </span><span class="n">SelectionKey</span><span class="p">.</span><span class="na">OP_WRITE</span><span class="p">,</span><span class="w"> </span><span class="n">buffer</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">key</span><span class="p">.</span><span class="na">isWritable</span><span class="p">()){</span>
<span class="w">            </span><span class="n">SocketChannel</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">SocketChannel</span><span class="p">)</span><span class="w"> </span><span class="n">key</span><span class="p">.</span><span class="na">channel</span><span class="p">();</span>
<span class="w">            </span><span class="c1">// get the write contents when the write event is registered</span>
<span class="w">            </span><span class="n">ByteBuffer</span><span class="w"> </span><span class="n">buf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">ByteBuffer</span><span class="p">)</span><span class="w"> </span><span class="n">key</span><span class="p">.</span><span class="na">attachment</span><span class="p">();</span>
<span class="w">            </span><span class="n">client</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">buf</span><span class="p">);</span>
<span class="w">            </span><span class="n">client</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">selector</span><span class="p">.</span><span class="na">selectedKeys</span><span class="p">().</span><span class="na">clear</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// 2. AIO socket I/O:</span>
<span class="n">AsynchronousServerSocketChannel</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">\</span>
<span class="n">AsynchronousServerSocketChannel</span><span class="p">.</span><span class="na">open</span><span class="p">().</span><span class="na">bind</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="n">InetSocketAddress</span><span class="p">(</span><span class="s">&quot;localhost&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">5000</span><span class="p">));</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Server listening on port 5000...&quot;</span><span class="p">);</span>

<span class="c1">// submit the accept event</span>
<span class="n">server</span><span class="p">.</span><span class="na">accept</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CompletionHandler</span><span class="o">&lt;</span><span class="n">AsynchronousSocketChannel</span><span class="p">,</span><span class="w"> </span><span class="n">Void</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">completed</span><span class="p">(</span><span class="n">AsynchronousSocketChannel</span><span class="w"> </span><span class="n">client</span><span class="p">,</span><span class="w"> </span><span class="n">Void</span><span class="w"> </span><span class="n">att</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// below line is a recursive call</span>
<span class="w">        </span><span class="n">server</span><span class="p">.</span><span class="na">accept</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">);</span>

<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;New connection: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">client</span><span class="p">);</span>

<span class="w">        </span><span class="n">ByteBuffer</span><span class="w"> </span><span class="n">buffer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="p">.</span><span class="na">allocate</span><span class="p">(</span><span class="mi">1024</span><span class="p">);</span>
<span class="w">        </span><span class="c1">// read contents from the client</span>
<span class="w">        </span><span class="n">client</span><span class="p">.</span><span class="na">read</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CompletionHandler</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nd">@Override</span>
<span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">completed</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">bytesRead</span><span class="p">,</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="w"> </span><span class="n">buf</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">buf</span><span class="p">.</span><span class="na">flip</span><span class="p">();</span>
<span class="w">                </span><span class="n">String</span><span class="w"> </span><span class="n">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StandardCharsets</span><span class="p">.</span><span class="na">UTF_8</span><span class="p">.</span><span class="na">decode</span><span class="p">(</span><span class="n">buf</span><span class="p">).</span><span class="na">toString</span><span class="p">();</span>
<span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Received: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">msg</span><span class="p">);</span>

<span class="w">                </span><span class="c1">// Echo message back</span>
<span class="w">                </span><span class="n">ByteBuffer</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="p">.</span><span class="na">wrap</span><span class="p">((</span><span class="s">&quot;Echo: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">msg</span><span class="p">).</span><span class="na">getBytes</span><span class="p">(</span><span class="n">StandardCharsets</span><span class="p">.</span><span class="na">UTF_8</span><span class="p">));</span>
<span class="w">                </span><span class="c1">// send contents to the client</span>
<span class="w">                </span><span class="n">client</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CompletionHandler</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span><span class="w"> </span><span class="n">Void</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nd">@Override</span>
<span class="w">                    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">completed</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="n">Void</span><span class="w"> </span><span class="n">att</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="na">close</span><span class="p">();</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">ignore</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>
<span class="w">                    </span><span class="p">}</span>

<span class="w">                    </span><span class="nd">@Override</span>
<span class="w">                    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">failed</span><span class="p">(</span><span class="n">Throwable</span><span class="w"> </span><span class="n">exc</span><span class="p">,</span><span class="w"> </span><span class="n">Void</span><span class="w"> </span><span class="n">att</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">exc</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">});</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="nd">@Override</span>
<span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">failed</span><span class="p">(</span><span class="n">Throwable</span><span class="w"> </span><span class="n">exc</span><span class="p">,</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="w"> </span><span class="n">buf</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">exc</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">failed</span><span class="p">(</span><span class="n">Throwable</span><span class="w"> </span><span class="n">exc</span><span class="p">,</span><span class="w"> </span><span class="n">Void</span><span class="w"> </span><span class="n">att</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">exc</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="4-set-up">4. Set up<a class="headerlink" href="#4-set-up" title="Permanent link">&para;</a></h2>
<h3 id="41-package-manager">4.1 Package Manager<a class="headerlink" href="#41-package-manager" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="18:2"><input checked="checked" id="__tabbed_18_1" name="__tabbed_18" type="radio" /><input id="__tabbed_18_2" name="__tabbed_18" type="radio" /><div class="tabbed-labels"><label for="__tabbed_18_1">Python</label><label for="__tabbed_18_2">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Native:</p>
<ul>
<li>file folder directories:<blockquote>
<p>src</p>
<blockquote>
<p>main.py</p>
</blockquote>
<p>requirements.txt</p>
</blockquote>
</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>file folder directories<blockquote>
<p>node_modules
package.json</p>
</blockquote>
</li>
</ul>
</div>
</div>
</div>
<h3 id="42-relative-import">4.2 Relative import<a class="headerlink" href="#42-relative-import" title="Permanent link">&para;</a></h3>
<p>Relative import is generally the way of importing another file in various programming language</p>
<div class="tabbed-set tabbed-alternate" data-tabs="19:1"><input checked="checked" id="__tabbed_19_1" name="__tabbed_19" type="radio" /><div class="tabbed-labels"><label for="__tabbed_19_1">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>How does Python resolve the relative path:</p>
<ol>
<li><code>import module_name</code>: search for<code>module_name.py</code>or a<code>module_name</code>directory (containing<code>__init__.py</code>) within the same directory as the importing module.</li>
<li>search <code>sys.path</code>: list of directories Python look for modules. It includes directory of current script, directories specified in env variable <code>PYTHONPATH</code> and installation-dependent directories.</li>
</ol>
</div>
</div>
</div>
<h3 id="43-build-library-app">4.3 Build Library &amp; App<a class="headerlink" href="#43-build-library-app" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="20:1"><input checked="checked" id="__tabbed_20_1" name="__tabbed_20" type="radio" /><div class="tabbed-labels"><label for="__tabbed_20_1">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>my_lib/</p>
<blockquote>
<p>src</p>
<blockquote>
<p>my_lib_name</p>
<blockquote>
<p><code>__init__.py</code>
<code>my_module.py</code></p>
</blockquote>
</blockquote>
<p>pyproject.toml</p>
</blockquote>
<p>prproject.toml:
<div class="highlight"><pre><span></span><code>[project]
name = &quot;my_library_name&quot;
version = &quot;0.1.0&quot;
authors = [
  { name=&quot;Your Name&quot;, email=&quot;your.email@example.com&quot; },
]
description = &quot;A short description of your library.&quot;
readme = &quot;README.md&quot;
requires-python = &quot;&gt;=3.8&quot;
classifiers = [
    &quot;Programming Language :: Python :: 3&quot;,
    &quot;License :: OSI Approved :: MIT License&quot;,
    &quot;Operating System :: OS Independent&quot;,
]

[build-system]
requires = [&quot;hatchling&quot;]  # SetupTools, Flit
build-backend = &quot;hatchling.build&quot;

[tool.hatch.metadata]
allow-direct-references = true

[tool.hatch.build.targets.sdist]
exclude = [
    &quot;/.github&quot;,
    &quot;/tests&quot;,
]
</code></pre></div></p>
</div>
</div>
</div>
<h2 id="5-concurrency">5. Concurrency<a class="headerlink" href="#5-concurrency" title="Permanent link">&para;</a></h2>
<h3 id="51-thread-thread-pool">5.1 Thread &amp; Thread pool<a class="headerlink" href="#51-thread-thread-pool" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="21:1"><input checked="checked" id="__tabbed_21_1" name="__tabbed_21" type="radio" /><div class="tabbed-labels"><label for="__tabbed_21_1">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. Thread-api: use this when want to cutomize behaviour of each thread</span>
<span class="c1">//                the signal handler, wait object, or each thread needs to</span>
<span class="c1">//                wait each other</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MyThread</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Thread</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">run</span><span class="p">(){</span>
<span class="w">        </span><span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span><span class="w"> </span><span class="c1">// make curr thread sleep 2 seconds</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;curr tid: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getId</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
<span class="c1">// start new thread</span>
<span class="n">MyThread</span><span class="w"> </span><span class="n">thread</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MyThread</span><span class="p">();</span>
<span class="n">thread</span><span class="p">.</span><span class="na">start</span><span class="p">();</span>

<span class="c1">// main thread wait for thread to be exited</span>
<span class="k">try</span><span class="p">{</span>
<span class="w">    </span><span class="n">thread</span><span class="p">.</span><span class="na">join</span><span class="p">();</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">){</span>
<span class="w">    </span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">interrupt</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// 2. Executor Service(Preferred): handy way to create and destroy thread</span>
<span class="c1">// 2.1 Common ExecutorService</span>
<span class="c1">// create exactly one thread for each submitted task and kill it once finish</span>
<span class="n">ExecutorService</span><span class="w"> </span><span class="n">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Executors</span><span class="p">.</span><span class="na">newSingleThreadExecutor</span><span class="p">();</span>
<span class="c1">// create a pool of 4 threads and each thread can be reused for new tasks</span>
<span class="n">ExecutorService</span><span class="w"> </span><span class="n">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Executors</span><span class="p">.</span><span class="na">newFixedThreadPool</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="c1">// create a pool of infinite threads and each idle thread can be </span>
<span class="c1">// reused(idle: thread terminated after 60s if unused)</span>
<span class="n">ExecutorService</span><span class="w"> </span><span class="n">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Executors</span><span class="p">.</span><span class="na">newCachedThreadPool</span><span class="p">();</span>

<span class="n">Callable</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">task1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;task1&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">Callable</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">task2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;task2&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Callable</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">tasks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="p">(</span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="n">task1</span><span class="p">,</span><span class="w"> </span><span class="n">task2</span><span class="p">));</span>

<span class="c1">// submit the task to be executed and return a Future object</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">executor</span><span class="p">.</span><span class="na">submit</span><span class="p">(</span><span class="n">task1</span><span class="p">);</span>
<span class="c1">// blocks the curr thread, execute a list of Callables&lt;T&gt; that returns the</span>
<span class="c1">// same type; once all tasks are completed, return list of Future&lt;T&gt;</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Future</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pool</span><span class="p">.</span><span class="na">invokeAll</span><span class="p">(</span><span class="n">taskList</span><span class="p">);</span>

<span class="c1">// 2.2 ScheduledExecutorService</span>
<span class="c1">// a pool with fixed threads and threads execute after delay or periodically</span>
<span class="n">ScheduledExecutorService</span><span class="w"> </span><span class="n">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Executors</span><span class="p">.</span><span class="na">newScheduledThreadPool</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

<span class="c1">// 2.3 graceful 2-phase shut down:</span>
<span class="c1">// tell the executor not to accept new task but the threads may continue to</span>
<span class="c1">// execute submitted tasks</span>
<span class="n">executor</span><span class="p">.</span><span class="na">shutdown</span><span class="p">();</span>
<span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">executorService</span><span class="p">.</span><span class="na">awaitTermination</span><span class="p">(</span><span class="n">timeout</span><span class="p">,</span><span class="w"> </span><span class="n">unit</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="c1">// Handle the case where termination did not occur within the timeout  </span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">err</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ExecutorService did not terminate within the specified timeout.&quot;</span><span class="p">);</span><span class="w">  </span>
<span class="w">    </span><span class="c1">// Optionally, force shutdown if termination is critical  </span>
<span class="w">        </span><span class="n">executorService</span><span class="p">.</span><span class="na">shutdownNow</span><span class="p">();</span><span class="w">  </span>
<span class="w">    </span><span class="p">}</span><span class="w">  </span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="c1">// Handle interruption  </span>
<span class="w">    </span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">interrupt</span><span class="p">();</span><span class="w"> </span><span class="c1">// Re-interrupt the current thread  </span>
<span class="w">    </span><span class="n">executorService</span><span class="p">.</span><span class="na">shutdownNow</span><span class="p">();</span><span class="w"> </span><span class="c1">// Force shutdown if interrupted  </span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="52-lock">5.2 Lock<a class="headerlink" href="#52-lock" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="22:1"><input checked="checked" id="__tabbed_22_1" name="__tabbed_22" type="radio" /><div class="tabbed-labels"><label for="__tabbed_22_1">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// wrap non-concurrent collections</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Collections</span><span class="p">.</span><span class="na">synchronizedList</span><span class="p">(</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">52</span><span class="p">)));</span>

<span class="c1">// Reentrantlock</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="53-synchronizer-class">5.3 Synchronizer class<a class="headerlink" href="#53-synchronizer-class" title="Permanent link">&para;</a></h3>
<p>CountDownLatch: makes a thread wait for a number of threads, either child or parent; can only be used once</p>
<div class="tabbed-set tabbed-alternate" data-tabs="23:1"><input checked="checked" id="__tabbed_23_1" name="__tabbed_23" type="radio" /><div class="tabbed-labels"><label for="__tabbed_23_1">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. wait for a set of threads instead of one thread; </span>
<span class="kt">int</span><span class="w"> </span><span class="n">threadCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="n">CountDownLatch</span><span class="w"> </span><span class="n">latch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CountDownLatch</span><span class="p">(</span><span class="n">threadCount</span><span class="p">);</span>
<span class="kd">class</span> <span class="nc">Worker</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Thread</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">CountDownLatch</span><span class="w"> </span><span class="n">latch</span><span class="p">;</span>
<span class="w">    </span><span class="n">Worker</span><span class="p">(</span><span class="n">CountDownLatch</span><span class="w"> </span><span class="n">latch</span><span class="p">){</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">latch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">latch</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">run</span><span class="p">(){</span>
<span class="w">        </span><span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span>
<span class="w">        </span><span class="n">latch</span><span class="p">.</span><span class="na">countDown</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>
<span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">threadCount</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">Worker</span><span class="p">(</span><span class="n">latch</span><span class="p">).</span><span class="na">start</span><span class="p">();</span>
<span class="p">};</span>
<span class="c1">// use latch to block the current thread and wait for all threads that </span>
<span class="c1">// possess the latch and block</span>
<span class="n">latch</span><span class="p">.</span><span class="na">await</span><span class="p">();</span>

<span class="c1">// 2. child thread wait for parent thread, where join() mtd can&#39;t do</span>
<span class="kt">int</span><span class="w"> </span><span class="n">threadCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="n">CountDownLatch</span><span class="w"> </span><span class="n">startGate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CountDownLatch</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">threadCount</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">startGate</span><span class="p">.</span><span class="na">await</span><span class="p">();</span>
<span class="w">            </span><span class="c1">// Similate the duration of any task</span>
<span class="w">            </span><span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span><span class="w">      </span>
<span class="w">        </span><span class="p">}</span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">ignored</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">endGate</span><span class="p">.</span><span class="na">countDown</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="p">}).</span><span class="na">start</span><span class="p">();</span>
<span class="p">}</span>
<span class="n">startGate</span><span class="p">.</span><span class="na">countDown</span><span class="p">();</span>
</code></pre></div>
</div>
</div>
</div>
<p>CyclicBarrier: make a set of threads to stop at a certain moment and then start at the same time</p>
<div class="tabbed-set tabbed-alternate" data-tabs="24:1"><input checked="checked" id="__tabbed_24_1" name="__tabbed_24" type="radio" /><div class="tabbed-labels"><label for="__tabbed_24_1">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="n">threadCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="n">ExecutorService</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Executors</span><span class="p">.</span><span class="na">newFixedThreadPool</span><span class="p">(</span><span class="n">threadCount</span><span class="p">);</span>
<span class="n">CyclicBarrier</span><span class="w"> </span><span class="n">barrier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CyclicBarrier</span><span class="p">(</span><span class="n">threadCount</span><span class="p">);</span>

<span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">threadCount</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
<span class="w">    </span><span class="n">pool</span><span class="p">.</span><span class="na">submit</span><span class="p">(()</span><span class="o">=&gt;</span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// block the thread until threadCount threads call await</span>
<span class="w">            </span><span class="n">barrier</span><span class="p">.</span><span class="na">await</span><span class="p">();</span>
<span class="w">            </span><span class="n">fn</span><span class="p">()</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">BrokenBarrierException</span><span class="w"> </span><span class="n">e</span><span class="p">){</span>
<span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">})</span>
<span class="p">}</span>

<span class="k">try</span><span class="p">{</span>
<span class="w">    </span><span class="n">barrier</span><span class="p">.</span><span class="na">await</span><span class="p">();</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">BrokenBarrierException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// reset the barrier so that it can be reused by threadCount threads</span>
<span class="n">barrier</span><span class="p">.</span><span class="na">reset</span><span class="p">();</span>
<span class="n">pool</span><span class="p">.</span><span class="na">shutdown</span><span class="p">();</span>
</code></pre></div>
</div>
</div>
</div>
<p>Phaser: is a more general barrier that allows you to stop a set of threads and start them at multiple times. It keeps track of <code>Parties</code> and <code>Phrase</code> which increments each time when all registered parties arrive:</p>
<ul>
<li><code>new Phaser(int parties)</code>  create with an initial number of registered parties.</li>
<li><code>register()</code> / <code>bulkRegister(n)</code>  add parties dynamically.</li>
<li><code>arrive()</code>  indicate arrival at the current phase (does not wait).</li>
<li><code>arriveAndAwaitAdvance()</code>  arrive and wait until all parties arrive  typical barrier usage.</li>
<li><code>arriveAndDeregister()</code>  arrive and then remove this party (useful when a thread finishes and won't participate in later phases).</li>
<li><code>awaitAdvance(int phase)</code>  wait (block) until phase &gt; given phase. Useful for custom waiting but usually <code>arriveAndAwaitAdvance()</code> is simpler.</li>
<li><code>onAdvance(int phase, int registeredParties)</code>  hook to override for action when phase completes; returning <code>true</code> causes the phaser to terminate.</li>
<li><code>getPhase()</code>  current phase number.</li>
<li><code>getRegisteredParties()</code>  how many parties currently registered.</li>
<li><code>getArrivedParties()</code>  how many parties have arrived in the current phase.</li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="25:1"><input checked="checked" id="__tabbed_25_1" name="__tabbed_25" type="radio" /><div class="tabbed-labels"><label for="__tabbed_25_1">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. phaser with initialized parties</span>
<span class="kt">int</span><span class="w"> </span><span class="n">threadCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="n">ExecutorService</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Executors</span><span class="p">.</span><span class="na">newFixedThreadPool</span><span class="p">(</span><span class="n">threadCount</span><span class="p">);</span>
<span class="n">Phaser</span><span class="w"> </span><span class="n">phaser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Phaser</span><span class="p">(</span><span class="n">threadCount</span><span class="p">);</span>
<span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">threadCount</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
<span class="w">    </span><span class="n">pool</span><span class="p">.</span><span class="na">submit</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="p">{</span>
<span class="w">            </span><span class="c1">// phase 0:</span>
<span class="w">            </span><span class="n">phaser</span><span class="p">.</span><span class="na">arriveAndAwaitAdvance</span><span class="p">();</span>
<span class="w">            </span><span class="n">fn</span><span class="p">();</span>

<span class="w">            </span><span class="c1">// phase 1:</span>
<span class="w">            </span><span class="n">phaser</span><span class="p">.</span><span class="na">arriveAndAwaitAdvance</span><span class="p">();</span>
<span class="w">            </span><span class="n">fn</span><span class="p">();</span>

<span class="w">            </span><span class="n">phaser</span><span class="p">.</span><span class="na">arriveAndDeregister</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span>
<span class="w">                </span><span class="p">{</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">interrupt</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">})</span>
<span class="p">}</span>

<span class="c1">// 2. register the phaser</span>
<span class="n">Phaser</span><span class="w"> </span><span class="n">phaser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Phaser</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="n">pool</span><span class="p">.</span><span class="na">submit</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span>
<span class="w">    </span><span class="n">phaser</span><span class="p">.</span><span class="na">register</span><span class="p">();</span>
<span class="w">    </span><span class="k">try</span><span class="p">{</span>
<span class="w">        </span><span class="n">phaser</span><span class="p">.</span><span class="na">arriveAndAwaitAdvance</span><span class="p">();</span>

<span class="w">        </span><span class="n">phaser</span><span class="p">.</span><span class="na">arriveAndDeregister</span><span class="p">();</span><span class="w"> </span><span class="c1">// leave after finishing</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">interrupt</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="p">})</span>
</code></pre></div>
</div>
</div>
</div>
<p>Semaphore:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="26:1"><input checked="checked" id="__tabbed_26_1" name="__tabbed_26" type="radio" /><div class="tabbed-labels"><label for="__tabbed_26_1">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. restrict limited threads to execute code fn(), e.g: access resources,</span>
<span class="c1">//     control API rate</span>
<span class="kt">int</span><span class="w"> </span><span class="n">threadCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="n">Semaphore</span><span class="w"> </span><span class="n">sem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Semaphore</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="n">ExecutorService</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Executors</span><span class="p">.</span><span class="na">newFixedThreadPool</span><span class="p">(</span><span class="n">threadCount</span><span class="p">);</span>

<span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">threadCount</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
<span class="w">    </span><span class="n">pool</span><span class="p">.</span><span class="na">submit</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="p">{</span>
<span class="w">            </span><span class="n">sem</span><span class="p">.</span><span class="na">acquire</span><span class="p">();</span>
<span class="w">            </span><span class="n">fn</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">){</span>
<span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">sem</span><span class="p">.</span><span class="na">release</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">})</span>
<span class="p">}</span>

<span class="c1">// 2. reuseable countdownLatch</span>
<span class="c1">// equivalent to CountDownLatch(threadCount)</span>
<span class="n">Semaphore</span><span class="w"> </span><span class="n">sem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Semaphore</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">threadCount</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">threadCount</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
<span class="w">    </span><span class="n">pool</span><span class="p">.</span><span class="na">submit</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span>
<span class="w">        </span><span class="n">fn</span><span class="p">();</span>
<span class="w">        </span><span class="n">sem</span><span class="p">.</span><span class="na">release</span><span class="p">();</span>
<span class="w">    </span><span class="p">})</span>
<span class="p">}</span>
<span class="n">sem</span><span class="p">.</span><span class="na">aquire</span><span class="p">();</span><span class="w"> </span><span class="c1">// wait for the n threads to finish</span>

<span class="c1">// 3. lock</span>
<span class="n">Semaphore</span><span class="w"> </span><span class="n">mutex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Semaphore</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="kt">int</span><span class="w"> </span><span class="n">sharedCounter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">threadsCount</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
<span class="w">    </span><span class="n">pool</span><span class="p">.</span><span class="na">submit</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span>
<span class="w">        </span><span class="n">mutex</span><span class="p">.</span><span class="na">acquire</span><span class="p">();</span>
<span class="w">        </span><span class="k">try</span><span class="p">{</span>
<span class="w">            </span><span class="c1">// critical section</span>
<span class="w">            </span><span class="n">sharedCounter</span><span class="o">++</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">mutex</span><span class="p">.</span><span class="na">release</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">})</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="54-pipes">5.4 Pipes<a class="headerlink" href="#54-pipes" title="Permanent link">&para;</a></h3>
<p>These classes can be used as pipes between threads or processes</p>
<div class="tabbed-set tabbed-alternate" data-tabs="27:1"><input checked="checked" id="__tabbed_27_1" name="__tabbed_27" type="radio" /><div class="tabbed-labels"><label for="__tabbed_27_1">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>ConcurrentQueue:</p>
<ul>
<li>add: insert element at tail, throws exception when fail</li>
<li>offer: insert element at tail, return False when fail</li>
<li>peek: retrieve but do not remove the head of the queue; return null when empty</li>
<li>poll: retrieve and remove the head of the queue</li>
</ul>
<p>BlockingQueue:</p>
<ul>
<li>put: insert element at tail, block the thread until queue is available(add/offer does not block)</li>
<li>take: Retrieves and removes the head of this queue, waiting if necessary until an element becomes available</li>
</ul>
<p>ConcurrentQueue vs BlockingLinkedQueue(2 distinctions):</p>
<ol>
<li>ConcurrentQueue spins and retries modification when multiple concurrent modifications happen. It does not switch thread, thus, does not block. On the other hand, BlockingQueue waits to grab the ReentrantLock inside the blockingqueue and switches thread when concurrent modifications happen. Thus, this blocks the thread when concurrent modifications happen</li>
<li>BlockingQueue has 2 extra methods: put and take. These 2 methods additionally block thread when queue is full or empty</li>
</ol>
</div>
</div>
</div>
<p>APIs:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="28:1"><input checked="checked" id="__tabbed_28_1" name="__tabbed_28" type="radio" /><div class="tabbed-labels"><label for="__tabbed_28_1">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// ConcurrentQueue: thread-safe and lock-free, non blocking</span>
<span class="n">Queue</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ConcurrentLinkedQueue</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">q</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="w">     </span><span class="c1">// q: [10]</span>
<span class="n">q</span><span class="p">.</span><span class="na">offer</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span><span class="w">   </span><span class="c1">// q: [10, 20]</span>
<span class="n">q</span><span class="p">.</span><span class="na">peek</span><span class="p">();</span><span class="w">      </span><span class="c1">// return 10</span>
<span class="n">q</span><span class="p">.</span><span class="na">poll</span><span class="p">();</span><span class="w">      </span><span class="c1">// return 10, q:[20]</span>

<span class="c1">// ConcurrentLinkedDeque: </span>
<span class="n">Queue</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ConcurrentLinkedDeque</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="c1">// methods: addFirst, addLast, offerFirst, offerLast, peekFirst, peekLast,</span>
<span class="c1">// pollFirst, pollLast</span>

<span class="c1">// BlockingQueue: thread-safe but uses lock, may block(park)</span>
<span class="n">BlockingQueue</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayBlockingQueue</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">BlockingQueue</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedBlockingQueue</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="w"> </span><span class="c1">// with capacity:4</span>
<span class="n">bq</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span><span class="w">     </span><span class="c1">// bq: [5]</span>
<span class="n">bq</span><span class="p">.</span><span class="na">take</span><span class="p">();</span><span class="w">     </span><span class="c1">// return 5, bq: []</span>

<span class="c1">// BlockingDeque:</span>
<span class="n">BlockingDeque</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bq2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedBlockingDeque</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="c1">// methods: putFirst, putLast, takeFirst, takeLast</span>

<span class="c1">// TransferQueue</span>

<span class="c1">// Pipe.SinkChannel &amp; Pipe.SourceChannel</span>

<span class="c1">// Exchanger</span>
</code></pre></div>
</div>
</div>
</div>
<p>useCases:</p>
<h2 id="6-feature">6. Feature<a class="headerlink" href="#6-feature" title="Permanent link">&para;</a></h2>
<h3 id="61-reference">6.1 Reference<a class="headerlink" href="#61-reference" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="29:2"><input checked="checked" id="__tabbed_29_1" name="__tabbed_29" type="radio" /><input id="__tabbed_29_2" name="__tabbed_29" type="radio" /><div class="tabbed-labels"><label for="__tabbed_29_1">Java</label><label for="__tabbed_29_2">C++</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Java variable can be classified as 2 types
- primitive type: primitive type variable stores value
- Object type: object type variable stores reference of such object</p>
</div>
<div class="tabbed-block">
<p>https://medium.com/@sylvain.tiset/move-to-move-constructor-c-dd03f94005e0</p>
</div>
</div>
</div>
<h3 id="62-reflection">6.2 Reflection<a class="headerlink" href="#62-reflection" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="30:2"><input checked="checked" id="__tabbed_30_1" name="__tabbed_30" type="radio" /><input id="__tabbed_30_2" name="__tabbed_30" type="radio" /><div class="tabbed-labels"><label for="__tabbed_30_1">Java</label><label for="__tabbed_30_2">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// core classes related to reflection:</span>
<span class="c1">// Class, Field, Method, Constructor</span>
<span class="c1">// We reveal following examples:</span>
<span class="c1">// 1. Getting a class object 2. Inspecting class members</span>
<span class="c1">// 3. invoke methods and access fields dynamically</span>

<span class="c1">// 1. get class:</span>
<span class="c1">// get class given the class name</span>
<span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">myClass1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Class</span><span class="p">.</span><span class="na">forName</span><span class="p">(</span><span class="s">&quot;Java.lang.String&quot;</span><span class="p">);</span>
<span class="c1">// get class from an instance</span>
<span class="n">String</span><span class="w"> </span><span class="n">myString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello world&quot;</span><span class="p">;</span>
<span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">myClass2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myString</span><span class="p">.</span><span class="na">getClass</span><span class="p">();</span>
<span class="c1">// get class from the object class</span>
<span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">myClass3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="na">class</span><span class="p">;</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;class Name &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">myClass</span><span class="p">.</span><span class="na">getName</span><span class="p">());</span>

<span class="c1">// 2. get Methods and fields</span>
<span class="n">Method</span><span class="o">[]</span><span class="w"> </span><span class="n">methods</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myClass2</span><span class="p">.</span><span class="na">getDeclaredMethods</span><span class="p">();</span>
<span class="n">Field</span><span class="o">[]</span><span class="w"> </span><span class="n">fields</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myClass2</span><span class="p">.</span><span class="na">getDeclaredFields</span><span class="p">();</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Method</span><span class="w"> </span><span class="n">mtd</span><span class="p">:</span><span class="w"> </span><span class="n">methods</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Method: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">method</span><span class="p">.</span><span class="na">getName</span><span class="p">());</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Field: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">field</span><span class="p">.</span><span class="na">getName</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// 3. invoke method and get/set fields</span>
<span class="n">methods</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="na">invoke</span><span class="p">(</span><span class="n">myString</span><span class="p">,</span><span class="w"> </span><span class="n">arg1</span><span class="p">)</span>
<span class="c1">// get and set a field</span>
<span class="n">Field</span><span class="w"> </span><span class="n">fieldA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fields</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="n">fieldA</span><span class="p">.</span><span class="na">setAccessible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="p">)</span><span class="w"> </span><span class="n">fieldA</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">obj</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Name: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span><span class="p">);</span><span class="w">  </span>
<span class="n">nameField</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">person</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Jane Doe&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. Object: internal implementation of Object is hashtable </span>
<span class="c1">//         whose key type can only be string or Symbol type</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nx">k1</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">k2</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">}}</span>
<span class="c1">// obj: {k1: 1, k2: {x: 1}, k3: &quot;ab&quot;}</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;k3&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;ab&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">writable</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">       </span><span class="c1">// this property can be changed through `=`</span>
<span class="w">    </span><span class="nx">configurable</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nx">enumerable</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span>
<span class="p">})</span>
<span class="c1">// return all keys of an object regardless of enumerable</span>
<span class="c1">// [&quot;k1&quot;, &quot;k2&quot;, &quot;k3&quot;]</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyNames</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span>
<span class="c1">// return all enumerable keys of an object, [&quot;k1&quot;, &quot;k2&quot;]</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span>
<span class="c1">// return the descripor values of a key, </span>
<span class="c1">// {value: 1, writable: true, configurable: true, enumerable: true}</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptor</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;k1&quot;</span><span class="p">)</span>
<span class="c1">// Object.assign copies all enumerable properties of a source object </span>
<span class="c1">// to target</span>
<span class="nx">obj2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">obj2</span><span class="p">,</span><span class="w"> </span><span class="nx">obj</span><span class="p">)</span><span class="w"> </span><span class="c1">// obj2: {k1: 1, k2: {x: 1}, k3: &quot;ab&quot;}</span>
<span class="c1">// seal, freeze, extend</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">preventExtensions</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span><span class="w"> </span><span class="c1">// obj can no longer add new properties</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">isExtensible</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span><span class="w">      </span><span class="c1">// return False</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">seal</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span><span class="w">              </span><span class="c1">// obj cannot add or delete properties</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">isSealed</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span><span class="w">          </span><span class="c1">// return true</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">freeze</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span><span class="w">            </span><span class="c1">// obj cannot add, delete or modify properties</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">isFrozen</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span><span class="w">          </span><span class="c1">// return True</span>

<span class="c1">// 2. Function:</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">greet</span><span class="p">(</span><span class="nx">greeting</span><span class="p">,</span><span class="w"> </span><span class="nx">punc</span><span class="p">){</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">greeting</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">punc</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// call: replace `this` with a specified object and invoke the method</span>
<span class="c1">// apply: replace `this` with a specified object and invoke the method with </span>
<span class="c1">//        an array of args (Note: cannot work on arrow function)    </span>
<span class="nx">greet</span><span class="p">.</span><span class="nx">call</span><span class="p">({</span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Tom&quot;</span><span class="p">},</span><span class="w"> </span><span class="s2">&quot;hello &quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;!&quot;</span><span class="p">)</span><span class="w">  </span>
<span class="nx">greet</span><span class="p">.</span><span class="nx">apply</span><span class="p">({</span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Tom&quot;</span><span class="p">},</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;hello &quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;!&quot;</span><span class="p">])</span><span class="w"> </span><span class="c1">// return &quot;hello Tom!&quot;</span>
<span class="c1">// bind: return a new func whose this is permanently set to specified</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">greet2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">greet</span><span class="p">.</span><span class="nx">bind</span><span class="p">({</span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Tom&quot;</span><span class="p">})</span>
<span class="nx">greet2</span><span class="p">(</span><span class="s2">&quot;hello &quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;!&quot;</span><span class="p">)</span><span class="w">   </span><span class="c1">// return &quot;hello Tom!&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="63-closure">6.3 Closure<a class="headerlink" href="#63-closure" title="Permanent link">&para;</a></h3>
<p>In programming language like javascript, Java, Python, C, it uses lexical scope(static scope) meaning that the scope of a variable is determined by where it's defined in the code, not where it's called. On the other hand, dynamic scope means the scope of a variable is determined by where it's called.</p>
<p><strong>How does lexical scope work:</strong>
Lexical scope is implemented bycreating a scope chain that links a function to its parent scopes based on the physical structure of the code, allowing a variable lookup to begin in the innermost scope and repeat moving outward until a match is found.When a function is defined, a closure is created that holds a reference to its parent scope, establishing this chain.</p>
<p>Use Cases: 
- allow functions to maintain state between calls
- create private variables that are only accessible by inner functions</p>
<div class="tabbed-set tabbed-alternate" data-tabs="31:1"><input checked="checked" id="__tabbed_31_1" name="__tabbed_31" type="radio" /><div class="tabbed-labels"><label for="__tabbed_31_1">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">createCounter</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// &#39;count&#39; is in the outer scope  </span>
<span class="w">    </span><span class="c1">// &#39;increment&#39; is the inner function, forming a closure</span>
<span class="w">    </span><span class="kd">function</span><span class="w"> </span><span class="nx">increment</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">   </span>
<span class="w">        </span><span class="nx">count</span><span class="o">++</span><span class="p">;</span><span class="w">  </span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">count</span><span class="p">);</span><span class="w">  </span>
<span class="w">    </span><span class="p">}</span><span class="w">  </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">increment</span><span class="p">;</span><span class="w"> </span><span class="c1">// Return the inner function  </span>
<span class="p">}</span><span class="w">  </span>

<span class="kd">const</span><span class="w"> </span><span class="nx">counter1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createCounter</span><span class="p">();</span><span class="w"> </span>
<span class="nx">counter1</span><span class="p">();</span><span class="w"> </span><span class="c1">// print 1   </span>
<span class="nx">counter1</span><span class="p">();</span><span class="w"> </span><span class="c1">// print 2</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="64-sync-vs-async">6.4 Sync vs Async<a class="headerlink" href="#64-sync-vs-async" title="Permanent link">&para;</a></h3>
<p>Promise API:
Promise in javascript is used to wrap the calling of function that takes a lot of time to execute and return a result; the code inside promise is executed synchrounously, but the code in then or catch method is executed after all jobs in event queue are executed; Thus, inside promise we usually place a task at the end of the event queue and the then method will get the result of that task and process the result </p>
<div class="tabbed-set tabbed-alternate" data-tabs="32:2"><input checked="checked" id="__tabbed_32_1" name="__tabbed_32" type="radio" /><input id="__tabbed_32_2" name="__tabbed_32" type="radio" /><div class="tabbed-labels"><label for="__tabbed_32_1">Java</label><label for="__tabbed_32_2">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. create CompletableFuture object</span>
<span class="c1">// 1.1 runAsync takes a function that does not return value</span>
<span class="n">CompleteableFuture</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">future1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CompleteableFuture</span><span class="p">.</span><span class="na">runAsync</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span>
<span class="w">    </span><span class="c1">// the function inside Future object is run in a separate thread</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;hello world&quot;</span><span class="p">);</span>
<span class="p">})</span>
<span class="c1">// 1.2 supplyAsync takes a function that can return value</span>
<span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="n">CompleteableFuture</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">future2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CompleteableFuture</span><span class="p">.</span><span class="na">supplyAsync</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span>
<span class="w">    </span><span class="c1">// the variables from the parent scope must be final</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
<span class="p">})</span>

<span class="c1">// 1.3 result from ExecutorService</span>
<span class="n">ExecutorService</span><span class="w"> </span><span class="n">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Executors</span><span class="p">.</span><span class="na">newFixedThreadPool</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="n">Callable</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Files</span><span class="p">.</span><span class="na">readAllLines</span><span class="p">(</span><span class="n">Paths</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;myFile.txt&quot;</span><span class="p">)).</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">future</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">executor</span><span class="p">.</span><span class="na">submit</span><span class="p">(</span><span class="n">task</span><span class="p">);</span>

<span class="c1">// 2. then &amp; exceptionally callback</span>
<span class="c1">// 2.1 exceptionally &amp; thenRun:</span>
<span class="c1">// thenRun cannot get result from last Future object and return </span>
<span class="c1">// CompleteableFuture&lt;Void&gt;</span>
<span class="n">future2</span><span class="p">.</span><span class="na">exceptionally</span><span class="p">(</span><span class="n">ex</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">ex</span><span class="p">.</span><span class="na">getMessage</span><span class="p">())</span><span class="err">\\</span>
<span class="w">    </span><span class="p">.</span><span class="na">thenRun</span><span class="p">(());</span>

<span class="c1">// 2.2 thenAccept: get result from last Future object and return </span>
<span class="c1">// CompleteableFuture&lt;Void&gt;</span>
<span class="n">future2</span><span class="p">.</span><span class="na">thenAccept</span><span class="p">(</span><span class="n">s</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;result: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">s</span><span class="p">))</span>

<span class="c1">// 2.3 thenApply: get result from last Future object and return sth in </span>
<span class="c1">// its returned Future object </span>
<span class="n">Future</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">future3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">future2</span><span class="p">.</span><span class="na">thenApply</span><span class="p">(</span><span class="n">s</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">s</span><span class="p">));</span>

<span class="c1">// 2.4 whenComplete: takes a function that returns void as input and return Future object that has wrapped value from last Future object</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">future3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">future2</span><span class="p">.</span><span class="na">whenComplete</span><span class="p">((</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="n">ex</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">ex</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">err</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Error: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">ex</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">})</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. Obtain Promise object</span>
<span class="c1">// 1.1 Common API that gives promise object</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">promise1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://api.example.com/data&#39;</span><span class="p">)</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">promise2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">readFile</span><span class="p">(</span><span class="s1">&#39;./myFile.txt&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">encoding</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;utf8&#39;</span><span class="w"> </span><span class="p">})</span>
<span class="c1">// 1.2 create customized promise</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getRandomInt</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">myPromise</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span><span class="w"> </span><span class="nx">reject</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// the function inside is executed synchronously, unlike async then</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="nx">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span>
<span class="w">    </span><span class="c1">// resolve just passes &quot;hello world&quot; as the value wrapped in myPromise</span>
<span class="w">        </span><span class="nx">resolve</span><span class="p">(</span><span class="s2">&quot;hello world&quot;</span><span class="p">)</span><span class="w"> </span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="nx">reject</span><span class="p">(</span><span class="s2">&quot;destroy world&quot;</span><span class="p">)</span>
<span class="p">})</span>

<span class="c1">// 2. then &amp; catch hook</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">thenPromise</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">myPromise</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">value</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// value is the argument passed to resolve in myPromise</span>
<span class="w">    </span><span class="c1">// the function inside then is executed asynchrounously</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span><span class="w">  </span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// the function inside catch is executed asynchrounously</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
<span class="p">})</span>

<span class="c1">// 3. Promise.all</span>
<span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span><span class="nx">promise1</span><span class="p">,</span><span class="w"> </span><span class="nx">promise2</span><span class="p">])</span>
<span class="w">    </span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">results</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">results</span><span class="p">))</span>
<span class="w">    </span><span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre></div>
</div>
</div>
</div>
<p>async/await syntax:</p>
<ul>
<li>async wraps the function inside a promise object and pass the return value of that function into resolve in promise</li>
<li>await must be used within an asyn function. It is placed before an expression that returns a promise object and is used to capture the resolved value of promise. When js executes the await line, it will executes the code inside the promise object after <code>await</code>, then it will jump outside to the parent stack to execute the rest of the code. After the promise object after await is resolved, it will continue to execute the lines after the await line in that async function</li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="33:2"><input checked="checked" id="__tabbed_33_1" name="__tabbed_33" type="radio" /><input id="__tabbed_33_2" name="__tabbed_33" type="radio" /><div class="tabbed-labels"><label for="__tabbed_33_1">Java</label><label for="__tabbed_33_2">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// get() on Future object:</span>
<span class="c1">// get() acts as await in javascript</span>
<span class="n">ExecutorService</span><span class="w"> </span><span class="n">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Executors</span><span class="p">.</span><span class="na">newFixedThreadPool</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="n">Callable</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Files</span><span class="p">.</span><span class="na">readAllLines</span><span class="p">(</span><span class="n">Paths</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;myFile.txt&quot;</span><span class="p">)).</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">future</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">executor</span><span class="p">.</span><span class="na">submit</span><span class="p">(</span><span class="n">task</span><span class="p">);</span>
<span class="c1">// blocks the thread until future is resolved</span>
<span class="n">String</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">future</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">f</span><span class="p">(){</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">readFile</span><span class="p">(</span><span class="s1">&#39;./myFile.txt&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">encoding</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;utf8&#39;</span><span class="w"> </span><span class="p">})</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// helloworld is printed first, then the content of myFile.txt</span>
<span class="nx">f</span><span class="p">()</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="err">&quot;</span><span class="nx">helloworld</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<p>asyn/await mannual implementation: https://blog.csdn.net/weixin_50789156/article/details/124199482</p>
<h3 id="65-memory-model">6.5 Memory Model<a class="headerlink" href="#65-memory-model" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="34:1"><input checked="checked" id="__tabbed_34_1" name="__tabbed_34" type="radio" /><div class="tabbed-labels"><label for="__tabbed_34_1">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>https://blog.csdn.net/sjhcake/article/details/123856054</p>
</div>
</div>
</div>
<h3 id="66-generic">6.6 Generic<a class="headerlink" href="#66-generic" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="35:1"><input checked="checked" id="__tabbed_35_1" name="__tabbed_35" type="radio" /><div class="tabbed-labels"><label for="__tabbed_35_1">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// generic symbol can use: T, U, V, E(Any Uppercase symbol) and ?(wildcard)</span>
<span class="c1">// 1. T, U, V, E(any uppercase) is used in declaration after class/interface/method</span>
<span class="c1">// 1.1 class declaration</span>
<span class="kd">class</span> <span class="nc">Test</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">U</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="n">field1</span><span class="p">;</span>
<span class="w">    </span><span class="n">U</span><span class="w"> </span><span class="n">field2</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// 1.2 mtd declaration</span>
<span class="kd">public</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">U</span><span class="o">&gt;</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">methodA</span><span class="p">(</span><span class="n">U</span><span class="o">[]</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{};</span>

<span class="c1">// 2. ?(wildcard) is used as the argument of an existing generic declaration</span>
<span class="c1">//   List&lt;E&gt; generic has already been declared and we pass ? into List&lt;E&gt;</span>
<span class="c1">// 2.1 seen in parameters type</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">methodB</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;?</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Number</span><span class="o">&gt;</span><span class="w"> </span><span class="n">numbers</span><span class="p">){}</span>
<span class="c1">// 2.2 seen in &lt;&gt;</span>
<span class="kd">public</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Comparable</span><span class="o">&lt;?</span><span class="w"> </span><span class="n">supper</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">methodB</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="p">){}</span>
<span class="c1">// 2.3 seen in single variable type declaration</span>
<span class="n">List</span><span class="o">&lt;?</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>

<span class="c1">// 3. upper and lower bound</span>
<span class="c1">// 3.1 &lt;T extends ..&gt;, &lt;? extends ..&gt;</span>
<span class="c1">// T type interface must extend the interface of Comparable</span>
<span class="kd">public</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Comparable</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">methodC</span><span class="p">(</span><span class="n">T</span><span class="o">[]</span><span class="w"> </span><span class="n">arr</span><span class="p">){}</span>
<span class="c1">// T type extends Number class and Comparable interface</span>
<span class="kd">public</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">Comparable</span><span class="o">&gt;</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">methodC</span><span class="p">(</span><span class="n">T</span><span class="o">[]</span><span class="w"> </span><span class="n">arr</span><span class="p">){}</span>
<span class="c1">// &lt;? extends Number&gt; list contain any class that is subclass of Number</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">methodC</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;?</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Number</span><span class="o">&gt;</span><span class="w"> </span><span class="n">numbers</span><span class="p">){}</span>

<span class="c1">// 3.2 &lt;T super ..&gt;, &lt;? super ..&gt;</span>
<span class="c1">// T type is a super class for Number</span>
<span class="kd">public</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">methodD</span><span class="p">(</span><span class="n">T</span><span class="o">[]</span><span class="w"> </span><span class="n">arr</span><span class="p">){}</span>
<span class="c1">// &lt;? super Number&gt; list contains any class that is superclass of Number</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">methodC</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;?</span><span class="w"> </span><span class="kd">super</span><span class="w"> </span><span class="n">Number</span><span class="o">&gt;</span><span class="w"> </span><span class="n">numbers</span><span class="p">){}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="67-iterator-seq-generator">6.7 Iterator &amp; Seq Generator<a class="headerlink" href="#67-iterator-seq-generator" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="36:3"><input checked="checked" id="__tabbed_36_1" name="__tabbed_36" type="radio" /><input id="__tabbed_36_2" name="__tabbed_36" type="radio" /><input id="__tabbed_36_3" name="__tabbed_36" type="radio" /><div class="tabbed-labels"><label for="__tabbed_36_1">Python</label><label for="__tabbed_36_2">Java</label><label for="__tabbed_36_3">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># yield, generator function</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// Iterator</span>

<span class="c1">// Stream Interface and IOStream</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// Generator function &amp; yield</span>

<span class="c1">// declare generator function:</span>
<span class="kd">function</span><span class="w"> </span><span class="o">*</span><span class="nx">genFunc</span><span class="p">(){</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;phase 1&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="c1">// jump out of this function stack and return &quot;phase 1&quot;</span>
<span class="w">    </span><span class="k">yield</span><span class="w"> </span><span class="s2">&quot;phase 1&quot;</span>

<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;phase 2&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="k">yield</span><span class="w"> </span><span class="s2">&quot;phase 2&quot;</span>
<span class="p">}</span>

<span class="c1">// create &amp; call generator function</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">gen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">genFunc</span><span class="p">()</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">phase1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gen</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">phase1</span><span class="p">)</span><span class="w"> </span><span class="c1">// phase1: { value: &quot;phase 1&quot;, done: false}</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">phase2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gen</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span><span class="w"> </span><span class="c1">// resume execution from last yield</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">phase2</span><span class="p">)</span><span class="w"> </span><span class="c1">// phase2: { value: &quot;phase 2&quot;, done: true}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="68-signal-handler">6.8 Signal handler<a class="headerlink" href="#68-signal-handler" title="Permanent link">&para;</a></h3>
<p>Reference:
https://github.com/jsjtzyy/LeetCode/blob/master/Java%20cheat%20sheet%20for%20interview</p>
<div style="text-align: center; margin-top: 20px;">
<h2>Share this post:</h2>
</div>
<p><a class="md-button" href="https://x.com/intent/tweet?text=ProgrammingNote%0A&amp;url=https://juniorxyz.github.io/myCMS/2025/10/10/programmingnote/">Share on <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.234 10.162 22.977 0h-2.072l-7.591 8.824L7.251 0H.258l9.168 13.343L.258 24H2.33l8.016-9.318L16.749 24h6.993zm-2.837 3.299-.929-1.329L3.076 1.56h3.182l5.965 8.532.929 1.329 7.754 11.09h-3.182z"/></svg></span></a>
<a class="md-button" href="https://www.facebook.com/sharer/sharer.php?u=https://juniorxyz.github.io/myCMS/2025/10/10/programmingnote/">Share on <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a9 9 0 0 1 1.141.195v3.325a9 9 0 0 0-.653-.036 27 27 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.7 1.7 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647"/></svg></span></a></p>







  
  




  


<script src="https://giscus.app/client.js"
        data-repo="junior-stack/myCMS"
        data-repo-id="R_kgDOQG1r4Q"
        data-category="Announcements"
        data-category-id="DIC_kwDOQG1r4c4Cxs-G"
        data-mapping="title"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="1"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>
      
    </article>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../../..", "features": ["content.code.copy", "content.code.annotate", "navigation.instant.preview"], "search": "../../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../../../javascript/mathjax.js"></script>
      
        <script src="../../../../javascript/collapseCodeblock.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>