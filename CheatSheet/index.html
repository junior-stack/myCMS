
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://juniorxyz.github.io/myCMS/CheatSheet/">
      
      
        <link rel="prev" href="../Algorithm/">
      
      
        <link rel="next" href="../typescrpt/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>CheatSheet - My Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/collapseCodeblock.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-basic" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="My Docs" class="md-header__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            My Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              CheatSheet
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/junior-stack/myCMS" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    junior-stack/myCMS
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="My Docs" class="md-nav__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    My Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/junior-stack/myCMS" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    junior-stack/myCMS
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Algorithm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Algorithm
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    CheatSheet
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    CheatSheet
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-basic" class="md-nav__link">
    <span class="md-ellipsis">
      1. Basic
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Basic">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-declare-variable" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Declare variable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-print" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 print
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-loop" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 Loop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-define-function" class="md-nav__link">
    <span class="md-ellipsis">
      1.4 Define function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-define-class" class="md-nav__link">
    <span class="md-ellipsis">
      1.5 define class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-if-statement" class="md-nav__link">
    <span class="md-ellipsis">
      1.6 if statement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17-operator" class="md-nav__link">
    <span class="md-ellipsis">
      1.7 Operator
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-collections" class="md-nav__link">
    <span class="md-ellipsis">
      2. Collections
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Collections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-list" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 List
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-set" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-map" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Map
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-string" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 String
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-multi-set" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 Multi-set
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-files-io" class="md-nav__link">
    <span class="md-ellipsis">
      3. Files, I/O
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Files, I/O">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-read-write-api" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Read &amp; Write API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-network-stream" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Network Stream
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-socket" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Socket
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-set-up" class="md-nav__link">
    <span class="md-ellipsis">
      4. Set up
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Set up">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-package-manager" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 Package Manager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-how-to-debug" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 How to debug
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-module-import" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 Module import
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-concurrency" class="md-nav__link">
    <span class="md-ellipsis">
      5. Concurrency
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Concurrency">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-atomic-class" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 Atomic class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-thread-thread-pool" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 Thread &amp; Thread pool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-lock" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 Lock
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-synchronizer-class" class="md-nav__link">
    <span class="md-ellipsis">
      5.4 Synchronizer class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55-pipes" class="md-nav__link">
    <span class="md-ellipsis">
      5.5 Pipes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-feature" class="md-nav__link">
    <span class="md-ellipsis">
      6. Feature
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Feature">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-reference" class="md-nav__link">
    <span class="md-ellipsis">
      6.1 Reference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-reflection" class="md-nav__link">
    <span class="md-ellipsis">
      6.2 Reflection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-closure" class="md-nav__link">
    <span class="md-ellipsis">
      6.3 Closure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-sync-vs-async" class="md-nav__link">
    <span class="md-ellipsis">
      6.4 Sync vs Async
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#65-memory-model" class="md-nav__link">
    <span class="md-ellipsis">
      6.5 Memory Model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#66-generic" class="md-nav__link">
    <span class="md-ellipsis">
      6.6 Generic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#67-iterator-seq-generator" class="md-nav__link">
    <span class="md-ellipsis">
      6.7 Iterator &amp; Seq Generator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#68-signal-handler" class="md-nav__link">
    <span class="md-ellipsis">
      6.8 Signal handler
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../typescrpt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Typescrpt
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-basic" class="md-nav__link">
    <span class="md-ellipsis">
      1. Basic
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Basic">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-declare-variable" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Declare variable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-print" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 print
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-loop" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 Loop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-define-function" class="md-nav__link">
    <span class="md-ellipsis">
      1.4 Define function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-define-class" class="md-nav__link">
    <span class="md-ellipsis">
      1.5 define class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-if-statement" class="md-nav__link">
    <span class="md-ellipsis">
      1.6 if statement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17-operator" class="md-nav__link">
    <span class="md-ellipsis">
      1.7 Operator
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-collections" class="md-nav__link">
    <span class="md-ellipsis">
      2. Collections
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Collections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-list" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 List
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-set" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-map" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Map
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-string" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 String
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-multi-set" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 Multi-set
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-files-io" class="md-nav__link">
    <span class="md-ellipsis">
      3. Files, I/O
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Files, I/O">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-read-write-api" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Read &amp; Write API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-network-stream" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Network Stream
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-socket" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Socket
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-set-up" class="md-nav__link">
    <span class="md-ellipsis">
      4. Set up
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Set up">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-package-manager" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 Package Manager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-how-to-debug" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 How to debug
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-module-import" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 Module import
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-concurrency" class="md-nav__link">
    <span class="md-ellipsis">
      5. Concurrency
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Concurrency">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-atomic-class" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 Atomic class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-thread-thread-pool" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 Thread &amp; Thread pool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-lock" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 Lock
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-synchronizer-class" class="md-nav__link">
    <span class="md-ellipsis">
      5.4 Synchronizer class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55-pipes" class="md-nav__link">
    <span class="md-ellipsis">
      5.5 Pipes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-feature" class="md-nav__link">
    <span class="md-ellipsis">
      6. Feature
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Feature">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-reference" class="md-nav__link">
    <span class="md-ellipsis">
      6.1 Reference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-reflection" class="md-nav__link">
    <span class="md-ellipsis">
      6.2 Reflection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-closure" class="md-nav__link">
    <span class="md-ellipsis">
      6.3 Closure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-sync-vs-async" class="md-nav__link">
    <span class="md-ellipsis">
      6.4 Sync vs Async
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#65-memory-model" class="md-nav__link">
    <span class="md-ellipsis">
      6.5 Memory Model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#66-generic" class="md-nav__link">
    <span class="md-ellipsis">
      6.6 Generic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#67-iterator-seq-generator" class="md-nav__link">
    <span class="md-ellipsis">
      6.7 Iterator &amp; Seq Generator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#68-signal-handler" class="md-nav__link">
    <span class="md-ellipsis">
      6.8 Signal handler
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>CheatSheet</h1>

<p>https://github.com/jsjtzyy/LeetCode/blob/master/Java%20cheat%20sheet%20for%20interview</p>
<h2 id="1-basic">1. Basic<a class="headerlink" href="#1-basic" title="Permanent link">&para;</a></h2>
<h3 id="11-declare-variable">1.1 Declare variable<a class="headerlink" href="#11-declare-variable" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="1:4"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Python</label><label for="__tabbed_1_2">Java</label><label for="__tabbed_1_3">Cpp</label><label for="__tabbed_1_4">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">y</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">z</span> <span class="o">=</span> <span class="s2">&quot;abc&quot;</span>

<span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">Main</span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">){</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span>
<span class="w">        </span><span class="n">Integer</span><span class="w"> </span><span class="n">x2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w"> </span><span class="c1">// we use Integer as function parameter type</span>
<span class="w">        </span><span class="kt">float</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span><span class="p">;</span>
<span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="p">;</span>

<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;hello world&quot;</span><span class="p">;</span>

<span class="w">        </span><span class="kt">char</span><span class="o">[]</span><span class="w"> </span><span class="n">c_arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;b&#39;</span><span class="p">};</span>

<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">  </span><span class="c1">// final means `a` can only be assigned once</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">){</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.0</span><span class="p">;</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// common js</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span><span class="w">   </span><span class="c1">//x and y are both Number type</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;abc&quot;</span>

<span class="c1">// ES6</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="c1">// let variable can be reassigned</span>
<span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;abc&quot;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="w">  </span><span class="c1">// cannot be assigned again and must be initialized</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="12-print">1.2 print<a class="headerlink" href="#12-print" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="2:4"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><input id="__tabbed_2_4" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Python</label><label for="__tabbed_2_2">Java</label><label for="__tabbed_2_3">Cpp</label><label for="__tabbed_2_4">javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;hello world&quot;</span><span class="p">)</span>

<span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;a = </span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">, b = </span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">A</span><span class="p">:</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>   <span class="c1"># we customize class string in __str__ method</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;\</span><span class="si">{</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">}</span><span class="err">\</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="n">A</span><span class="p">())</span>  
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Arrays</span><span class="p">;</span>
<span class="kd">class</span> <span class="nc">Main</span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Hello world&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="kt">float</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.0</span><span class="p">;</span>
<span class="w">        </span><span class="kt">char</span><span class="o">[]</span><span class="w"> </span><span class="n">c_arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;b&#39;</span><span class="p">};</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;a = %d, b = %f, %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="err">\</span>
<span class="w">        </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">toString</span><span class="p">(</span><span class="n">c_arr</span><span class="p">));</span>

<span class="w">        </span><span class="c1">// print class</span>
<span class="w">        </span><span class="kd">class</span> <span class="nc">A</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">            </span><span class="nd">@Override</span><span class="w">  </span>
<span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">toString</span><span class="p">(){</span><span class="w">  </span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="p">;</span><span class="w">  </span>
<span class="w">            </span><span class="p">}</span><span class="w">  </span>
<span class="w">        </span><span class="p">}</span><span class="w">     </span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">A</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">){</span>
<span class="w">    </span><span class="c1">// 1. iostream</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Hello world&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// 2. stdio.h</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.0</span><span class="p">;</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello world&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;a=%d, b=%f, %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">msg</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="nx">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nx">a</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`a: </span><span class="si">${</span><span class="nx">a</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`obj: </span><span class="si">${</span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span><span class="si">}</span><span class="sb">`</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="13-loop">1.3 Loop<a class="headerlink" href="#13-loop" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="3:3"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Python</label><label for="__tabbed_3_2">Java</label><label for="__tabbed_3_3">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">lst</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>

<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

<span class="n">flag</span> <span class="o">=</span> <span class="kc">True</span><span class="p">:</span>
<span class="k">while</span> <span class="n">flag</span><span class="p">:</span>
    <span class="c1"># code below</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kt">char</span><span class="o">[]</span><span class="w"> </span><span class="n">c_arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;b&#39;</span><span class="p">};</span>
<span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">c_arr</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="n">c_arr</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">for</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">item</span><span class="p">:</span><span class="n">c_arr</span><span class="p">){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="p">}</span>

<span class="kt">boolean</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">True</span><span class="p">;</span>
<span class="k">while</span><span class="p">(</span><span class="n">flag</span><span class="p">){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="n">c_arr</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// for loop 1:</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">3</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Iteration number: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">i</span><span class="p">);</span><span class="w">  </span>
<span class="p">}</span>

<span class="c1">// for...in iterates over enumerable properties of an object</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Alice&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="mf">30</span><span class="w"> </span><span class="p">};</span><span class="w">  </span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="nx">key</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">person</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">key</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">person</span><span class="p">[</span><span class="nx">key</span><span class="p">]);</span><span class="w">  </span>
<span class="p">}</span>

<span class="c1">// for...of iterates values of iterable objects</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;red&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;green&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;blue&quot;</span><span class="p">];</span><span class="w">  </span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="nx">color</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">colors</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">color</span><span class="p">);</span><span class="w">  </span>
<span class="p">}</span>

<span class="c1">// while loop</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w">  </span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nx">count</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Count is: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">count</span><span class="p">);</span><span class="w">  </span>
<span class="w">    </span><span class="nx">count</span><span class="o">++</span><span class="p">;</span><span class="w">  </span>
<span class="p">}</span>

<span class="c1">// do...while</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w">  </span>
<span class="k">do</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Value of x: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">x</span><span class="p">);</span><span class="w">  </span>
<span class="w">    </span><span class="nx">x</span><span class="o">++</span><span class="p">;</span><span class="w">  </span>
<span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nx">x</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="14-define-function">1.4 Define function<a class="headerlink" href="#14-define-function" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="4:3"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Python</label><label for="__tabbed_4_2">Java</label><label for="__tabbed_4_3">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">helloworld</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;hello world: &quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>

<span class="n">hello</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot;helloworld: &quot;</span> <span class="o">+</span> <span class="n">x</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">Demo</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">fn</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">args</span><span class="p">){</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">args</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Runnable is a function that does not return anything</span>
<span class="n">Runnable</span><span class="w"> </span><span class="n">fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;helloworld&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Callable is a function that must return something</span>
<span class="n">Callable</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;helloworld&quot;</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// normal declare</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">helloworld</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Hello: </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// arrow function</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">helloworld</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Hello: </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="15-define-class">1.5 define class<a class="headerlink" href="#15-define-class" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Java</label><label for="__tabbed_5_2">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span> <span class="nc">A1</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">methodA1</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">A</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">methodA</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">A2</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">A1</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// this class can be instantiated from anywhere</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">A2</span><span class="p">(){}</span>

<span class="w">    </span><span class="c1">// this class can only be instantiated by classes within same package</span>
<span class="w">    </span><span class="n">A2</span><span class="p">(){}</span>

<span class="w">    </span><span class="c1">// this constructor can be accessed by class within same package or</span>
<span class="w">    </span><span class="c1">// by subclasses in any packages</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="nf">A2</span><span class="p">(){}</span>

<span class="w">    </span><span class="c1">// this constructor can only be accessed within this class, like its</span>
<span class="w">    </span><span class="c1">// static method</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="nf">A2</span><span class="p">(){}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">methodA</span><span class="p">{}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">methodA1</span><span class="p">{}</span>
<span class="p">}</span>

<span class="kd">final</span><span class="w"> </span><span class="kd">class</span> <span class="nc">B</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nx">A</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">a1</span><span class="p">,</span><span class="w"> </span><span class="nx">a2</span><span class="p">){</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">a1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">a1</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">a2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">a2</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nx">AA</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">A</span><span class="p">{</span>
<span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">a1</span><span class="p">,</span><span class="w"> </span><span class="nx">a2</span><span class="p">,</span><span class="w"> </span><span class="nx">a3</span><span class="p">){</span>
<span class="w">        </span><span class="k">super</span><span class="p">(</span><span class="nx">a1</span><span class="p">,</span><span class="w"> </span><span class="nx">a2</span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">a3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">a3</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="16-if-statement">1.6 if statement<a class="headerlink" href="#16-if-statement" title="Permanent link">&para;</a></h3>
<h3 id="17-operator">1.7 Operator<a class="headerlink" href="#17-operator" title="Permanent link">&para;</a></h3>
<p>arithmetic:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:1"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code> <span class="n">a</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span>
 <span class="n">a</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">-</span> <span class="mi">2</span>
 <span class="n">a</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="mi">2</span>
 <span class="n">a</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">2</span>
 <span class="n">a</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">//</span> <span class="mi">2</span>
 <span class="n">a</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">%</span> <span class="mi">2</span>
</code></pre></div>
</div>
</div>
</div>
<p>Comparison:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">Python</label><label for="__tabbed_7_2">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;helloworld&quot;</span><span class="p">}</span>
<span class="n">b</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;helloworld&quot;</span><span class="p">}</span>
<span class="n">a</span> <span class="o">==</span> <span class="n">b</span>
<span class="n">a</span> <span class="ow">is</span> <span class="n">b</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// == performs type coersion before comparison</span>
<span class="mf">0</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">false</span><span class="w">           </span><span class="c1">//return true</span>
<span class="mf">1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="w">             </span><span class="c1">//return true</span>
<span class="kc">null</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">undefined</span><span class="w">    </span><span class="c1">//return true</span>

<span class="c1">// === does not perform type coersion before comparison</span>
<span class="mf">0</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="kc">false</span><span class="w">          </span><span class="c1">// return false (different types)</span>
<span class="mf">1</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="w">            </span><span class="c1">// return false</span>
<span class="kc">null</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="kc">undefined</span><span class="w">   </span><span class="c1">// false</span>

<span class="c1">// Object.is: determine if two variables refer to the same object</span>
<span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">}</span>
<span class="nx">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">a</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">)</span><span class="w">      </span><span class="c1">// return true</span>
</code></pre></div>
</div>
</div>
</div>
<p>logic:
<div class="highlight"><pre><span></span><code><span class="n">x</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">y</span> <span class="o">=</span> <span class="kc">False</span>
<span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="k">else</span> <span class="mi">2</span>
<span class="n">a</span> <span class="ow">and</span> <span class="n">y</span>
<span class="n">x</span> <span class="ow">or</span> <span class="n">y</span>
</code></pre></div></p>
<p>bitwise:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:1"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">Python</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="mi">5</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">bin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>  <span class="c1"># print x&#39;s binary string</span>
<span class="mi">10</span> <span class="o">&amp;</span> <span class="mi">5</span>         <span class="c1"># 1010 AND 0101 = 0000</span>
<span class="mi">10</span> <span class="o">|</span> <span class="mi">5</span>         <span class="c1"># 1010 OR 0101 =  1111</span>
<span class="mi">3</span> <span class="o">^</span> <span class="mi">5</span>          <span class="c1"># 0011 XOR 0101 = 0110</span>
<span class="o">~</span><span class="n">a</span>             <span class="c1"># ~(0101) = 1010 = -6,  ~x = -(x + 1)</span>
<span class="n">a</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span>         <span class="c1"># (0101 &lt;&lt; 2) = 010100, (x &lt;&lt; a) = x * 2^a</span>
<span class="n">a</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span>         <span class="c1"># (0101 &gt;&gt; 2) = 01</span>
</code></pre></div>
</div>
</div>
</div>
<p>misc:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:1"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. ... is used to disassemble object or array</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">x1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nx">a1</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">a2</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">x2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{...</span><span class="nx">x1</span><span class="p">,</span><span class="w"> </span><span class="nx">a3</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">}</span><span class="w">  </span><span class="c1">// x2: {a1: 1, a2: true, a3: false}</span>

<span class="c1">// 2. usage of ...</span>
<span class="kd">let</span><span class="w"> </span><span class="p">[</span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="nx">rest</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="mf">4</span><span class="p">];</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">rest</span><span class="p">)</span><span class="w">            </span><span class="c1">// [2, 3, 4]</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">rest2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[...</span><span class="nx">rest</span><span class="p">]</span><span class="w">        </span><span class="c1">// rest2: [2, 3, 4]</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="2-collections">2. Collections<a class="headerlink" href="#2-collections" title="Permanent link">&para;</a></h2>
<h3 id="21-list">2.1 List<a class="headerlink" href="#21-list" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="10:3"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><input id="__tabbed_10_2" name="__tabbed_10" type="radio" /><input id="__tabbed_10_3" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="__tabbed_10_1">Python</label><label for="__tabbed_10_2">Java</label><label for="__tabbed_10_3">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">arr</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>         <span class="c1"># return 3</span>
<span class="n">arr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  <span class="c1"># arr becomes [1, 2, 3, 4]</span>
<span class="n">arr</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>      <span class="c1"># arr becomes [1, 2, 3]</span>

<span class="n">arr</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="c1"># arr becomes [1, 2, 5, 3, 4] </span>
<span class="mi">8</span> <span class="ow">in</span> <span class="n">arr</span>         <span class="c1"># return False</span>
<span class="n">arr</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>     <span class="c1"># return 2</span>
<span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>         <span class="c1"># returns the arr&#39;s length: 5</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span><span class="w">  </span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Arrays</span><span class="p">;</span><span class="w">  </span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="c1">// ArrayList</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">arr2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">));</span>

<span class="n">arr2</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span><span class="w">   </span><span class="c1">// arr: [1, 2, 3]</span>
<span class="n">arr2</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w">  </span><span class="c1">// arr: [1, 2, 4, 5]</span>

<span class="n">arr2</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="c1">// arr: [1, 4, 5]</span>
<span class="n">arr2</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Integer</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="c1">// arr: [4, 5]</span>

<span class="n">arr2</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Integer</span><span class="p">(</span><span class="mi">4</span><span class="p">));</span>
<span class="n">arr2</span><span class="p">.</span><span class="na">indexOf</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Integer</span><span class="p">(</span><span class="mi">4</span><span class="p">));</span>

<span class="n">arr2</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w">      </span><span class="c1">// gives 4</span>
<span class="n">arr2</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">    </span><span class="c1">// arr: [2, 5]</span>

<span class="c1">// Linkedlist: thread-unsafe</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">arr3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedList</span><span class="o">&lt;&gt;</span><span class="p">();</span>

<span class="c1">// CopyOnWriteArrayList: thread-safe, for frequent reads</span>
<span class="c1">// create copies when add, set, remove happen, so inefficient frequent write</span>
<span class="c1">// does not block each thread while reading</span>
<span class="c1">// Iterator can only read and each thread reads the version of the array  </span>
<span class="c1">// before modification happens when looping</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">arr4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CopyOnWriteArrayList</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span>
<span class="n">Iterator</span><span class="w"> </span><span class="n">itr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">iterator</span><span class="p">();</span>
<span class="n">arr4</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="c1">// this loop prints [1, 2] because itr is obtained before modified(add)</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">itr</span><span class="p">.</span><span class="na">hasNext</span><span class="p">())</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">itr</span><span class="p">.</span><span class="na">next</span><span class="p">());</span><span class="w"> </span>
<span class="c1">// this loop prints [1, 2, 5]</span>
<span class="n">Iterator</span><span class="w"> </span><span class="n">itr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">iterator</span><span class="p">();</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">itr</span><span class="p">.</span><span class="na">hasNext</span><span class="p">())</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">itr</span><span class="p">.</span><span class="na">next</span><span class="p">());</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">]</span>
<span class="nx">arr</span><span class="p">[</span><span class="mf">2</span><span class="p">]</span><span class="w">                 </span><span class="c1">// return 3</span>
<span class="nx">arr</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mf">4</span><span class="p">)</span><span class="w">            </span><span class="c1">// arr becomes [1,2,3, 4]</span>
<span class="nx">arr</span><span class="p">.</span><span class="nx">pop</span><span class="p">(</span><span class="mf">2</span><span class="p">)</span><span class="w">             </span><span class="c1">// arr becomes [1, 2, 4]</span>
<span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="w">             </span><span class="c1">// returns 3</span>

<span class="mf">4</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">arr</span><span class="w">               </span><span class="c1">// returns True</span>
<span class="c1">// splice(start, deleteCount, item1, item2, ...)</span>
<span class="c1">// splice deletes number of elements equal to deleteCount from arr[start]</span>
<span class="c1">// inclusively, then add item1, item2, ... before the original arr[start]</span>
<span class="c1">// position, then return an array containing deleted items</span>
<span class="nx">arr</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w">             </span><span class="c1">// arr becomes [1, 4]</span>
<span class="nx">arr</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="mf">4</span><span class="p">,</span><span class="w"> </span><span class="mf">5</span><span class="p">,</span><span class="w"> </span><span class="mf">6</span><span class="p">)</span><span class="w"> </span><span class="c1">// arr becomes [1, 3, 4, 5, 6, 4]</span>
<span class="nx">arr</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">5</span><span class="p">)</span><span class="w">         </span><span class="c1">// arr becomes [1, 5, 4, 5, 6, 4]</span>
<span class="c1">// find method</span>
<span class="c1">// Map</span>

<span class="c1">// Reduce</span>

<span class="c1">// filter</span>

<span class="c1">// forEach</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="22-set">2.2 Set<a class="headerlink" href="#22-set" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="11:3"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><input id="__tabbed_11_2" name="__tabbed_11" type="radio" /><input id="__tabbed_11_3" name="__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="__tabbed_11_1">Python</label><label for="__tabbed_11_2">Java</label><label for="__tabbed_11_3">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">my_set</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;banana&quot;</span><span class="p">}</span> 
<span class="n">my_set2</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;grape&quot;</span><span class="p">}</span>
<span class="n">my_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;cherry&quot;</span><span class="p">)</span> <span class="c1"># mySet: {&quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot;}</span>
<span class="n">my_set</span><span class="o">.</span><span class="n">update</span><span class="p">([</span><span class="s2">&quot;orange&quot;</span><span class="p">,</span> <span class="s2">&quot;mango&quot;</span><span class="p">,</span> <span class="s2">&quot;apple&quot;</span><span class="p">])</span> 
<span class="c1"># mySet: {&quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot;, &quot;orange&quot;, &quot;mango&quot;}</span>
<span class="n">union_set</span> <span class="o">=</span> <span class="n">my_set</span><span class="o">.</span><span class="n">union</span><span class="p">({</span><span class="s2">&quot;pear&quot;</span><span class="p">})</span>
<span class="c1"># union_set: {&quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot;, &quot;orange&quot;, &quot;mango&quot;, &quot;pear&quot;}</span>
<span class="n">intersect_set</span> <span class="o">=</span> <span class="n">my_set</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">my_set2</span><span class="p">)</span>
<span class="c1"># intersect_set: {&quot;apple&quot;}</span>
<span class="n">diff_set</span> <span class="o">=</span> <span class="n">my_set2</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">my_set</span><span class="p">)</span>
<span class="c1"># diff_set: {&quot;grape&quot;}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// hashset: not thread safe</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashSet</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">();</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashSet</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashSet</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span>

<span class="n">a</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="w">                              </span><span class="c1">// a: {10}</span>
<span class="n">a</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w">                          </span><span class="c1">// return true</span>
<span class="n">a</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w">                            </span><span class="c1">// a: {}</span>
<span class="n">a</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w">                                </span><span class="c1">// 0</span>
<span class="c1">// b becomes the intersection of b and c, b: {3}</span>
<span class="kt">boolean</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="na">retainAll</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="c1">// b becomes the union of b and c, b: {3, 4, 5}</span>
<span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="na">addAll</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="c1">// b becomes b - c, b: {}</span>
<span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="na">removeAll</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>

<span class="c1">// Treest: sorted set but not thread-safe</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">treeSet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TreeSet</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w"> </span><span class="c1">//sort in ascending order by default</span>
<span class="n">treeSet</span><span class="p">.</span><span class="na">lower</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w">  </span><span class="c1">// max element &lt; k, or null if non-exist</span>
<span class="n">treeSet</span><span class="p">.</span><span class="na">higher</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w"> </span><span class="c1">// min element &gt; k, or null if non-exist</span>
<span class="n">treeSet</span><span class="p">.</span><span class="na">ceiling</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w"> </span><span class="c1">// max element &lt;= k, or null if non-exist</span>
<span class="n">treeSet</span><span class="p">.</span><span class="na">floor</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w">   </span><span class="c1">// min element &gt;= k, or null if non-exist</span>

<span class="c1">// ConcurrentSkipListSet: sorted treeset, thread-safe &amp; lock-free</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">treeSet2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ConcurrentSkipListSet</span><span class="o">&lt;&gt;</span><span class="p">();</span>

<span class="c1">// CopyOnWriteArraySet</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CopyOnWriteArraySet</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">Iterator</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="na">iterator</span><span class="p">();</span>
<span class="k">while</span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="na">hasNext</span><span class="p">()){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="na">next</span><span class="p">());</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Set</span><span class="p">()</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Set</span><span class="p">([</span><span class="mf">2</span><span class="p">])</span><span class="w">    </span>

<span class="nx">a</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span><span class="w">           </span><span class="c1">// a becomes {1, 2}</span>
<span class="mf">3</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">a</span><span class="w">             </span><span class="c1">// return False</span>
<span class="nx">a</span><span class="p">.</span><span class="ow">delete</span><span class="p">(</span><span class="mf">2</span><span class="p">)</span><span class="w">        </span><span class="c1">// a becomes {1}</span>

<span class="nx">b</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span>
<span class="nx">b</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">unionSet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">a</span><span class="p">.</span><span class="nx">union</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="w">         </span><span class="c1">//unionSet: {1, 3}</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">intersect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">a</span><span class="p">.</span><span class="nx">intersection</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="w"> </span><span class="c1">//intersect: {1}</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">diff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">b</span><span class="p">.</span><span class="nx">difference</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="w">        </span><span class="c1">// diff: {3}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="23-map">2.3 Map<a class="headerlink" href="#23-map" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="12:2"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio" /><input id="__tabbed_12_2" name="__tabbed_12" type="radio" /><div class="tabbed-labels"><label for="__tabbed_12_1">Java</label><label for="__tabbed_12_2">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. HashMap: not thread-safe</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">Character</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;</span><span class="n">Character</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">();</span>
<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="sc">&#39;c&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w">       </span><span class="c1">// map: {&#39;c&#39;: 1}</span>
<span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="sc">&#39;b&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">        </span><span class="c1">// map: {&#39;b&#39;: 2, &#39;c&#39;: 1}</span>
<span class="n">map</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="sc">&#39;c&#39;</span><span class="p">)</span><span class="w">           </span><span class="c1">// return 1</span>
<span class="n">map</span><span class="p">.</span><span class="na">getOrDefault</span><span class="p">(</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w">  </span><span class="c1">// return -1</span>
<span class="n">map</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="sc">&#39;c&#39;</span><span class="p">)</span><span class="w">            </span><span class="c1">// map: {&#39;b&#39;: 2}</span>
<span class="n">map</span><span class="p">.</span><span class="na">containsKey</span><span class="p">(</span><span class="sc">&#39;c&#39;</span><span class="p">)</span><span class="w">       </span><span class="c1">// false</span>
<span class="n">map</span><span class="p">.</span><span class="na">keySet</span><span class="p">()</span><span class="w">               </span><span class="c1">// {&#39;b&#39;}</span>
<span class="k">for</span><span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="n">Character</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">map</span><span class="p">.</span><span class="na">entrySet</span><span class="p">()){</span><span class="w">  </span>
<span class="w"> </span><span class="c1">// traverse key-value pair</span>
<span class="w">    </span><span class="n">entry</span><span class="p">.</span><span class="na">getKey</span><span class="p">();</span>
<span class="w">    </span><span class="n">entry</span><span class="p">.</span><span class="na">getValue</span><span class="p">();</span>
<span class="p">}</span>
<span class="n">map</span><span class="p">.</span><span class="na">forEach</span><span class="p">((</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;key: &quot;</span><span class="o">+</span><span class="n">k</span><span class="o">+</span><span class="s">&quot; value:&quot;</span><span class="o">+</span><span class="n">v</span><span class="p">));</span>
<span class="n">map</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w">                </span><span class="c1">// return 1</span>

<span class="c1">// 2. Hashtable: locks entire table during any operations</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">Character</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Hashtable</span><span class="o">&lt;&gt;</span><span class="p">()</span>

<span class="c1">// 3. ConcurrentHashMap: thread-safe without locking the entire table</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">concurrentMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ConcurrentHashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>

<span class="c1">// 4. TreeMap:  sortedmap based on red-black tree</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">Character</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">treeMap1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TreeMap</span><span class="p">();</span>
<span class="c1">// store the key in reverse order</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">Character</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">treeMap2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TreeMap</span><span class="p">(</span><span class="n">Collections</span><span class="p">.</span><span class="na">reverseOrder</span><span class="p">());</span>
<span class="n">treeMap</span><span class="p">.</span><span class="na">lowerKey</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w">           </span><span class="c1">// return max key &lt; k</span>
<span class="n">treeMap</span><span class="p">.</span><span class="na">higherKey</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w">          </span><span class="c1">// return min key &gt; k</span>
<span class="n">treeMap</span><span class="p">.</span><span class="na">ceilingKey</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w">            </span><span class="c1">// return max key &lt;= k</span>
<span class="n">treeMap</span><span class="p">.</span><span class="na">floorKey</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w">           </span><span class="c1">// return min key &gt;= k</span>
<span class="c1">// return portion of treeMap with keys &lt; k</span>
<span class="n">SortedMap</span><span class="o">&lt;</span><span class="n">K</span><span class="p">,</span><span class="n">V</span><span class="o">&gt;</span><span class="w"> </span><span class="n">portionOfTreeMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">treeMap</span><span class="p">.</span><span class="na">headMap</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w"> </span>
<span class="c1">// return portion of treeMap with keys &gt; k</span>
<span class="n">SortedMap</span><span class="o">&lt;</span><span class="n">K</span><span class="p">,</span><span class="n">V</span><span class="o">&gt;</span><span class="w"> </span><span class="n">portionOfTreeMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">treeMap</span><span class="p">.</span><span class="na">tailMap</span><span class="p">(</span><span class="n">k</span><span class="p">);</span>

<span class="c1">// 5. ConcurrentSkipListMap: sorted tree map that is thread-safe &amp; lock-free</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">Character</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">treeMap3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ConcurrentSkipListMap</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// Map:</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">myMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Map</span><span class="p">()</span>
<span class="nx">myMap</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span><span class="w">            </span><span class="c1">// return False because key &quot;a&quot; does not exist</span>
<span class="nx">myMap</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w">         </span><span class="c1">// myMap becomes {&quot;a&quot;: 1}</span>
<span class="nx">myMap</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span><span class="w">            </span><span class="c1">// return 1</span>
<span class="nx">myMap</span><span class="p">.</span><span class="ow">delete</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span><span class="w">         </span><span class="c1">// myMap becomes</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="24-string">2.4 String<a class="headerlink" href="#24-string" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="13:3"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio" /><input id="__tabbed_13_2" name="__tabbed_13" type="radio" /><input id="__tabbed_13_3" name="__tabbed_13" type="radio" /><div class="tabbed-labels"><label for="__tabbed_13_1">Python</label><label for="__tabbed_13_2">Java</label><label for="__tabbed_13_3">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># immutale string</span>
<span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;abc&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// String class: immutable strings</span>
<span class="n">String</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abcab&quot;</span><span class="p">;</span>

<span class="n">s</span><span class="p">.</span><span class="na">charAt</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w">          </span><span class="c1">// gives &#39;b&#39;</span>
<span class="n">s</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="s">&quot;bcd&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">// return -1 because &quot;a&quot; &lt; &quot;b&quot; and differ by 1</span>
<span class="n">s</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="s">&quot;cd&quot;</span><span class="p">);</span><span class="w">    </span><span class="c1">// return -2 because &quot;a&quot; &lt; &quot;c&quot; and differ by 2</span>
<span class="n">s</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="s">&quot;bc&quot;</span><span class="p">);</span><span class="w">     </span><span class="c1">// return True</span>
<span class="n">s</span><span class="p">.</span><span class="na">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">   </span><span class="c1">// return &quot;ab&quot;</span>
<span class="n">s</span><span class="p">.</span><span class="na">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w">       </span><span class="c1">// return &quot;bca&quot;</span>
<span class="n">s</span><span class="p">.</span><span class="na">indexOf</span><span class="p">(</span><span class="s">&quot;ab&quot;</span><span class="p">);</span><span class="w">      </span><span class="c1">// 0, return the location of first substring &quot;ab&quot; in s</span>
<span class="n">s</span><span class="p">.</span><span class="na">indexOf</span><span class="p">(</span><span class="s">&quot;ab&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w">   </span><span class="c1">// 3, return the location of &quot;ab&quot; after s[2] inclusive</span>
<span class="c1">// Return &quot;ttctt&quot;, replace all occurrences of &quot;ab&quot; with &quot;tt&quot;</span>
<span class="n">s</span><span class="p">.</span><span class="na">replace</span><span class="p">(</span><span class="s">&quot;ab&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;tt&quot;</span><span class="p">);</span><span class="w">  </span>
<span class="c1">// Return char array: {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;a&#39;, &#39;b&#39;}</span>
<span class="kt">char</span><span class="o">[]</span><span class="w"> </span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="na">toCharArray</span><span class="p">();</span><span class="w">       </span>
<span class="c1">// Return &quot;a*b*c&quot;, join the list of &lt;String&gt; into one string connected by</span>
<span class="c1">// delimiter</span>
<span class="n">String</span><span class="p">.</span><span class="na">join</span><span class="p">(</span><span class="s">&quot;*&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;c&quot;</span><span class="p">)));</span>
<span class="c1">// Return True iff a string character is alnum</span>
<span class="n">Character</span><span class="p">.</span><span class="na">isLetterOrDigit</span><span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="na">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>


<span class="c1">// StringBuffer class: mutable &amp; thread-safe</span>
<span class="n">StringBuffer</span><span class="w"> </span><span class="n">sb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">StringBuffer</span><span class="p">();</span>
<span class="n">sb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">StringBuffer</span><span class="p">(</span><span class="s">&quot;abced&quot;</span><span class="p">);</span>
<span class="n">sb</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="s">&quot;ab&quot;</span><span class="p">);</span><span class="w">       </span><span class="c1">// sb becomes &quot;abcedab&quot;</span>
<span class="n">sb</span><span class="p">.</span><span class="na">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;zx&quot;</span><span class="p">);</span><span class="w">    </span><span class="c1">// sb becomes &quot;zxabceddab&quot;</span>
<span class="n">sb</span><span class="p">.</span><span class="na">deleteCharAt</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w">    </span><span class="c1">// sb becomes &quot;xabceddab&quot;</span>
<span class="n">sb</span><span class="p">.</span><span class="na">setCharAt</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;c&#39;</span><span class="p">)</span><span class="w">   </span><span class="c1">// sb becomes &quot;cabceddab&quot;</span>
<span class="n">sb</span><span class="p">.</span><span class="na">reverse</span><span class="p">()</span><span class="w">           </span><span class="c1">// sb becomes its reverse</span>

<span class="c1">// StringBuilder class: mutable, fast but thread-unsafe</span>
<span class="c1">// has same methods and use as StringBuffer</span>

<span class="c1">// CharSequence interface: implemented by String, StringBuffer, StringBuilder; seen in the parameter type of replace and some methods</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nx">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;abc&quot;</span>

<span class="nx">s</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">2</span><span class="p">)</span><span class="w">        </span><span class="c1">// returns[0:2] which is &quot;ab&quot;</span>
<span class="nx">s</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;bc&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w">  </span><span class="c1">// return 1</span>
<span class="nx">s</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s2">&quot;ab&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="c1">// return True</span>
<span class="nx">s</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;bcd&quot;</span><span class="w">           </span><span class="c1">// return &quot;abcbcd&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="25-multi-set">2.5 Multi-set<a class="headerlink" href="#25-multi-set" title="Permanent link">&para;</a></h3>
<h2 id="3-files-io">3. Files, I/O<a class="headerlink" href="#3-files-io" title="Permanent link">&para;</a></h2>
<h3 id="31-read-write-api">3.1 Read &amp; Write API<a class="headerlink" href="#31-read-write-api" title="Permanent link">&para;</a></h3>
<p>These APIs are commonly used to read from local persistence:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="14:2"><input checked="checked" id="__tabbed_14_1" name="__tabbed_14" type="radio" /><input id="__tabbed_14_2" name="__tabbed_14" type="radio" /><div class="tabbed-labels"><label for="__tabbed_14_1">Java</label><label for="__tabbed_14_2">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// IO package: blocks in socket I/O and file I/O</span>
<span class="c1">// Read:</span>
<span class="c1">// 1. read text file character by character</span>
<span class="n">String</span><span class="w"> </span><span class="n">filePath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;hello.txt&quot;</span>
<span class="n">BufferedReader</span><span class="w"> </span><span class="n">reader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BufferedReader</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">FileReader</span><span class="p">(</span><span class="n">filePath</span><span class="p">));</span>
<span class="n">reader</span><span class="p">.</span><span class="na">readline</span><span class="p">()</span><span class="w">     </span><span class="c1">// returns either a string or null</span>
<span class="c1">// 2. read binary file bytes by bytes</span>
<span class="n">FileInputStream</span><span class="w"> </span><span class="n">fis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FileInputStream</span><span class="p">(</span><span class="s">&quot;data.bin&quot;</span><span class="p">);</span>
<span class="n">BufferedInputStream</span><span class="w"> </span><span class="n">bis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BufferedInputStream</span><span class="p">(</span><span class="n">fis</span><span class="p">);</span><span class="w"> </span><span class="c1">// improve perform</span>
<span class="n">DataInputStream</span><span class="w"> </span><span class="n">dis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DataInputStream</span><span class="p">(</span><span class="n">bis</span><span class="p">);</span><span class="w"> </span><span class="c1">// can read types</span>
<span class="kt">int</span><span class="w"> </span><span class="n">intValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dis</span><span class="p">.</span><span class="na">readInt</span><span class="p">();</span><span class="w">  </span>
<span class="kt">double</span><span class="w"> </span><span class="n">doubleValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dis</span><span class="p">.</span><span class="na">readDouble</span><span class="p">();</span><span class="w">  </span>
<span class="n">String</span><span class="w"> </span><span class="n">stringValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dis</span><span class="p">.</span><span class="na">readUTF</span><span class="p">();</span>
<span class="c1">// 3. read entire contents of a file</span>
<span class="c1">// readAllLines from NIO is a wrapper of BufferReader from IO package</span>
<span class="c1">// and do not block, this is not the core of nio package</span>
<span class="n">Path</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Paths</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;myFile.txt&quot;</span><span class="p">);</span>
<span class="kt">byte</span><span class="o">[]</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Some contents&quot;</span><span class="p">.</span><span class="na">getBytes</span><span class="p">()</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">lines</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Files</span><span class="p">.</span><span class="na">readAllLines</span><span class="p">(</span><span class="n">path</span><span class="p">);</span>
<span class="c1">// write:</span>
<span class="c1">// 1. write text file </span>
<span class="n">BufferedWriter</span><span class="w"> </span><span class="n">writer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BufferedWriter</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">FileWriter</span><span class="p">(</span><span class="n">filePath</span><span class="p">));</span>
<span class="n">String</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello, Java File I/O!\nThis is a new line.&quot;</span><span class="p">;</span>
<span class="n">writer</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">content</span><span class="p">);</span>
<span class="c1">// 2. write binary file</span>
<span class="n">FileOutputStream</span><span class="w"> </span><span class="n">fos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FileOutputStream</span><span class="p">(</span><span class="s">&quot;data.bin&quot;</span><span class="p">);</span>
<span class="n">DataOutputStream</span><span class="w"> </span><span class="n">dos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DataOutputStream</span><span class="p">(</span><span class="n">fos</span><span class="p">);</span>
<span class="n">dos</span><span class="p">.</span><span class="na">writeInt</span><span class="p">(</span><span class="mi">12345</span><span class="p">);</span>
<span class="n">dos</span><span class="p">.</span><span class="na">writeDouble</span><span class="p">(</span><span class="mf">3.14159</span><span class="p">);</span>
<span class="c1">// 3. write bytes using a method from nio package</span>
<span class="c1">// truncate existing contents and append to existing content</span>
<span class="n">Path</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Paths</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;myFile.txt&quot;</span><span class="p">);</span>
<span class="kt">byte</span><span class="o">[]</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Some contents&quot;</span><span class="p">.</span><span class="na">getBytes</span><span class="p">()</span>
<span class="n">Files</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="w"> </span><span class="n">bytes</span><span class="p">,</span><span class="w"> </span><span class="n">StandardOpenOption</span><span class="p">.</span><span class="na">CREATE</span><span class="p">,</span><span class="w"> </span><span class="err">\</span>
<span class="w">                         </span><span class="n">StandardOpenOption</span><span class="p">.</span><span class="na">TRUNCATE_EXISTING</span><span class="p">);</span>
<span class="n">Files</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">filePath</span><span class="p">,</span><span class="w"> </span><span class="n">bytes</span><span class="p">,</span><span class="w"> </span><span class="n">StandardOpenOption</span><span class="p">.</span><span class="na">APPEND</span><span class="p">);</span>

<span class="c1">// NIO: does not block in socket I/O but blocks in file I/O</span>
<span class="c1">// FileChannel: operate on byte level and can read/write contents into </span>
<span class="c1">//              buffer, supporting direct memory access and reduce copying</span>
<span class="n">FileChannel</span><span class="w"> </span><span class="n">readChannel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FileChannel</span><span class="p">.</span><span class="na">open</span><span class="p">(</span><span class="s">&quot;myFile.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="err">\</span>
<span class="w">                        </span><span class="n">StandardOpenOption</span><span class="p">.</span><span class="na">READ</span><span class="p">);</span>
<span class="n">FileChannel</span><span class="w"> </span><span class="n">writeChannel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FileChannel</span><span class="p">.</span><span class="na">open</span><span class="p">(</span><span class="s">&quot;myFile.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">StandardOpenOption</span><span class="p">.</span><span class="na">CREATE</span><span class="p">,</span><span class="w"> </span><span class="n">StandardOpenOption</span><span class="p">.</span><span class="na">WRITE</span><span class="p">);</span>
<span class="n">ByteBuffer</span><span class="w"> </span><span class="n">buffer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="p">.</span><span class="na">allocate</span><span class="p">(</span><span class="mi">1024</span><span class="p">);</span>
<span class="kt">int</span><span class="w"> </span><span class="n">bytesRead</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">readChannel</span><span class="p">.</span><span class="na">read</span><span class="p">(</span><span class="n">buffer</span><span class="p">);</span>
<span class="n">writeChannel</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">buffer</span><span class="p">);</span>

<span class="c1">// AIO: does not block in socket I/O or file I/O</span>
<span class="c1">// using AIO typically means using java.nio.channels.AsynchronousFileChannel</span>
<span class="n">Path</span><span class="w"> </span><span class="n">filePath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Paths</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;myFile.txt&quot;</span><span class="p">);</span>
<span class="n">AsynchronousFileChannel</span><span class="w"> </span><span class="n">fileChannel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AsynchronousFileChannel</span><span class="p">.</span><span class="na">open</span><span class="p">(</span><span class="err">\</span>
<span class="w"> </span><span class="n">filePath</span><span class="p">,</span><span class="w"> </span><span class="n">StandardOpenOption</span><span class="p">.</span><span class="na">READ</span><span class="p">,</span><span class="w"> </span><span class="n">StandardOpenOption</span><span class="p">.</span><span class="na">WRITE</span><span class="p">);</span>
<span class="n">ByteBuffer</span><span class="w"> </span><span class="n">buffer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="p">.</span><span class="na">allocate</span><span class="p">(</span><span class="mi">1024</span><span class="p">);</span><span class="w">  </span>
<span class="n">Future</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">readResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fileChannel</span><span class="p">.</span><span class="na">read</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CompletionHandler</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="nd">@Override</span><span class="w">  </span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">completed</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">bytesRead</span><span class="p">,</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="w"> </span><span class="n">attachment</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="c1">// Handle successful read  </span>
<span class="w">    </span><span class="n">attachment</span><span class="p">.</span><span class="na">flip</span><span class="p">();</span><span class="w"> </span><span class="c1">// Prepare for reading from the buffer  </span>
<span class="w">    </span><span class="c1">// ... process data ...  </span>
<span class="w">    </span><span class="p">}</span><span class="w">  </span>

<span class="w">    </span><span class="nd">@Override</span><span class="w">  </span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">failed</span><span class="p">(</span><span class="n">Throwable</span><span class="w"> </span><span class="n">exc</span><span class="p">,</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="w"> </span><span class="n">attachment</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="c1">// Handle error  </span>
<span class="w">    </span><span class="p">}</span><span class="w">  </span>
<span class="p">});</span>

<span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// get() blocks until read completes</span>
<span class="w">    </span><span class="n">Integer</span><span class="w"> </span><span class="n">bytesRead</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">readResult</span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w">  </span>
<span class="w">    </span><span class="n">buffer</span><span class="p">.</span><span class="na">flip</span><span class="p">();</span><span class="w">  </span>
<span class="w">    </span><span class="c1">// ... process data ...  </span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ExecutionException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="c1">// Handle error  </span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// ES syntax</span>
<span class="c1">// asynchronous read &amp; write</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">readFile</span><span class="p">,</span><span class="w"> </span><span class="nx">writeFile</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;node:fs/promises&#39;</span><span class="p">;</span><span class="w">  </span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">asyncFileExample</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">readFile</span><span class="p">(</span><span class="s1">&#39;./myFile.txt&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">encoding</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;utf8&#39;</span><span class="w"> </span><span class="p">});</span><span class="w">  </span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;File content:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">);</span><span class="w"> </span>

<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;This is some content to write to the file.&#39;</span><span class="p">;</span><span class="w"> </span>
<span class="w">        </span><span class="k">await</span><span class="w"> </span><span class="nx">writeFile</span><span class="p">(</span><span class="s1">&#39;./myNewFile.txt&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">content</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">encoding</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;utf8&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;File written successfully!&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Error:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">);</span><span class="w">  </span>
<span class="w">    </span><span class="p">}</span><span class="w">  </span>
<span class="p">}</span>

<span class="c1">// synchronous read &amp; write</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">readFileSync</span><span class="p">,</span><span class="w"> </span><span class="nx">writeFileSync</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;node:fs&#39;</span><span class="p">;</span>
<span class="k">try</span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">&#39;myFile.txt&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;utf-8&#39;</span><span class="p">);</span><span class="w">  </span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">content</span><span class="p">);</span>

<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">fs</span><span class="p">.</span><span class="nx">writeFile</span><span class="p">(</span><span class="nx">filePath</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">);</span><span class="w">  </span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;File written successfully!&#39;</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// readStream, writeStream</span>
<span class="c1">// Similar to read/write file line by line instead of their entire contents</span>
<span class="c1">// into memory and is memory-eficient</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">createReadStream</span><span class="p">,</span><span class="w"> </span><span class="nx">createWriteStream</span><span class="p">}</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">readstream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createReadStream</span><span class="p">(</span><span class="s1">&#39;large_file.txt&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;utf8&#39;</span><span class="p">);</span>
<span class="nx">readstream</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">chunk</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// fn is a some kind of function that process each chunk</span>
<span class="w">    </span><span class="c1">// for example, console.log</span>
<span class="w">    </span><span class="nx">fn</span><span class="p">(</span><span class="nx">chunk</span><span class="p">)</span>
<span class="p">})</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">writeStream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createWriteStream</span><span class="p">(</span><span class="s1">&#39;output.txt&#39;</span><span class="p">);</span>
<span class="nx">writeStream</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;This is the first line of text.\n&#39;</span><span class="p">);</span><span class="w">  </span>
<span class="nx">writeStream</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;This is the second line.\n&#39;</span><span class="p">);</span>

<span class="nx">readstream</span><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">writeStream</span><span class="p">)</span>

<span class="nx">writeStream</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="s1">&#39;This is the final line.&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="32-network-stream">3.2 Network Stream<a class="headerlink" href="#32-network-stream" title="Permanent link">&para;</a></h3>
<p>Stream is commonly used to read something from network, while the above section is commonly used to read sth from local persistence</p>
<div class="tabbed-set tabbed-alternate" data-tabs="15:2"><input checked="checked" id="__tabbed_15_1" name="__tabbed_15" type="radio" /><input id="__tabbed_15_2" name="__tabbed_15" type="radio" /><div class="tabbed-labels"><label for="__tabbed_15_1">Java</label><label for="__tabbed_15_2">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">URL</span><span class="w"> </span><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">URL</span><span class="p">(</span><span class="s">&quot;http://www.example.com/somefile.txt&quot;</span><span class="p">);</span>
<span class="c1">// different from above FileInputStream</span>
<span class="n">InputStream</span><span class="w"> </span><span class="n">inputStream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">url</span><span class="p">.</span><span class="na">openStream</span><span class="p">();</span>
<span class="n">BufferedReader</span><span class="w"> </span><span class="n">reader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BufferedReader</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">InputStreamReader</span><span class="p">(</span><span class="n">inputStream</span><span class="p">));</span>
<span class="n">reader</span><span class="p">.</span><span class="na">readline</span><span class="p">();</span><span class="w">  </span><span class="c1">// return string or null</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// ReadableStream: different from readStream above</span>

<span class="c1">//customized ReadableStream</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">myReadableStream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ReadableStream</span><span class="p">({</span>
<span class="w">    </span><span class="c1">// This function is called when the stream is first created  </span>
<span class="w">    </span><span class="c1">// Enqueue data chunks to be read</span>
<span class="w">    </span><span class="nx">start</span><span class="p">(</span><span class="nx">controller</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">        </span><span class="nx">controller</span><span class="p">.</span><span class="nx">enqueue</span><span class="p">(</span><span class="s1">&#39;Hello, &#39;</span><span class="p">);</span><span class="w">  </span>
<span class="w">        </span><span class="nx">controller</span><span class="p">.</span><span class="nx">enqueue</span><span class="p">(</span><span class="s1">&#39;world!&#39;</span><span class="p">);</span><span class="w">  </span>
<span class="w">        </span><span class="c1">// Close the stream when all data has been enqueued  </span>
<span class="w">        </span><span class="nx">controller</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span><span class="w">  </span>
<span class="w">    </span><span class="p">},</span><span class="w">   </span>
<span class="p">});</span>

<span class="c1">// common way of obtaining readableStream</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">myReadableStream2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="s2">&quot;www.example.com&quot;</span><span class="p">)).</span><span class="nx">body</span>

<span class="c1">// how to use readable Stream:</span>
<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">readStream</span><span class="p">(</span><span class="nx">myReadableStream</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">reader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">myReadableStream</span><span class="p">.</span><span class="nx">getReader</span><span class="p">();</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">result</span><span class="p">;</span><span class="w">  </span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">accumulatedData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span><span class="w">  </span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">result</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="nx">result</span><span class="p">.</span><span class="nx">done</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">        </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">reader</span><span class="p">.</span><span class="nx">read</span><span class="p">();</span><span class="w">  </span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">result</span><span class="p">.</span><span class="nx">done</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">            </span><span class="nx">accumulatedData</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span><span class="w">  </span>
<span class="w">        </span><span class="p">}</span><span class="w">  </span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// create WritableStream to send content to a destination</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">writableStream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">WritableStream</span><span class="p">({</span><span class="w">  </span>
<span class="w">    </span><span class="nx">write</span><span class="p">(</span><span class="nx">chunk</span><span class="p">,</span><span class="w"> </span><span class="nx">controller</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="c1">// we use the error function from the controller</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">            </span><span class="c1">// Simulate an operation that might fail  </span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0.1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s1">&#39;Simulated write error!&#39;</span><span class="p">);</span><span class="w">  </span>
<span class="w">            </span><span class="p">}</span><span class="w">  </span>
<span class="w">            </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Successfully wrote:&#39;</span><span class="p">,</span><span class="nx">chunk</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span>
<span class="w">        </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">            </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Error during write:&#39;</span><span class="p">,</span><span class="nx">err</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span><span class="w"> </span>
<span class="w">            </span><span class="c1">// Signal the error to the stream </span>
<span class="w">            </span><span class="nx">controller</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span><span class="w">   </span>
<span class="w">        </span><span class="p">}</span><span class="w">  </span>
<span class="w">    </span><span class="p">},</span><span class="w">  </span>
<span class="p">});</span><span class="w">  </span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">writeData</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">writer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">writableStream</span><span class="p">.</span><span class="nx">getWriter</span><span class="p">();</span><span class="w">   </span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">5</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">            </span><span class="k">await</span><span class="w"> </span><span class="nx">writer</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="sb">`Data chunk </span><span class="si">${</span><span class="nx">i</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span><span class="w">  </span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">            </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Stream encountered an error&#39;</span><span class="p">);</span><span class="w">  </span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span><span class="w">  </span>
<span class="w">        </span><span class="p">}</span><span class="w">  </span>
<span class="w">    </span><span class="p">}</span><span class="w">  </span>
<span class="w">    </span><span class="nx">writer</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span><span class="w">  </span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="33-socket">3.3 Socket<a class="headerlink" href="#33-socket" title="Permanent link">&para;</a></h3>
<p>Server:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="16:1"><input checked="checked" id="__tabbed_16_1" name="__tabbed_16" type="radio" /><div class="tabbed-labels"><label for="__tabbed_16_1">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// NIO socket I/O:</span>
<span class="c1">// SelectableChannel(not FileChannel) subclasses in NIO packages are non-</span>
<span class="c1">// blocking and can be multiplexed by Selector class(epoll-based server).</span>
<span class="c1">// SelectableChannel subclasses: SocketChannel, ServerSocketChannel, </span>
<span class="c1">// DatagramChannel, Pipe.SourceChannel, Pipe.SinkChannel</span>
<span class="c1">// Selectors class</span>
<span class="c1">// Buffers class</span>
<span class="n">Selector</span><span class="w"> </span><span class="n">selector</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Selector</span><span class="p">.</span><span class="na">open</span><span class="p">();</span>
<span class="n">ServerSocketChannel</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ServerSocketChannel</span><span class="p">.</span><span class="na">open</span><span class="p">();</span>
<span class="n">server</span><span class="p">.</span><span class="na">configureBlocking</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="n">server</span><span class="p">.</span><span class="na">bind</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">InetSocketAddress</span><span class="p">(</span><span class="mi">8080</span><span class="p">));</span>
<span class="n">server</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">selector</span><span class="p">,</span><span class="w"> </span><span class="n">SelectionKey</span><span class="p">.</span><span class="na">OP_ACCEPT</span><span class="p">);</span>

<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">selector</span><span class="p">.</span><span class="na">select</span><span class="p">();</span><span class="w"> </span><span class="c1">// uses epoll internally on Linux</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">SelectionKey</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">selector</span><span class="p">.</span><span class="na">selectedKeys</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">key</span><span class="p">.</span><span class="na">isAcceptable</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">SocketChannel</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">server</span><span class="p">.</span><span class="na">accept</span><span class="p">();</span>
<span class="w">            </span><span class="n">client</span><span class="p">.</span><span class="na">configureBlocking</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">            </span><span class="n">client</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">selector</span><span class="p">,</span><span class="w"> </span><span class="n">SelectionKey</span><span class="p">.</span><span class="na">OP_READ</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">key</span><span class="p">.</span><span class="na">isReadable</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">SocketChannel</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">SocketChannel</span><span class="p">)</span><span class="w"> </span><span class="n">key</span><span class="p">.</span><span class="na">channel</span><span class="p">();</span>
<span class="w">            </span><span class="n">ByteBuffer</span><span class="w"> </span><span class="n">buffer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="p">.</span><span class="na">allocate</span><span class="p">(</span><span class="mi">1024</span><span class="p">);</span>
<span class="w">            </span><span class="n">client</span><span class="p">.</span><span class="na">read</span><span class="p">(</span><span class="n">buffer</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">selector</span><span class="p">.</span><span class="na">selectedKeys</span><span class="p">().</span><span class="na">clear</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// AIO socket I/O:</span>
<span class="n">AsynchronousServerSocketChannel</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">\</span>
<span class="n">AsynchronousServerSocketChannel</span><span class="p">.</span><span class="na">open</span><span class="p">().</span><span class="na">bind</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="err">\</span>
<span class="n">InetSocketAddress</span><span class="p">(</span><span class="s">&quot;localhost&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">5000</span><span class="p">));</span>

<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Server listening on port 5000...&quot;</span><span class="p">);</span>

<span class="c1">// Start accepting clients asynchronously</span>
<span class="n">server</span><span class="p">.</span><span class="na">accept</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CompletionHandler</span><span class="o">&lt;</span><span class="n">AsynchronousSocketChannel</span><span class="p">,</span><span class="w"> </span><span class="n">Void</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">completed</span><span class="p">(</span><span class="n">AsynchronousSocketChannel</span><span class="w"> </span><span class="n">client</span><span class="p">,</span><span class="w"> </span><span class="n">Void</span><span class="w"> </span><span class="n">att</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Accept next connection (important!)</span>
<span class="w">        </span><span class="n">server</span><span class="p">.</span><span class="na">accept</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">);</span>

<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;New connection: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">client</span><span class="p">);</span>

<span class="w">        </span><span class="n">ByteBuffer</span><span class="w"> </span><span class="n">buffer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="p">.</span><span class="na">allocate</span><span class="p">(</span><span class="mi">1024</span><span class="p">);</span>
<span class="w">        </span><span class="n">client</span><span class="p">.</span><span class="na">read</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CompletionHandler</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nd">@Override</span>
<span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">completed</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">bytesRead</span><span class="p">,</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="w"> </span><span class="n">buf</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">buf</span><span class="p">.</span><span class="na">flip</span><span class="p">();</span>
<span class="w">                </span><span class="n">String</span><span class="w"> </span><span class="n">msg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StandardCharsets</span><span class="p">.</span><span class="na">UTF_8</span><span class="p">.</span><span class="na">decode</span><span class="p">(</span><span class="n">buf</span><span class="p">).</span><span class="na">toString</span><span class="p">();</span>
<span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Received: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">msg</span><span class="p">);</span>

<span class="w">                </span><span class="c1">// Echo message back</span>
<span class="w">                </span><span class="n">ByteBuffer</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="p">.</span><span class="na">wrap</span><span class="p">((</span><span class="s">&quot;Echo: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">msg</span><span class="p">).</span><span class="na">getBytes</span><span class="p">(</span><span class="n">StandardCharsets</span><span class="p">.</span><span class="na">UTF_8</span><span class="p">));</span>
<span class="w">                </span><span class="n">client</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CompletionHandler</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span><span class="w"> </span><span class="n">Void</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nd">@Override</span>
<span class="w">                    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">completed</span><span class="p">(</span><span class="n">Integer</span><span class="w"> </span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="n">Void</span><span class="w"> </span><span class="n">att</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="na">close</span><span class="p">();</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">ignore</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>
<span class="w">                    </span><span class="p">}</span>

<span class="w">                    </span><span class="nd">@Override</span>
<span class="w">                    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">failed</span><span class="p">(</span><span class="n">Throwable</span><span class="w"> </span><span class="n">exc</span><span class="p">,</span><span class="w"> </span><span class="n">Void</span><span class="w"> </span><span class="n">att</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">exc</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">});</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="nd">@Override</span>
<span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">failed</span><span class="p">(</span><span class="n">Throwable</span><span class="w"> </span><span class="n">exc</span><span class="p">,</span><span class="w"> </span><span class="n">ByteBuffer</span><span class="w"> </span><span class="n">buf</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">exc</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">failed</span><span class="p">(</span><span class="n">Throwable</span><span class="w"> </span><span class="n">exc</span><span class="p">,</span><span class="w"> </span><span class="n">Void</span><span class="w"> </span><span class="n">att</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">exc</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">});</span>

<span class="c1">// Keep server alive</span>
<span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">join</span><span class="p">();</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="4-set-up">4. Set up<a class="headerlink" href="#4-set-up" title="Permanent link">&para;</a></h2>
<h3 id="41-package-manager">4.1 Package Manager<a class="headerlink" href="#41-package-manager" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>---tab Python
Native:

- file folder directories:
&gt; src
&gt; &gt; main.py
&gt; 
&gt; requirements.txt
---tab Javascript
hello
</code></pre></div>
<h3 id="42-how-to-debug">4.2 How to debug<a class="headerlink" href="#42-how-to-debug" title="Permanent link">&para;</a></h3>
<h3 id="43-module-import">4.3 Module import<a class="headerlink" href="#43-module-import" title="Permanent link">&para;</a></h3>
<h2 id="5-concurrency">5. Concurrency<a class="headerlink" href="#5-concurrency" title="Permanent link">&para;</a></h2>
<h3 id="51-atomic-class">5.1 Atomic class<a class="headerlink" href="#51-atomic-class" title="Permanent link">&para;</a></h3>
<h3 id="52-thread-thread-pool">5.2 Thread &amp; Thread pool<a class="headerlink" href="#52-thread-thread-pool" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="17:1"><input checked="checked" id="__tabbed_17_1" name="__tabbed_17" type="radio" /><div class="tabbed-labels"><label for="__tabbed_17_1">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. Thread-api: use this when want to cutomize behaviour of each thread</span>
<span class="c1">//                the signal handler, wait object, or each thread needs to</span>
<span class="c1">//                wait each other</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MyThread</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Thread</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">run</span><span class="p">(){</span>
<span class="w">        </span><span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span><span class="w"> </span><span class="c1">// make curr thread sleep 2 seconds</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;curr tid: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getId</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
<span class="c1">// start new thread</span>
<span class="n">MyThread</span><span class="w"> </span><span class="n">thread</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MyThread</span><span class="p">();</span>
<span class="n">thread</span><span class="p">.</span><span class="na">start</span><span class="p">();</span>

<span class="c1">// main thread wait for thread to be exited</span>
<span class="k">try</span><span class="p">{</span>
<span class="w">    </span><span class="n">thread</span><span class="p">.</span><span class="na">join</span><span class="p">();</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">){</span>
<span class="w">    </span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">interrupt</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// 2. Executor Service(Preferred): handy way to create and destroy thread</span>
<span class="c1">// 2.1 Common ExecutorService</span>
<span class="c1">// create exactly one thread for each submitted task and kill it once finish</span>
<span class="n">ExecutorService</span><span class="w"> </span><span class="n">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Executors</span><span class="p">.</span><span class="na">newSingleThreadExecutor</span><span class="p">();</span>
<span class="c1">// create a pool of 4 threads and each thread can be reused for new tasks</span>
<span class="n">ExecutorService</span><span class="w"> </span><span class="n">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Executors</span><span class="p">.</span><span class="na">newFixedThreadPool</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="c1">// create a pool of infinite threads and each idle thread can be </span>
<span class="c1">// reused(idle: thread terminated after 60s if unused)</span>
<span class="n">ExecutorService</span><span class="w"> </span><span class="n">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Executors</span><span class="p">.</span><span class="na">newCachedThreadPool</span><span class="p">();</span>

<span class="n">Callable</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">task1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;task1&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">Callable</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">task2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;task2&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Callable</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">tasks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="p">(</span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="n">task1</span><span class="p">,</span><span class="w"> </span><span class="n">task2</span><span class="p">));</span>

<span class="c1">// submit the task to be executed and return a Future object</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">executor</span><span class="p">.</span><span class="na">submit</span><span class="p">(</span><span class="n">task1</span><span class="p">);</span>
<span class="c1">// blocks the curr thread, execute a list of Callables&lt;T&gt; that returns the</span>
<span class="c1">// same type; once all tasks are completed, return list of Future&lt;T&gt;</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Future</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pool</span><span class="p">.</span><span class="na">invokeAll</span><span class="p">(</span><span class="n">taskList</span><span class="p">);</span>

<span class="c1">// 2.2 ScheduledExecutorService</span>
<span class="c1">// a pool with fixed threads and threads execute after delay or periodically</span>
<span class="n">ScheduledExecutorService</span><span class="w"> </span><span class="n">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Executors</span><span class="p">.</span><span class="na">newScheduledThreadPool</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

<span class="c1">// 2.3 graceful 2-phase shut down:</span>
<span class="c1">// tell the executor not to accept new task but the threads may continue to</span>
<span class="c1">// execute submitted tasks</span>
<span class="n">executor</span><span class="p">.</span><span class="na">shutdown</span><span class="p">();</span>
<span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">executorService</span><span class="p">.</span><span class="na">awaitTermination</span><span class="p">(</span><span class="n">timeout</span><span class="p">,</span><span class="w"> </span><span class="n">unit</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="c1">// Handle the case where termination did not occur within the timeout  </span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">err</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ExecutorService did not terminate within the specified timeout.&quot;</span><span class="p">);</span><span class="w">  </span>
<span class="w">    </span><span class="c1">// Optionally, force shutdown if termination is critical  </span>
<span class="w">        </span><span class="n">executorService</span><span class="p">.</span><span class="na">shutdownNow</span><span class="p">();</span><span class="w">  </span>
<span class="w">    </span><span class="p">}</span><span class="w">  </span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="c1">// Handle interruption  </span>
<span class="w">    </span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">interrupt</span><span class="p">();</span><span class="w"> </span><span class="c1">// Re-interrupt the current thread  </span>
<span class="w">    </span><span class="n">executorService</span><span class="p">.</span><span class="na">shutdownNow</span><span class="p">();</span><span class="w"> </span><span class="c1">// Force shutdown if interrupted  </span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="53-lock">5.3 Lock<a class="headerlink" href="#53-lock" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="18:1"><input checked="checked" id="__tabbed_18_1" name="__tabbed_18" type="radio" /><div class="tabbed-labels"><label for="__tabbed_18_1">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// wrap non-concurrent collections</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Collections</span><span class="p">.</span><span class="na">synchronizedList</span><span class="p">(</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">52</span><span class="p">)));</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="54-synchronizer-class">5.4 Synchronizer class<a class="headerlink" href="#54-synchronizer-class" title="Permanent link">&para;</a></h3>
<p>CountDownLatch: makes a thread wait for a number of threads, either child or parent; can only be used once</p>
<div class="tabbed-set tabbed-alternate" data-tabs="19:1"><input checked="checked" id="__tabbed_19_1" name="__tabbed_19" type="radio" /><div class="tabbed-labels"><label for="__tabbed_19_1">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. wait for a set of threads instead of one thread; </span>
<span class="kt">int</span><span class="w"> </span><span class="n">threadCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="n">CountDownLatch</span><span class="w"> </span><span class="n">latch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CountDownLatch</span><span class="p">(</span><span class="n">threadCount</span><span class="p">);</span>
<span class="kd">class</span> <span class="nc">Worker</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Thread</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">CountDownLatch</span><span class="w"> </span><span class="n">latch</span><span class="p">;</span>
<span class="w">    </span><span class="n">Worker</span><span class="p">(</span><span class="n">CountDownLatch</span><span class="w"> </span><span class="n">latch</span><span class="p">){</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">latch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">latch</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">run</span><span class="p">(){</span>
<span class="w">        </span><span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span>
<span class="w">        </span><span class="n">latch</span><span class="p">.</span><span class="na">countDown</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>
<span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">threadCount</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">Worker</span><span class="p">(</span><span class="n">latch</span><span class="p">).</span><span class="na">start</span><span class="p">();</span>
<span class="p">};</span>
<span class="c1">// use latch to block the current thread and wait for all threads that </span>
<span class="c1">// possess the latch and block</span>
<span class="n">latch</span><span class="p">.</span><span class="na">await</span><span class="p">();</span>

<span class="c1">// 2. child thread wait for parent thread, where join() mtd can&#39;t do</span>
<span class="kt">int</span><span class="w"> </span><span class="n">threadCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="n">CountDownLatch</span><span class="w"> </span><span class="n">startGate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CountDownLatch</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">threadCount</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">startGate</span><span class="p">.</span><span class="na">await</span><span class="p">();</span>
<span class="w">            </span><span class="c1">// Similate the duration of any task</span>
<span class="w">            </span><span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span><span class="w">      </span>
<span class="w">        </span><span class="p">}</span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">ignored</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">}</span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">endGate</span><span class="p">.</span><span class="na">countDown</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}).</span><span class="na">start</span><span class="p">();</span>
<span class="p">}</span>
<span class="n">startGate</span><span class="p">.</span><span class="na">countDown</span><span class="p">();</span>
</code></pre></div>
</div>
</div>
</div>
<p>CyclicBarrier: make a set of threads to stop at a certain moment and then start at the same time</p>
<div class="tabbed-set tabbed-alternate" data-tabs="20:1"><input checked="checked" id="__tabbed_20_1" name="__tabbed_20" type="radio" /><div class="tabbed-labels"><label for="__tabbed_20_1">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="n">threadCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="n">ExecutorService</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Executors</span><span class="p">.</span><span class="na">newFixedThreadPool</span><span class="p">(</span><span class="n">threadCount</span><span class="p">);</span>
<span class="n">CyclicBarrier</span><span class="w"> </span><span class="n">barrier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CyclicBarrier</span><span class="p">(</span><span class="n">threadCount</span><span class="p">);</span>

<span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">threadCount</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
<span class="w">    </span><span class="n">pool</span><span class="p">.</span><span class="na">submit</span><span class="p">(()</span><span class="o">=&gt;</span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// block the thread until threadCount threads call await</span>
<span class="w">            </span><span class="n">barrier</span><span class="p">.</span><span class="na">await</span><span class="p">();</span>
<span class="w">            </span><span class="n">fn</span><span class="p">()</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">BrokenBarrierException</span><span class="w"> </span><span class="n">e</span><span class="p">){</span>
<span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">})</span>
<span class="p">}</span>

<span class="k">try</span><span class="p">{</span>
<span class="w">    </span><span class="n">barrier</span><span class="p">.</span><span class="na">await</span><span class="p">();</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">BrokenBarrierException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="p">}</span>
<span class="n">barrier</span><span class="p">.</span><span class="na">reset</span><span class="p">();</span>
<span class="n">pool</span><span class="p">.</span><span class="na">shutdown</span><span class="p">();</span>
</code></pre></div>
</div>
</div>
</div>
<p>Phaser:</p>
<p>Semaphore:</p>
<h3 id="55-pipes">5.5 Pipes<a class="headerlink" href="#55-pipes" title="Permanent link">&para;</a></h3>
<p>These classes can be used as pipes between threads or processes
<div class="highlight"><pre><span></span><code>---tab Java
ConcurrentLinkedQueue:

- add: insert element at tail, throws exception when fail
- offer: insert element at tail, return False when fail
- peek: retrieve but do not remove the head of the queue; return null when empty
- poll: retrieve and remove the head of the queue

BlockingQueue:

- put: insert element at tail, block the thread until queue is available(add/offer does not block)
- take: Retrieves and removes the head of this queue, waiting if necessary until an element becomes available

ConcurrentLinkedQueue vs BlockingLinkedQueue(2 distinctions):
1. ConcurrentLinkedQueue spins and retries modification when multiple concurrent modifications happen. It does not switch thread, thus, does not block. On the other hand, BlockingLinkedQueue waits to grab the ReentrantLock inside the blockingqueue and switches thread when concurrent modifications happen. Thus, this blocks the thread when concurrent modifications happen
2. BlockingLinkedQueue has 2 extra methods: put and take. These 2 methods additionally block thread when queue is full or empty
</code></pre></div>
APIs:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="21:1"><input checked="checked" id="__tabbed_21_1" name="__tabbed_21" type="radio" /><div class="tabbed-labels"><label for="__tabbed_21_1">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// ConcurrentLinkedQueue: thread-safe and lock-free, non blocking</span>
<span class="n">Queue</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ConcurrentLinkedQueue</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">q</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="w">     </span><span class="c1">// q: [10]</span>
<span class="n">q</span><span class="p">.</span><span class="na">offer</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span><span class="w">   </span><span class="c1">// q: [10, 20]</span>
<span class="n">q</span><span class="p">.</span><span class="na">peek</span><span class="p">();</span><span class="w">      </span><span class="c1">// return 10</span>
<span class="n">q</span><span class="p">.</span><span class="na">poll</span><span class="p">();</span><span class="w">      </span><span class="c1">// return 10, q:[20]</span>

<span class="c1">// ConcurrentLinkedDeque: </span>
<span class="n">Queue</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ConcurrentLinkedDeque</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">q2</span><span class="p">.</span><span class="na">addFirst</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="w">   </span><span class="c1">// q2: [10]</span>
<span class="n">q2</span><span class="p">.</span><span class="na">addLast</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span><span class="w">    </span><span class="c1">// q2: [10, 20]</span>
<span class="n">q2</span><span class="p">.</span><span class="na">offerFirst</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span><span class="w"> </span><span class="c1">// q2: [30, 10, 20]</span>
<span class="n">q2</span><span class="p">.</span><span class="na">offerLast</span><span class="p">(</span><span class="mi">40</span><span class="p">);</span><span class="w">  </span><span class="c1">// q2: [30, 10, 20, 40]</span>
<span class="n">q2</span><span class="p">.</span><span class="na">peekFirst</span><span class="p">();</span><span class="w">    </span><span class="c1">// 30, q2: [30, 10, 20, 40]</span>
<span class="n">q2</span><span class="p">.</span><span class="na">peekLast</span><span class="p">();</span><span class="w">     </span><span class="c1">// 40, q2: [30, 10, 20, 40]</span>
<span class="n">q2</span><span class="p">.</span><span class="na">pollFirst</span><span class="p">();</span><span class="w">    </span><span class="c1">// 30, q2: [10, 20,40]</span>
<span class="n">q2</span><span class="p">.</span><span class="na">pollLast</span><span class="p">();</span><span class="w">     </span><span class="c1">// 40, q2: [10, 20]</span>

<span class="c1">// LinkedBlockingQueue: thread-safe but uses lock, may block(park)</span>
<span class="n">BlockingQueue</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedBlockingQueue</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">BlockingQueue</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedBlockingQueue</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="w"> </span><span class="c1">// with capacity:4</span>
<span class="n">bq</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span><span class="w">     </span><span class="c1">// bq: [5]</span>
<span class="n">bq</span><span class="p">.</span><span class="na">take</span><span class="p">();</span><span class="w">     </span><span class="c1">// return 5, bq: []</span>

<span class="c1">// LinkedBlockingDeque:</span>
<span class="n">BlockingDeque</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bq2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedBlockingDeque</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="n">bq2</span><span class="p">.</span><span class="na">putFirst</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span><span class="w">   </span><span class="c1">// bq2: [5]</span>
<span class="n">bq2</span><span class="p">.</span><span class="na">putLast</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span><span class="w">    </span><span class="c1">// bq2: [5, 6]</span>
<span class="n">bq2</span><span class="p">.</span><span class="na">takeFirst</span><span class="p">();</span><span class="w">   </span><span class="c1">// return 5, bq2: [6]</span>
<span class="n">bq2</span><span class="p">.</span><span class="na">takeLast</span><span class="p">();</span><span class="w">    </span><span class="c1">// return 6, bq2: []</span>
</code></pre></div>
</div>
</div>
</div>
<p>useCases:</p>
<h2 id="6-feature">6. Feature<a class="headerlink" href="#6-feature" title="Permanent link">&para;</a></h2>
<h3 id="61-reference">6.1 Reference<a class="headerlink" href="#61-reference" title="Permanent link">&para;</a></h3>
<h3 id="62-reflection">6.2 Reflection<a class="headerlink" href="#62-reflection" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="22:2"><input checked="checked" id="__tabbed_22_1" name="__tabbed_22" type="radio" /><input id="__tabbed_22_2" name="__tabbed_22" type="radio" /><div class="tabbed-labels"><label for="__tabbed_22_1">Java</label><label for="__tabbed_22_2">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// core classes related to reflection:</span>
<span class="c1">// Class, Field, Method, Constructor</span>
<span class="c1">// We reveal following examples:</span>
<span class="c1">// 1. Getting a class object 2. Inspecting class members</span>
<span class="c1">// 3. invoke methods and access fields dynamically</span>

<span class="c1">// 1. get class:</span>
<span class="c1">// get class given the class name</span>
<span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">myClass1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Class</span><span class="p">.</span><span class="na">forName</span><span class="p">(</span><span class="s">&quot;Java.lang.String&quot;</span><span class="p">);</span>
<span class="c1">// get class from an instance</span>
<span class="n">String</span><span class="w"> </span><span class="n">myString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello world&quot;</span><span class="p">;</span>
<span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">myClass2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myString</span><span class="p">.</span><span class="na">getClass</span><span class="p">();</span>
<span class="c1">// get class from the object class</span>
<span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">myClass3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="na">class</span><span class="p">;</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;class Name &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">myClass</span><span class="p">.</span><span class="na">getName</span><span class="p">());</span>

<span class="c1">// 2. get Methods and fields</span>
<span class="n">Method</span><span class="o">[]</span><span class="w"> </span><span class="n">methods</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myClass2</span><span class="p">.</span><span class="na">getDeclaredMethods</span><span class="p">();</span>
<span class="n">Field</span><span class="o">[]</span><span class="w"> </span><span class="n">fields</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myClass2</span><span class="p">.</span><span class="na">getDeclaredFields</span><span class="p">();</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Method</span><span class="w"> </span><span class="n">mtd</span><span class="p">:</span><span class="w"> </span><span class="n">methods</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Method: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">method</span><span class="p">.</span><span class="na">getName</span><span class="p">());</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Field: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">field</span><span class="p">.</span><span class="na">getName</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// 3</span>
<span class="c1">// invoke method</span>
<span class="n">methods</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="na">invoke</span><span class="p">(</span><span class="n">myString</span><span class="p">,</span><span class="w"> </span><span class="n">arg1</span><span class="p">)</span>
<span class="c1">// get and set a field</span>
<span class="n">Field</span><span class="w"> </span><span class="n">fieldA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fields</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="n">fieldA</span><span class="p">.</span><span class="na">setAccessible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="p">)</span><span class="w"> </span><span class="n">fieldA</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">obj</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Name: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span><span class="p">);</span><span class="w">  </span>
<span class="n">nameField</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">person</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Jane Doe&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. Object: internal implementation of Object is hashtable </span>
<span class="c1">//         whose key type can only be string or Symbol type</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nx">k1</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">k2</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">}}</span>
<span class="c1">// obj: {k1: 1, k2: {x: 1}, k3: &quot;ab&quot;}</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;k3&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;ab&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">writable</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">       </span><span class="c1">// this property can be changed through `=`</span>
<span class="w">    </span><span class="nx">configurable</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nx">enumerable</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span>
<span class="p">})</span>
<span class="c1">// return all keys of an object regardless of enumerable</span>
<span class="c1">// [&quot;k1&quot;, &quot;k2&quot;, &quot;k3&quot;]</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyNames</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span>
<span class="c1">// return all enumerable keys of an object, [&quot;k1&quot;, &quot;k2&quot;]</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span>
<span class="c1">// return the descripor values of a key, </span>
<span class="c1">// {value: 1, writable: true, configurable: true, enumerable: true}</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptor</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;k1&quot;</span><span class="p">)</span>
<span class="c1">// Object.assign copies all enumerable properties of a source object </span>
<span class="c1">// to target</span>
<span class="nx">obj2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">obj2</span><span class="p">,</span><span class="w"> </span><span class="nx">obj</span><span class="p">)</span><span class="w"> </span><span class="c1">// obj2: {k1: 1, k2: {x: 1}, k3: &quot;ab&quot;}</span>
<span class="c1">// seal, freeze, extend</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">preventExtensions</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span><span class="w"> </span><span class="c1">// obj can no longer add new properties</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">isExtensible</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span><span class="w">      </span><span class="c1">// return False</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">seal</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span><span class="w">              </span><span class="c1">// obj cannot add or delete properties</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">isSealed</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span><span class="w">          </span><span class="c1">// return true</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">freeze</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span><span class="w">            </span><span class="c1">// obj cannot add, delete or modify properties</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">isFrozen</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span><span class="w">          </span><span class="c1">// return True</span>

<span class="c1">// 2. Function:</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">greet</span><span class="p">(</span><span class="nx">greeting</span><span class="p">,</span><span class="w"> </span><span class="nx">punc</span><span class="p">){</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">greeting</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">punc</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// call: replace `this` with a specified object and invoke the method</span>
<span class="c1">// apply: replace `this` with a specified object and invoke the method with </span>
<span class="c1">//        an array of args (Note: cannot work on arrow function)    </span>
<span class="nx">greet</span><span class="p">.</span><span class="nx">call</span><span class="p">({</span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Tom&quot;</span><span class="p">},</span><span class="w"> </span><span class="s2">&quot;hello &quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;!&quot;</span><span class="p">)</span><span class="w">  </span>
<span class="nx">greet</span><span class="p">.</span><span class="nx">apply</span><span class="p">({</span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Tom&quot;</span><span class="p">},</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;hello &quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;!&quot;</span><span class="p">])</span><span class="w"> </span><span class="c1">// return &quot;hello Tom!&quot;</span>
<span class="c1">// bind: return a new func whose this is permanently set to specified</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">greet2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">greet</span><span class="p">.</span><span class="nx">bind</span><span class="p">({</span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Tom&quot;</span><span class="p">})</span>
<span class="nx">greet2</span><span class="p">(</span><span class="s2">&quot;hello &quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;!&quot;</span><span class="p">)</span><span class="w">   </span><span class="c1">// return &quot;hello Tom!&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="63-closure">6.3 Closure<a class="headerlink" href="#63-closure" title="Permanent link">&para;</a></h3>
<p>In programming language like javascript, Java, Python, C, it uses lexical scope(static scope) meaning that the scope of a variable is determined by where it's defined in the code, not where it's called. On the other hand, dynamic scope means the scope of a variable is determined by where it's called.</p>
<p><strong>How does lexical scope work:</strong>
Lexical scope is implemented by creating a scope chain that links a function to its parent scopes based on the physical structure of the code, allowing a variable lookup to begin in the innermost scope and repeat moving outward until a match is found. When a function is defined, a closure is created that holds a reference to its parent scope, establishing this chain.</p>
<p>Use Cases: 
- allow functions to maintain state between calls
- create private variables that are only accessible by inner functions</p>
<div class="tabbed-set tabbed-alternate" data-tabs="23:1"><input checked="checked" id="__tabbed_23_1" name="__tabbed_23" type="radio" /><div class="tabbed-labels"><label for="__tabbed_23_1">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">createCounter</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// &#39;count&#39; is in the outer scope  </span>
<span class="w">    </span><span class="c1">// &#39;increment&#39; is the inner function, forming a closure</span>
<span class="w">    </span><span class="kd">function</span><span class="w"> </span><span class="nx">increment</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">   </span>
<span class="w">        </span><span class="nx">count</span><span class="o">++</span><span class="p">;</span><span class="w">  </span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">count</span><span class="p">);</span><span class="w">  </span>
<span class="w">    </span><span class="p">}</span><span class="w">  </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">increment</span><span class="p">;</span><span class="w"> </span><span class="c1">// Return the inner function  </span>
<span class="p">}</span><span class="w">  </span>

<span class="kd">const</span><span class="w"> </span><span class="nx">counter1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createCounter</span><span class="p">();</span><span class="w"> </span>
<span class="nx">counter1</span><span class="p">();</span><span class="w"> </span><span class="c1">// print 1   </span>
<span class="nx">counter1</span><span class="p">();</span><span class="w"> </span><span class="c1">// print 2</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="64-sync-vs-async">6.4 Sync vs Async<a class="headerlink" href="#64-sync-vs-async" title="Permanent link">&para;</a></h3>
<p>Promise API:
Promise in javascript is used to wrap the calling of function that takes a lot of time to execute and return a result; the code inside promise is executed synchrounously, but the code in then or catch method is executed after all jobs in event queue are executed; Thus, inside promise we usually place a task at the end of the event queue and the then method will get the result of that task and process the result </p>
<div class="tabbed-set tabbed-alternate" data-tabs="24:2"><input checked="checked" id="__tabbed_24_1" name="__tabbed_24" type="radio" /><input id="__tabbed_24_2" name="__tabbed_24" type="radio" /><div class="tabbed-labels"><label for="__tabbed_24_1">Java</label><label for="__tabbed_24_2">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. create CompletableFuture object</span>
<span class="c1">// 1.1 runAsync takes a function that does not return value</span>
<span class="n">CompleteableFuture</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">future1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CompleteableFuture</span><span class="p">.</span><span class="na">runAsync</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span>
<span class="w">    </span><span class="c1">// the function inside Future object is run in a separate thread</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;hello world&quot;</span><span class="p">);</span>
<span class="p">})</span>
<span class="c1">// 1.2 supplyAsync takes a function that can return value</span>
<span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="n">CompleteableFuture</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">future2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CompleteableFuture</span><span class="p">.</span><span class="na">supplyAsync</span><span class="p">(()</span><span class="o">-&gt;</span><span class="p">{</span>
<span class="w">    </span><span class="c1">// the variables from the parent scope must be final</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
<span class="p">})</span>

<span class="c1">// 1.3 result from ExecutorService</span>
<span class="n">ExecutorService</span><span class="w"> </span><span class="n">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Executors</span><span class="p">.</span><span class="na">newFixedThreadPool</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="n">Callable</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Files</span><span class="p">.</span><span class="na">readAllLines</span><span class="p">(</span><span class="n">Paths</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;myFile.txt&quot;</span><span class="p">)).</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">future</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">executor</span><span class="p">.</span><span class="na">submit</span><span class="p">(</span><span class="n">task</span><span class="p">);</span>

<span class="c1">// 2. then &amp; exceptionally callback</span>
<span class="c1">// 2.1 exceptionally &amp; thenRun:</span>
<span class="c1">// thenRun cannot get result from last Future object and return </span>
<span class="c1">// CompleteableFuture&lt;Void&gt;</span>
<span class="n">future2</span><span class="p">.</span><span class="na">exceptionally</span><span class="p">(</span><span class="n">ex</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">ex</span><span class="p">.</span><span class="na">getMessage</span><span class="p">())</span><span class="err">\\</span>
<span class="w">    </span><span class="p">.</span><span class="na">thenRun</span><span class="p">(());</span>

<span class="c1">// 2.2 thenAccept: get result from last Future object and return </span>
<span class="c1">// CompleteableFuture&lt;Void&gt;</span>
<span class="n">future2</span><span class="p">.</span><span class="na">thenAccept</span><span class="p">(</span><span class="n">s</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;result: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">s</span><span class="p">))</span>

<span class="c1">// 2.3 thenApply: get result from last Future object and return sth in </span>
<span class="c1">// its returned Future object </span>
<span class="n">Future</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">future3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">future2</span><span class="p">.</span><span class="na">thenApply</span><span class="p">(</span><span class="n">s</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">s</span><span class="p">));</span>

<span class="c1">// 2.4 whenComplete: takes a function that returns void as input and return Future object that has wrapped value from last Future object</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">future3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">future2</span><span class="p">.</span><span class="na">whenComplete</span><span class="p">((</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="n">ex</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">ex</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">err</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Error: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">ex</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">})</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. create customized promise</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getRandomInt</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">myPromise</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span><span class="w"> </span><span class="nx">reject</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// the function inside is executed synchronously</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="nx">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span>
<span class="w">        </span><span class="c1">// resolve just passes &quot;hello world&quot; to parameter of </span>
<span class="w">        </span><span class="c1">// value in then method</span>
<span class="w">        </span><span class="c1">// You can also pass another promise object into resolve</span>
<span class="w">        </span><span class="nx">resolve</span><span class="p">(</span><span class="s2">&quot;hello world&quot;</span><span class="p">)</span><span class="w"> </span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="nx">reject</span><span class="p">(</span><span class="s2">&quot;destroy world&quot;</span><span class="p">)</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="nx">value</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// the function inside then is executed asynchrounously</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// the function inside catch is executed asynchrounously</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
<span class="p">})</span>

<span class="c1">// 2. Promise.all</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">promise1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://api.example.com/data&#39;</span><span class="p">)</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">promise2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">readFile</span><span class="p">(</span><span class="s1">&#39;./myFile.txt&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">encoding</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;utf8&#39;</span><span class="w"> </span><span class="p">})</span>
<span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span><span class="nx">promise1</span><span class="p">,</span><span class="w"> </span><span class="nx">promise2</span><span class="p">])</span>
<span class="w">    </span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">results</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">results</span><span class="p">))</span>
<span class="w">    </span><span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre></div>
</div>
</div>
</div>
<p>Common Asynchronous operations that can be wrapped in Promise:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="25:1"><input checked="checked" id="__tabbed_25_1" name="__tabbed_25" type="radio" /><div class="tabbed-labels"><label for="__tabbed_25_1">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// 1. setTimeout, setInterval</span>
<span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setTimeout</span><span class="p">(()=&gt;{</span>
<span class="w">        </span><span class="nx">resolve</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">((</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">))</span>

<span class="c1">// return result of asynchronous function that returns promise</span>
<span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;{</span>
<span class="w">    </span><span class="nx">resolve</span><span class="p">(</span><span class="nx">readFile</span><span class="p">(</span><span class="s1">&#39;./myFile.txt&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">encoding</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;utf8&#39;</span><span class="w"> </span><span class="p">}))</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">((</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">))</span>
<span class="c1">// above is equivalent to:</span>
<span class="c1">//readFile(&#39;./myFile.txt&#39;, { encoding: &#39;utf8&#39; })</span>
<span class="c1">//.then((value) =&gt; console.log(value))</span>
</code></pre></div>
</div>
</div>
</div>
<p>async/await syntax: 
- async wraps the function inside a promise object and pass the return value of that function into resolve in promise
- await must be used within an asyn function. It is placed before an expression that returns a promise object and is used to capture the resolved value of promise. When js executes the await line, it will executes the code inside the promise object after <code>await</code>, then it will jump outside to the parent stack to execute the rest of the code. After the promise object after await is resolved, it will continue to execute the lines after the await line in that async function</p>
<div class="tabbed-set tabbed-alternate" data-tabs="26:2"><input checked="checked" id="__tabbed_26_1" name="__tabbed_26" type="radio" /><input id="__tabbed_26_2" name="__tabbed_26" type="radio" /><div class="tabbed-labels"><label for="__tabbed_26_1">Java</label><label for="__tabbed_26_2">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// get() on Future object:</span>
<span class="c1">// get() acts as await in javascript</span>
<span class="n">ExecutorService</span><span class="w"> </span><span class="n">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Executors</span><span class="p">.</span><span class="na">newFixedThreadPool</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="n">Callable</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Files</span><span class="p">.</span><span class="na">readAllLines</span><span class="p">(</span><span class="n">Paths</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;myFile.txt&quot;</span><span class="p">)).</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">future</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">executor</span><span class="p">.</span><span class="na">submit</span><span class="p">(</span><span class="n">task</span><span class="p">);</span>
<span class="c1">// blocks the thread until future is resolved</span>
<span class="n">String</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">future</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">f</span><span class="p">(){</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">readFile</span><span class="p">(</span><span class="s1">&#39;./myFile.txt&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">encoding</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;utf8&#39;</span><span class="w"> </span><span class="p">})</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// helloworld is printed first, then the content of myFile.txt</span>
<span class="nx">f</span><span class="p">()</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="err">&quot;</span><span class="nx">helloworld</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<p>asyn/await mannual implementation: https://blog.csdn.net/weixin_50789156/article/details/124199482</p>
<h3 id="65-memory-model">6.5 Memory Model<a class="headerlink" href="#65-memory-model" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>---tab Javascript
https://blog.csdn.net/sjhcake/article/details/123856054
</code></pre></div>
<h3 id="66-generic">6.6 Generic<a class="headerlink" href="#66-generic" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="27:1"><input checked="checked" id="__tabbed_27_1" name="__tabbed_27" type="radio" /><div class="tabbed-labels"><label for="__tabbed_27_1">Java</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="o">&lt;?</span><span class="w"> </span><span class="kd">super</span><span class="w"> </span><span class="n">E</span><span class="o">&gt;</span>
<span class="n">Collection</span><span class="o">&lt;?</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">E</span><span class="o">&gt;</span><span class="w"> </span><span class="n">c</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="67-iterator-seq-generator">6.7 Iterator &amp; Seq Generator<a class="headerlink" href="#67-iterator-seq-generator" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="28:3"><input checked="checked" id="__tabbed_28_1" name="__tabbed_28" type="radio" /><input id="__tabbed_28_2" name="__tabbed_28" type="radio" /><input id="__tabbed_28_3" name="__tabbed_28" type="radio" /><div class="tabbed-labels"><label for="__tabbed_28_1">Python</label><label for="__tabbed_28_2">Java</label><label for="__tabbed_28_3">Javascript</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># yield, generator function</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// Iterator</span>

<span class="c1">// Stream Interface and IOStream</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// Generator function &amp; yield</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="68-signal-handler">6.8 Signal handler<a class="headerlink" href="#68-signal-handler" title="Permanent link">&para;</a></h3>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "content.code.annotate"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../javascript/mathjax.js"></script>
      
        <script src="../javascript/collapseCodeblock.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>