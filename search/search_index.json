{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Blog","text":""},{"location":"tags/","title":"Tags","text":""},{"location":"tags/#tag:devops","title":"DevOps","text":"<ul> <li>            Docker          </li> <li>            Linux          </li> </ul>"},{"location":"tags/#tag:programming","title":"Programming","text":"<ul> <li>            Database          </li> <li>            Flutter          </li> <li>            Leetcode          </li> <li>            ProgrammingNote          </li> <li>            React          </li> <li>            Typescrpt          </li> <li>            Vue          </li> </ul>"},{"location":"tags/#tag:tool","title":"Tool","text":"<ul> <li>            VSCode          </li> </ul>"},{"location":"2025/12/12/database/","title":"Database","text":"<p>My note regarding relational database(Mostly PostgreSQL 14+)</p>","tags":["Programming"]},{"location":"2025/12/12/database/#1-sql","title":"1. SQL","text":"","tags":["Programming"]},{"location":"2025/12/12/database/#11-connect-to-db","title":"1.1 Connect to DB","text":"<ol> <li>start postgresql server(windows): <code>net start \"postgresql-x64-14\"</code></li> <li>connect with client: <code>psql -h &lt;hostname&gt; -p &lt;port&gt; -U &lt;user&gt;</code>(user default: <code>postgres</code>) or use pgadmin</li> </ol> <p>useful commands</p> command role \\l lists all databases \\conninfo show current user and database <code>\\c &lt;target_db&gt;</code> switch current db to <code>&lt;target_db&gt;</code> \\dn list all schema names of current database SELECT current_schema; show current schema name <code>set search_path to &lt;schema_name&gt;</code> switch current schema to <code>&lt;schema_name&gt;</code> \\dt list all tables under current schema <code>\\dt &lt;schema_name&gt;.*</code> list all tables under <code>&lt;schema_name&gt;</code>","tags":["Programming"]},{"location":"2025/12/12/database/#12-create-tables","title":"1.2 Create tables","text":"<p>regular table with primary key: <pre><code>DROP DATABASE IF EXISTS Projects;\nCREATE DATABASE Projects;\n\nCREATE TABLE Projects.ContractorInfo (\n\u00a0\u00a0\u00a0\u00a0ContractorId INT AUTO_INCREMENT PRIMARY KEY,\n\u00a0\u00a0\u00a0\u00a0Name VARCHAR(100),\n\u00a0\u00a0\u00a0\u00a0Address VARCHAR(255)\n);\n</code></pre></p> <p>table with foreign key: <pre><code>CREATE TABLE Projects.ProjectInfo (\n\u00a0\u00a0\u00a0\u00a0ProjectId INT AUTO_INCREMENT PRIMARY KEY,\n\u00a0\u00a0\u00a0\u00a0Name VARCHAR(100),\n\u00a0\u00a0\u00a0\u00a0Address VARCHAR(255),\n\u00a0\u00a0\u00a0\u00a0ContractorId INT,\n\u00a0\u00a0\u00a0\u00a0FOREIGN KEY (ContractorId)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0REFERENCES Projects.ContractorInfo(ContractorId)\n);\n\nCREATE TABLE Projects.Invoices (\n\u00a0\u00a0\u00a0\u00a0InvoiceId INT AUTO_INCREMENT PRIMARY KEY,\n\u00a0\u00a0\u00a0\u00a0ProjectId INT,\n\u00a0\u00a0\u00a0\u00a0JobNumber VARCHAR(50),\n\u00a0\u00a0\u00a0\u00a0InvoiceValue DECIMAL(10, 2),\n\u00a0\u00a0\u00a0\u00a0FOREIGN KEY (ProjectId)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0REFERENCES Projects.ProjectInfo(ProjectId)\n);\n</code></pre></p>","tags":["Programming"]},{"location":"2025/12/12/database/#13-select-query","title":"1.3 Select Query","text":"<p>use the table schema from above section <pre><code>-- basic query structure\nSELECT [DISTINCT ]&lt;table1&gt;.&lt;col1&gt; AS &lt;col1&gt;, &lt;table2&gt;.&lt;col2&gt; AS &lt;col2&gt;, aggregate_function(&lt;table3&gt;.&lt;col3&gt;) AS total\nFROM &lt;tablex&gt; JOIN &lt;tabley&gt;\u00a0\n\u00a0\u00a0\u00a0\u00a0ON &lt;tablex&gt;.&lt;colx&gt; = &lt;tabley&gt;.&lt;coly&gt;\nJOIN ... ON ...\nWHERE &lt;cond&gt;\nGROUP BY &lt;tablea&gt;.&lt;cola&gt;, &lt;tableb&gt;.&lt;colb&gt;\nHAVING &lt;cond&gt;\nWINDOW &lt;window_name&gt;\n[&lt; UNION | INTERSECT | EXCEPT &gt; [ &lt;ALL | DISTINCT &gt;] &lt;select_query&gt; ]\nORDER BY &lt;tablexx&gt;.&lt;colxx&gt; [ASC | DESC]\nLIMIT &lt;row_num&gt;\nOFFSET &lt;pos&gt;\nFOR &lt;UPDATE | NO KEY UPDATE | SHARE | KEY SHARE&gt;; -- lock selected rows\n\n-- example\nSELECT ProjectInfo.Name AS projectname, ContractorInfo.Name AS contractorname, sum(Invoices.InvoiceValue) AS total\nFROM ProjectInfo JOIN ContractorInfo\u00a0\n\u00a0\u00a0\u00a0\u00a0ON ProjectInfo.ContractorId = ContractorInfo.ContractorId\nJOIN Invoices\n\u00a0\u00a0\u00a0\u00a0ON ProjectInfo.ProjectId = Invoices.ProjectId\nGROUP BY ProjectInfo.Name, ContractorInfo.Name;\n</code></pre></p> Keyword Role Having filter groups based on condition; if this group has multiple rows, the condition after having needs to employ aggregate functions","tags":["Programming"]},{"location":"2025/12/12/database/#14-join-table-queries","title":"1.4 Join table queries","text":"<pre><code>-- inner join(default): output contains the intersection of two tables rows \n-- left join: output contains all left table rows, combined right table columns will be empty\n-- right join: output contains all right table rows, combined left table columns will be empty\n-- full join: returns rows from a table that do not have the corresponding rows in the other table\n-- full outer join: contains all rows from both left and right tables\n-- cross: combining every row from the first table with every row from the second, no join condition\n</code></pre>","tags":["Programming"]},{"location":"2025/12/12/database/#15-insertupdatedelete","title":"1.5 INSERT/UPDATE/DELETE","text":"<pre><code>-- Insert\nINSERT INTO &lt;tables_name&gt; (&lt;col1&gt;, &lt;col2&gt;, &lt;col3&gt;, ...)\nVALUES (&lt;val1&gt;, &lt;val2&gt;, &lt;val3&gt;, ...);\n\n-- Update\nUPDATE &lt;tables_name&gt;\nSET (&lt;col1&gt; = &lt;val1&gt;, &lt;col2&gt; = &lt;val2&gt;, ...)\nWHERE &lt;cond&gt;\n\n-- delete\nDELETE FROM &lt;tables_name&gt;\nWHERE &lt;cond&gt; \n</code></pre>","tags":["Programming"]},{"location":"2025/12/12/database/#16-alter-table","title":"1.6 Alter table","text":"<pre><code>-- add column\nALTER TABLE &lt;tables_name&gt;\nADD &lt;col_name&gt; &lt;col_type&gt;;\n\n-- modify column\nALTER TABLE &lt;tables_name&gt;\nALTER COLUMN &lt;col_name&gt; &lt;new_col_type&gt;;\n\n-- drop column\nALTER TABLE &lt;tables_name&gt;\nDROP COLUMN &lt;col_name&gt;;\n\n-- add/drop constraint\n-- add primary key\nALTER TABLE &lt;tables_name&gt;\nADD PRIMARY KEY &lt;col_name&gt;;\n-- drop constraint\nALTER TABLE &lt;tables_name&gt;\nDROP CONSTRAINT &lt;constraints_name&gt;;\n\n-- Rename\n-- rename a table\nALTER TABLE &lt;tables_name&gt;\nRENAME TO &lt;new_table_name&gt;;\n-- rename column\nALTER TABLE &lt;tables_name&gt;\nRENAME COLUMN &lt;col_name&gt; TO &lt;new_col_name&gt;;\n</code></pre>","tags":["Programming"]},{"location":"2025/12/12/database/#17-import-and-export","title":"1.7 import and export","text":"export <ul> <li>database:  <pre><code># entire database\npgdump -U &lt;username&gt; -d &lt;db_name&gt; &gt; output.sql\n# export only the schema\npgdump -U &lt;username&gt; -d &lt;db_name&gt; --schema-only &gt; output.sql\n# export only the data\npgdump -U &lt;username&gt; -d &lt;db_name&gt; --data-only &gt; output.sql\n</code></pre></li> <li>schema:  <pre><code># dump only the schema, no data through -s\npgdump -U &lt;username&gt; -n &lt;schema_name&gt; -s &lt;db_name&gt; &gt; output.sql\n</code></pre></li> <li>table:  <pre><code># entire table\npg_dump -U &lt;username&gt; -d &lt;db_name&gt; -n &lt;schema_name&gt; -t &lt;table_name&gt; &gt; output.sql\n# schema only\npg_dump -U &lt;username&gt; -d &lt;db_name&gt; -n &lt;schema_name&gt; -t &lt;table&gt; --schema-only &gt; table_schema.sql\n# data only\npg_dump -U &lt;username&gt; -d &lt;db_name&gt; -n &lt;schema_name&gt; -t &lt;table&gt; --data-only &gt; table_data.sql\n</code></pre></li> </ul> import <ol> <li>create db in psql: <code>createdb -T template0 &lt;db_name&gt;</code></li> <li>import .sql: <code>psql -U &lt;username&gt; -d &lt;db_name&gt; -f &lt;sql_file_name&gt;</code></li> </ol>","tags":["Programming"]},{"location":"2025/12/12/database/#18-other-syntax","title":"1.8 Other syntax","text":"<pre><code>-- WITH\n\n-- IF\n\n-- operator(::)\n</code></pre>","tags":["Programming"]},{"location":"2025/12/12/database/#2-index","title":"2. Index","text":"","tags":["Programming"]},{"location":"2025/12/12/database/#21-overview","title":"2.1 Overview","text":"<p>Types of indices:</p> <ul> <li>B+ tree(default): for  single or range query with condition that contains<code>=</code>, <code>&gt;</code>, <code>&lt;</code> </li> <li>hash: for condition that contains <code>=</code></li> <li>GIN(Generalized Inverted Index): for arrays, JSONB data, TEXT</li> <li>GiST(Generalized Search Tree): geometric, spatial, full-text</li> <li>SP-Gist(Space-partitioned GiST): data that can be partitioned into non-overlapping regions</li> <li>BRIN(Block Range Index): data with natural physical order(e.g: timestamp column in an append-only log table)</li> </ul> <p>When index scan(explain query plan) is used(or when to use index):</p> <ul> <li>when indexed column combined with indexable operators appears in <code>select...where...</code></li> <li>indexed columns used in <code>JOIN...ON</code> conditions</li> <li>indexed columns appear in <code>ORDER BY</code> or <code>GROUP BY</code></li> <li>when there is primary key column, unique column or distinct keyword in select query(note: primary key column/unique column creates b-tree index which is the only supported index type)</li> </ul> <p>create regular index sql for different types: <pre><code>-- btree index\nCREATE INDEX IF NOT EXISTS &lt;idx&gt; ON &lt;tables_name&gt; (&lt;col&gt;);\n\n-- hash index\nCREATE INDEX &lt;idx&gt; ON &lt;tables_name&gt; USING HASH (&lt;col&gt;);\n\n-- gist:point, box, polygon, tsrange, tsvector, tsquery type ...\nCREATE INDEX &lt;idx&gt; ON &lt;tables_name&gt; USING GIST (&lt;geometric_col&gt;);\n\n-- gin\nCREATE INDEX &lt;idx&gt; ON &lt;tables_name&gt; USING GIN (&lt;jsonb_col&gt;);\n\n-- brin\nCREATE INDEX &lt;idx&gt; ON &lt;tables_name&gt; USING BRIN (&lt;timestamp_cols&gt;);\n</code></pre></p> <p>advanced usage of index: <pre><code>-- index on expr: will store index on expression result and called when these expressions appear in SELECT WHERE, ORDER BY statements...\nCREATE INDEX &lt;idx&gt; ON &lt;tables_name&gt; (&lt;expr&gt;);\n\n-- partial index: only inserts rows that satisfy &lt;cond&gt; into the index, then in select query, if the same &lt;cond&gt; appears in SELECT WHERE, this index will be used\nCREATE [IF NOT EXISTS] INDEX &lt;idx&gt;\nON &lt;tables_name&gt; (&lt;col1&gt;)\nWHERE &lt;cond&gt;;\n\n-- multi-column index: index sequence of multiple columns\n-- - support 32 col at max by default, can be adjusted in pg_config_manual.h\n-- - index type that support this: btree, GIST, GIN and BRIN\n-- - used when the WHERE statement appears subsequence of index sequence joined by AND, such as \"col1=v1\", \"col1=v1 AND col2=v2\", ...; if you omit \"col1=v1\" and just use \"col2=v2\" in WHERE, index use is not guranteed\nCREATE INDEX [IF NOT EXISTS] INDEX &lt;idx&gt;\nON &lt;tables_name&gt; (&lt;col1&gt;, &lt;col2&gt;, &lt;col3&gt;, ...);\n</code></pre></p> <p>create index in production environment: <pre><code>-- avoid blocking write and reading during index build to avoid downtime;\n-- if not used, db creates mutual lock during index build\nCREATE INDEX CONCURRENTLY &lt;idx&gt; ON &lt;tables_name&gt; (&lt;col&gt;);\n</code></pre></p>","tags":["Programming"]},{"location":"2025/12/12/database/#22-full-text-search-gin","title":"2.2 Full-Text Search (GIN)","text":"<p>Beside elastic search, we can also use <code>tsvector</code>, <code>tsquery</code> combined with GIN index to perform FTS in DB.</p> <p>Relevant data type:</p> <ul> <li><code>to_tsvector()</code>: takes a string, preprocess it into lexeme tokens, returns a sorted list of tokens and their positions and weight within the string</li> <li><code>to_tsquery()</code>: takes some keywords joined by search operators and return a search query</li> </ul> <p>GIN indexable operator:</p> operator class indexable operator role tsvector_ops @@ (tsvector, tsquery) evaluate similarity between tsvector and tsquey and return true if match <p>Set up FTS:</p> <ol> <li>Create database to store text and tsvector: <pre><code>CREATE TABLE Articles (\n    id SERIAL PRIMARY KEY,\n    title TEXT NOT NULL,\n    article TEXT,\n    search_vectors TSVECTOR GENERATED ALWAYS AS \n        (to_tsvector('English', article)) STORED\n);\n</code></pre></li> <li>Create GIN index on tsvector column type: <pre><code>CREATE INDEX article_fts\nON Articles\nUSING GIN ( search_vectors );\n</code></pre></li> </ol> <p>Perform basic FTS Query on databases: <pre><code>-- use ts_vector @@ ts_query in where to match\nSELECT title, article FROM Articles\nWHERE search_vectors @@ to_tsquery('&lt;keyword1&gt;');\n\n-- FTS with AND: articles contain both &lt;keyword1&gt; and &lt;keyword2&gt;\nSELECT title, article FROM Articles\nWHERE search_vectors @@ to_tsquery('&lt;keyword1&gt; &amp; &lt;keyword2&gt;');\n\n-- FTS with OR: articles contain either &lt;keyword1&gt; or &lt;keyword2&gt;\nSELECT title, article FROM Articles\nWHERE search_vectors @@ to_tsquery('&lt;keyword1&gt; | &lt;keyword2&gt;');\n\n-- FTS with phrases: phrase must be enclosed by double quotes\nSELECT title, article FROM Articles\nWHERE search_vectors @@ to_tsquery('\"&lt;keyword1&gt; &lt;keyword2&gt;\"');\n</code></pre></p> <p>Advanced FTS query: https://iniakunhuda.medium.com/postgresql-full-text-search-a-powerful-alternative-to-elasticsearch-for-small-to-medium-d9524e001fe0</p> <p>FTS functions and operators: https://www.postgresql.org/docs/current/functions-textsearch.html</p>","tags":["Programming"]},{"location":"2025/12/12/database/#23-storing-json","title":"2.3 Storing JSON","text":"<p>We can use postgresql to store and index json documents like using MongoDB. The corresponding data type in postgresql is <code>jsonb</code>(binary json). We can check key existence and retrieve key value on json documents stored in psql.</p> Relevant data type: jsonpath, jsonb, array <p>jsonpath are a kind of expression on jsonb value. There are 2 types: \u00a0SQL-standard JSON path expressions and json path predicate check expressions. The first one return a jsonb data type, while the second one return <code>true/false/unknown</code>:  - SQL-standard json path: has <code>? ( &lt;cond&gt; )</code> as filter condition, used with <code>@?</code>, example: <code>'{\"a\":[1,2,3,4,5]}' @? '$ ?(@.a[*] &gt; 2)'</code>  - predicate check json path:  has no <code>?()</code> as filter condition, used with <code>@@</code>, example: <code>'{\"a\":[1,2,3,4,5]}' @@ '$.a[*] &gt; 2'</code></p> <p>jsonpath symbols:  - <code>$</code>: denote the root value of json value  - <code>.*</code>: returns the values of all members at the top level of current object  - <code>.**</code>: return all member values at all levels  - <code>[&lt;index&gt;]</code>: return the single array element specified by the index  - <code>[*]</code>: return all array elements  - <code>?(&lt;cond&gt;)</code>: filter expression  - <code>@</code>: represent the result of path evaluation, json path are of forms: <code>&lt;path&gt; ?(&lt;cond&gt;)</code>, examples of<code>&lt;path&gt;</code> include: <code>$</code>, <code>$.&lt;field_name&gt;</code></p> <p>jsonb are binary json column type. The literal values of such types are json strings with keys and values enclosed by double quotes. Its operators include:  - <code>-&gt;&gt;</code>: access a field of json object and return the field as text type  - <code>-&gt;</code>: access a field of json object and return the field as jsonb type  - <code>#&gt;&gt;</code>: takes an array of text as the field path and return the field as text type, example: result of <code>'{\"a\":[1,2,3],\"b\":[4,5,6]}'::json#&gt;&gt;'{a,2}'</code> is 3  - <code>#&gt;</code>: takes an array of text as the field path and return the field as jsonb type, example: result of <code>'{\"a\": {\"b\":{\"c\": \"foo\"}}}'::json#&gt;'{a,b}'</code> is <code>{\"c\": \"foo\"}</code></p> <p>GIN indexable operators:</p> operator class indexable operators Role array_ops &amp;&amp; (anyarray, anyarray) check if 2 arrays share at least 1 element @&gt; (anyarray, anyarray) check if left array fully contains right array &lt;@ (anyarray, anyarray) check if right array full contains left array = (anyarray, anyarray) check if 2 arrays are equal jsonb_ops @&gt; (jsonb, jsonb) check if the left json document contains the key/value entries from the right json document at top level @? (jsonb, jsonpath) used with SQL-standard json path, check if the json path return any item from the json document @@ (jsonb, jsonpath) used with predicate check json path, behavior N/A ? (jsonb, text) key exists in jsonb document at top level ?| <code>(jsonb, text[])</code> any key from the array exists in jsonb document at top level ?&amp; <code>(jsonb, text[])</code> all keys from the array exist in jsonb document at top level jsonb_path_ops @&gt; (jsonb, jsonb) same as jsonb_ops @&gt; @? (jsonb, jsonpath) same as jsonb_ops @? @@ (jsonb, jsonpath) same as jsonb_ops @@ jsonb_ops vs jsonb_path_ops: <ul> <li>jsonb_ops is the default jsonb operator class in gin index and support a wide range of operators as above</li> <li>jsonb_path_ops uses an even more optimized GIN Index structure but supports a smaller set of operations as above</li> </ul> <p>Set up database:</p> <ol> <li>Create database with <code>JSONB</code> type column: <pre><code>CREATE TABLE data_json (\n    id SERIAL PRIMARY KEY,\n    data JSONB NOT NULL\n);\n\nCREATE TABLE data_arr (\n    id SERIAL PRIMARY KEY,\n    data TEXT[]\n);\n\nINSERT INTO data_json (data) VALUES\n('{\"name\": \"Laptop\", \"specs\": {\"RAM\": \"16GB\", \"storage\": \"512GB SSD\"}, \"in_stock\": true}'),\n('{\"name\": \"Phone\", \"specs\": {\"RAM\": \"8GB\", \"storage\": \"256GB\"}, \"in_stock\": false}'),\n( jsonb_build_object('first_name', 'papa', 'last_name', 'john', 'address', jsonb_build_object('city', 'New York', 'country', 'CA')) ),\n(jsonb_build_object('first_name', 'harry', 'last_name', 'potter', 'address', jsonb_build_object('city', 'London', 'country', 'UK'), 'email', 'abc@123'));\n</code></pre></li> <li>Create index on <code>JSONB</code> column or its field: <pre><code>-- index JSONB column with jsonb_ops class operator\nCREATE INDEX index_json ON data_json\nUSING GIN ( data );\n\n-- or index on specific field that we are interested of JSONB col with jsonb_path_ops class operator for even more optimization\nCREATE INDEX index_json ON data_json\nUSING GIN (data-&gt;&gt; 'last_name' jsonb_path_ops);\n\n-- index on array column\nCREATE INDEX index_arr ON data_arr\nUSING GIN ( data );\n</code></pre></li> </ol> <p>Perform index query: <pre><code>-- -&gt;&gt; return a field as jsonb type, -&gt; return a field as text type\nSELECT data -&gt;&gt; 'first_name' first_name,\n    data -&gt;&gt; 'last_name' last_name\n    FROM data_json\n    WHERE data @&gt; '{\"last_name\": \"john\"}';\n\n-- equivalent to above query\nSELECT data -&gt;&gt; 'first_name' first_name,\n    data -&gt;&gt; 'last_name' last_name\n    FROM data_json\n    WHERE data-&gt;'last_name' @&gt; '\"john\"';\n\n-- for nonexistent field, query return null value\n-- return ['papa', 'john', null, 'CA']\nSELECT data -&gt;&gt; 'first_name' first_name,\n    data -&gt;&gt; 'last_name' last_name,\n    data -&gt;&gt; 'email' email,\n    data -&gt;'address' -&gt;&gt;'country' county\n    FROM data_json\n    WHERE data-&gt;'address' @&gt; '{\"city\": \"New York\"}';\n</code></pre></p>","tags":["Programming"]},{"location":"2025/12/12/database/#24-b-tree-index","title":"2.4 b-tree index","text":"<p>indexable operators: =, &lt;, &lt;=, &gt;, &gt;=</p>","tags":["Programming"]},{"location":"2025/12/12/database/#3-policy-constraint-tigger","title":"3. Policy, Constraint &amp; Tigger","text":"","tags":["Programming"]},{"location":"2025/12/12/database/#31-policy","title":"3.1 Policy","text":"<p>For each table, we define policies to control specific rows permission to certain users</p> <pre><code>CREATE POLICY &lt;policy_name&gt; ON &lt;tables_name&gt;\n    [AS &lt;PERMISSIVE | RESTRICTIVE&gt;]\n    [FOR &lt; ALL | SELECT | INSERT | UPDATE | DELETE&gt;]\n    [TO &lt; role_name | PUBLIC | CURRENT_ROLE | CURRENT_USER &gt;]\n    [USING &lt;using_cond&gt;]\n    [WITH CHECK &lt;check_cond&gt;]\n</code></pre> <p>example: <pre><code>-- required step to create policies\nALTER TABLE users ENABLE ROW LEVEL SECURITY;\n\n-- create policy that allows user to do any operation on rows with username\n-- equal to postgres, the expression after USING is similar to where condition in select\nCREATE POLICY user_policy ON users\nFOR ALL\nUSING users.user_name = 'postgres';\n</code></pre></p>","tags":["Programming"]},{"location":"2025/12/12/database/#32-trigger","title":"3.2 Trigger","text":"<p>triggers are functions that automatically execute in response to INSERT, UPDATE\uff0c DELETE or TRUNCATE on a table. Trigger functions are comprise of sql and the response is triggered before/after/instead of the event of insert/update/delete/truncate</p> <pre><code>-- define trigger function\nCREATE OR REPLACE FUNCTION &lt;trigger_function&gt;() RETURNS TRIGGER AS $$\nBEGIN\n    -- trigger logic here, e.g., logging changes or modifying NEW/OLD rows\n    RETURN NEW; -- or OLD, or NULL depending on trigger type and timing\nEND;\n$$ LANGUAGE plpgsql;\n\n-- define when trigger is triggered\nCREATE TRIGGER trigger_name\n&lt;BEFORE | AFTER | INSTEAD OF&gt; &lt;INSERT | UPDATE | DELETE | TRUNCATE&gt;\nON table_name\n[FOR EACH &lt;ROW | STATEMENT&gt;]\n[WHEN (condition)]\nEXECUTE FUNCTION trigger_function();\n</code></pre> <p>example: <pre><code>-- define trigger function\nCREATE OR REPLACE FUNCTION audit_log() RETURNS TRIGGER AS $$\nBEGIN\n    INSERT INTO Audit(emp_ID, entry_date) VALUES (NEW.ID, current_timestamp)\n    RETURN NEW;\nEND;\n$$ LANGUAGE plpgsql;\n\n-- trigger\nCREATE TRIGGER audit_trigger\nAFTER INSERT\nON Company\nFOR EACH ROW\nEXECUTE FUNCTION audit_log();\n</code></pre></p>","tags":["Programming"]},{"location":"2025/12/12/database/#33-constraint","title":"3.3 Constraint","text":"<p>types:</p> <ul> <li>check constraint</li> <li>not null constraint</li> <li>unique constraint</li> <li>primary keys</li> <li>foreign keys</li> <li>exclusive constraint</li> </ul> <pre><code>-- price, discountedPrice are 2 cols of table product\nALTER TABLE product\nADD CONSTRAINT valid_discount CHECK (price &gt; discountedPrice);\n\n-- not null constraint\nALTER TABLE product\nALTER COLUMN &lt;col&gt; SET NOT NULL;\n\n-- unique constriant: create unique index using b+tree and only b+tree type index supports unique index\nALTER TABLE product\nADD CONSTRAINT unique_constraint UNIQUE (&lt;col1&gt;, &lt;col2&gt;...);\n\n-- primary key constraint: create b+tree index which is the only index type that supports primary key constraint\nALTER TABLE product\nADD CONSTRAINT &lt;constrain_name&gt; PRIMARY KEY (&lt;col1&gt;, &lt;col2&gt;...);\n\n-- foreign constraint, available action includes: NO ACTION(default), RESTRICT, CASCADE, SET NULL, SET DEFAULT\nALTER TABLE &lt;child_table&gt;\nADD CONSTRAINT &lt;constrain_name&gt;\nFOREIGN KEY (&lt;col1&gt;, &lt;col2&gt;, ...)\nREFERENCES &lt;parent_table&gt; (&lt;parent_col1&gt;, &lt;parent_col2&gt;, ...)\nON &lt;available_action&gt;;\n\n-- exclude constraint specifies 2 rows cannot exist at the same time if they meet certain conditions, this constraint automatically creates index like gist/b-tree/hash\n-- syntax:\nCREATE EXTENSION IF NOT EXISTS btree_gist; -- required step\nALTER TABLE &lt;tables_name&gt;\nADD CONSTRAINT &lt;constrain_name&gt;\nEXCLUDE USING gist (\n    -- common operator includes tsrange(timestamp_col1, timestamp_col2) with &amp;&amp;, regular column with =\n    &lt;col1&gt; WITH &lt;operator1&gt;,\n    &lt;col2&gt; with &lt;operator2&gt;\n)\n-- we first apply WHERE condition to filter out the rows we apply exclude\n[WHERE (&lt;cond&gt;)];\n\n-- example: same room cannot be booked if the time interval overlaps, \n--          only applies to rooms that are not canceled\nCREATE EXTENSION IF NOT EXISTS btree_gist; -- required step\nALTER TABLE reservation\nADD CONSTRAINT &lt;constrain_name&gt;\nEXCLUDE USING GIST (room_id WITH =, TSRANGE(start_date, end_date) WITH &amp;&amp;)\nWHERE (booking_status != 'CANCELED');\n</code></pre>","tags":["Programming"]},{"location":"2025/12/12/database/#4-transaction","title":"4. Transaction","text":"<p>transaction: a sequence of sql operations executed as a single unit.</p> <p>Principles implemenetd by transactions(ACID):</p> <ul> <li>Atomicity: all sqls within the transaction block either executed entirely or either not executed at all</li> <li>Consistency: all tables data must follow the defined rules/constraints before or after transactions</li> <li>Isolation: multiple transactions should not interfere with each other at the same when access the same resources, isolation level can be adjusted in <code>BEGIN</code> command below</li> <li>Durability: once a txn is committed, changes are permanent.</li> </ul> <p>Database anomaly resulted by diff levels of transaction isolation:</p> <ul> <li>Dirty read: read uncommitted data by another transaction, usually don't happen in postgresql because every query is wrapped in <code>READ COMMITTED</code> transaction.</li> <li>non-repeatable read: a transaction reads the same row multiple times but gets different values because another concurrent transactions modification, can be solved by setting the read transaction level to be <code>REPEATABLE READ</code> </li> <li>phantom read: a transaction executes a query and then again, but get different set of rows because another concurrent transactions insert/delete the tables, can be solved by setting read transaction</li> </ul> <p>transaction related command:</p> COMMAND role <code>BEGIN [ISOLATION LEVEL &lt; READ COMMITED \\| REPEATABLE READ \\| SERIALIZABLE &gt; ]</code> Marks the beginning of a transaction block with following increasing isolation level:- READ COMMITED: A query only sees data committed before the query began. Two consecutive queries within the same transaction can see different data if another transaction commits changes in between.- REPEATABLE READ: all queries within a single transaction see a stable snapshot of the data as it was at the\u00a0start\u00a0of the transaction- SERIALIZABLE: all queries within a single can not just see the row values as it was at the start of the transaction but also the row set is fixed. COMMIT submit the transaction to datab ROLLBACK cancel all changes of the current transaction b <code>SAVEPOINT &lt;name&gt;</code> Create a savepoint within the transaction to rollback <code>ROLLBACK TO &lt;savepoint_name&gt;</code> rollback to the previously defined sav","tags":["Programming"]},{"location":"2025/12/12/database/#5-sql-optimization","title":"5. SQL Optimization","text":"","tags":["Programming"]},{"location":"2025/12/12/database/#51-explain","title":"5.1 EXPLAIN","text":"<p>EXPLAIN is a command that can return the query plan of a given query but does not execute the query. <code>EXPLAIN ANALYZE</code> can not just return the query plan but also return the real execution time of the query plan.</p> <p>How to use <code>EXPLAIN</code>: <pre><code>-- syntax\nEXPLAIN &lt;query&gt;\nEXPLAIN ANALYZE &lt;query&gt;\n\n-- example:\nEXPLAIN SELECT Token.name FROM public.Token;\n</code></pre></p> <p>Output: <pre><code>QUERY PLAN\n---\nSeq Scan on \"Token\"  (cost=0.00..394.91 rows=13591 width=11)\n</code></pre> The result of query plan is executed from inner to outermost. Each step of query plan is represented by<code>&lt;STEP&gt;(cost=&lt;initial_cost&gt;..&lt;total_cost&gt; rows=&lt;row_num&gt; width=&lt;col_size&gt;)</code></p> Metric role initial_cost How many milli seconds does it take to fetch the first page of the table, factors that influence this metric include order by, aggregate function total_cost Total amount of time sql_server thinks will take(EXPLAIN does not really execute the sql) row_num an estimate of number of rows of the table col_size estimate avg sum of all the bytes of the columns query plan steps(<code>&lt;Step&gt;</code>): Step role <code>Bitmap Index Scan on &lt;table&gt;</code> where condition on indexed column <code>Bitmap Heap Scan on &lt;table&gt;</code> non-indexed column of index scan rows <code>Seq Scan on &lt;table&gt; [Filter:]</code> select based on non indexed where condition Hash(cost=...) temporary store the scan results in hashtable <code>Hash Join(cost=...) Hash Cond: &lt;join_cond&gt;</code> Join 2 tables based on the sql join condition <code>Sort (cost=...) Sort Key:&lt;orderby_column&gt;</code> order the result based on the column after <code>order by</code>","tags":["Programming"]},{"location":"2025/12/12/database/#7-extensions","title":"7. Extensions","text":"<p>Extensions are just like libraries that provide additional functions.</p> <p>How to check extensions: <pre><code>-- list of all available extensions that can be enabled\nSELECT * FROM pg_available_extensions;\n\n-- list of enabled extensions in your database\nSELECT * FROM pg_extension;\n</code></pre></p> <p>Enable an extension: <pre><code>CREATE EXTENSION IF NOT EXISTS &lt;extensions_name&gt;;\n</code></pre></p>","tags":["Programming"]},{"location":"2025/12/12/database/#6-non-relational-type","title":"6. Non-relational typeShare this post:","text":"<p>other database types:</p> <ul> <li>hashtable: Reddis</li> <li>documents: MongoDB</li> <li>column: Cassandra, Hbase</li> <li>graph: Neo4j</li> </ul> <p>Share on  Share on </p>","tags":["Programming"]},{"location":"2025/11/10/docker/","title":"Docker","text":"<p>My cheatsheet for using docker</p>","tags":["DevOps"]},{"location":"2025/11/10/docker/#1-docker-command","title":"1. docker command","text":"<p>boot up or shutdown docker daemon: (go to admin powershell) <pre><code>net start \"Docker Desktop Service\"\nGet-Service  -Name \"Docker Desktop Service\"\nnet stop \"Docker Desktop Service\"\n</code></pre></p>","tags":["DevOps"]},{"location":"2025/11/10/docker/#11-common","title":"1.1 common","text":"<pre><code>## images\ndocker images               # List all images\ndocker pull &lt;imageName&gt;     # download image\ndocker push &lt;imageName&gt;     # upload image to dockerhub or AWS ECR\n\n## container\ndocker ps -a                          # List all containers\n## creates a new container and run the main application process within it\ndocker run &lt;imageName&gt;\n## create the container in background process\ndocker run -d &lt;imageName&gt;\n## creates a new container and create a new bash process beside the application process in it to interact with the container\ndocker run -it &lt;imageName&gt; /bin/bash\n## enter a running container &amp; create a new bash process in that container; this does not create new container like docker run\ndocker exec -it &lt;containerID&gt; /bin/bash\ndocker stop &lt;containerID&gt;         # stop a container\ndocker start &lt;containerID&gt;        # start a stopped container\n## connect the terminal to the input/output/error stream of main process of a running container; usually a container runs one process, if the container is running a program, you see the program output in the terminal &amp; can't type new command\ndocker attach &lt;containerID&gt;\ndocker rm &lt;containerID&gt;\n\n## Other\ndocker inspect &lt;containerID&gt;\n</code></pre>","tags":["DevOps"]},{"location":"2025/11/10/docker/#12-docker-volume","title":"1.2 docker volume:","text":"<p>If we save files within a docker container and delete that container, we lose those files. Thus, we introduce docker volume. Docker volume is the backup storage that allows us to save the files on host machines, when the container is deleted. Think of it as a USB.</p> <pre><code>docker volume ls                     # list created docker volumes\n## creates the volume under /var/lib/docker/volumes/\ndocker volume create &lt;volume_name&gt;\ndocker volume inspect &lt;volume_name&gt;\ndocker volume rm &lt;volume_name&gt;\n\n## attach the volume to a container; a volume can be used by multiple containers\ndocker run -v &lt;volume_name&gt;:&lt;container_path&gt; &lt;imageName&gt;\ndocker volume prune                # delete all unused volumes\n</code></pre>","tags":["DevOps"]},{"location":"2025/11/10/docker/#13-docker-network","title":"1.3 docker network","text":"<p>docker network:  When container is created without <code>--network</code> through <code>docker run</code>, they are default in the <code>docker0</code> network. Containers within this network can communicate with host and other containers within this network. They can also access the Internet. <code>docker0</code> is bridge type. Docker networks have following types:  - Bridge: containers communicate each other through the host gateway and can access Internet through NAT; containers of this network must be on same machine  - Host: containers themselves won't have IPs or ports. No ports mapping. They share the IPs and ports with the host  - Overlay: used in docker swarm to communicate containers within different docker daemons; containers of this network can be located on different machines  - None</p> <pre><code>## port mapping command for containers in bridge network\ndocker run -p &lt;HOST_PORT&gt;:&lt;HOST_PORT&gt;:&lt;CONTAINER_PORT&gt; &lt;IMAGE_NAME&gt;\n\ndocker network create -d &lt;NETWORK_TYPE&gt; &lt;NETWORK_NAME&gt; # create network\ndocker network inspect &lt;NETWORK_NAME&gt;\ndocker network rm &lt;NETWORK_NAME&gt;\ndocker network prune\n\n## create a container using specific network\ndocker run --net &lt;NETWORK_NAME&gt; &lt;IMAGE_NAME&gt;\n## connect existing container to a network; a container can be in multiple networks\ndocker network connect &lt;NETWORK_NAME&gt; &lt;containerID&gt;\ndocker network disconnect &lt;NETWORK_NAME&gt; &lt;containerID&gt;\n</code></pre> <p>docker hostname: docker hostnames are used for inter-container communication within the same network. For example, if we want to ping container B from container A or send network request through programming languages, we need container B's hostname as the url. The default hostname for a container is its container ID or the container's name under user-defined bridge docker network(this happens when containers are created and launched by <code>docker-compose.yaml</code> since <code>docker-compose.yaml</code> automatically create new bridge network even not explicitly specified)</p>","tags":["DevOps"]},{"location":"2025/11/10/docker/#2-docker-context","title":"2. Docker Context","text":"<p>Docker context allows us to connect to different docker daemons either on local machines or on remote machines that install dockers. This allows us to build docker compose or docker file on remote docker engines. Remote machines that support docker include:</p> <ul> <li>DigitalOcean(simplest + cheapest)</li> <li>AWS EC2(mannually install docker)</li> <li>AWS ECS(retired: https://forums.docker.com/t/query-why-is-docker-composes-integration-for-ecs-and-aci-retiring-in-november-2023/138461): replacement soln is docker compose-x/ECS-cli(not stable)</li> </ul> <pre><code>docker context ls     # list all docker contexts\ndocker context inspect &lt;contextName&gt;\ndocker context rm &lt;contextName&gt;\n\n## to find the host of remote docker, check the host field of docker context inspect &lt;RemoteContextName&gt;, host can be ssh, tcp, etc.\ndocker context create &lt;contextName&gt; --docker \"host=ssh://user@remote-host\"\ndocker context use &lt;contextName&gt;\n</code></pre>","tags":["DevOps"]},{"location":"2025/11/10/docker/#3-dockerfile","title":"3. Dockerfile","text":"<p>Creating single dockerfile(<code>docker build dockerfile</code>) <pre><code>## build from base image, appear in the first line\nFROM &lt;IMAGE_NAME&gt;:&lt;tag&gt;\n## pass variable and default value of it at build time; can be attached multiple variables &amp; values\nARG &lt;VAR_NAME&gt;[=&lt;DEFAULT_VALUE&gt;]\n\n## set the working directories for following RUN, CMD, ENTRYPOINT, COPY, ADD; can be set multiple times\nWORKDIR \"&lt;CONTAINER_PATH&gt;\"\n## copies files from HOST_PATH to CONTAINER_PATH,HOST_PATH is host file path \nCOPY \"&lt;HOST_PATH&gt;\" \"&lt;CONTAINER_PATH&gt;\"\n## same as COPY; except that HOST_PATH can be remote url and when HOST_PATH is a tar file, ADD will extract it into CONTAINER_PATH\nADD \"&lt;HOST_PATH&gt;\" \"&lt;CONTAINER_PATH&gt;\"\n\n## set the environment variable to value when container is running\nENV &lt;VARIABLE&gt; &lt;VALUE&gt;\n## mount the HOST_PATH as external volume\nVOLUME &lt;HOST_PATH&gt;\n## specifies the port the container listens on; still need port mapping in order to access the port, ex: docker run -p 80:8080 if 8080 is EXPOSE\nEXPOSE &lt;CONTAINER_PORT&gt;\n## set the username/UID for following RUN, CMD, ENTRYPOINT\nUSER &lt;USERNAME/UID&gt;\n\n\n## executes commands/executables during build process; executables must be in image file system path\nRUN &lt;command1/executable1&gt; &lt;arg1&gt; &lt;arg2&gt; &amp;&amp;\\\n    &lt;command2/exectable2&gt; &lt;arg1&gt; &lt;arg2&gt;\n## executes commands/executables when container is started or provide arguments to ENTRYPOINT executables if ENTRYPOINT appears; when multiple CMD lines appear, only the last one takes effect\nCMD &lt;command1/executable1&gt; &lt;arg1&gt; &lt;arg2&gt; &amp;&amp;\\\n    &lt;command2/executable2&gt; &lt;arg1&gt; &lt;arg2&gt;\nCMD &lt;command1/executable1&gt; &lt;arg1&gt; &lt;arg2&gt; ;\\\n    &lt;command2/executable2&gt; &lt;arg1&gt; &lt;arg2&gt;\nCMD &lt;arg1&gt; &lt;arg2&gt;\n## runs the executable when container is launched; when CMD and ENTRYPOINT both appear, the arguments to CMD will be appended to ENTRYPOINT\nENTRYPOINT &lt;command/executable&gt; &lt;arg1&gt; &lt;arg2&gt;\n</code></pre></p> <p>Link multiple dockerfiles(use <code>onBuild</code>)  We can reuse a parent dockerfile instructions in children dockerfile. We define commands through <code>onBuild</code> in parent dockerfile. The parent dockerfile won't execute <code>onBuild</code> instructions when parent dockerfile is built. They will be executed when the children dockerfile import parent dockerfile through <code>FROM</code> - parent dockerfile: <pre><code>FROM base_image  \nONBUILD COPY . /app  \nONBUILD RUN npm install\n</code></pre> - children dockerfile: <pre><code>FROM parent_image:latest\n</code></pre></p> <p>reference: https://kapeli.com/cheat_sheets/Dockerfile.docset/Contents/Resources/Documents/index</p>","tags":["DevOps"]},{"location":"2025/11/10/docker/#4-docker-compose","title":"4. Docker Compose","text":"","tags":["DevOps"]},{"location":"2025/11/10/docker/#41-compose-yaml","title":"4.1 compose yaml","text":"<p><code>docker-compose.yaml</code> basic structure: <pre><code>version: '3.8'\nservices:\n    service1:\n        # service1 configuration\n    service2:\n        # service1 configuration\nvolumes:\n    volume1\nnetworks:\n    network1\n</code></pre></p> <p>service configuration:</p> <ul> <li>image/build: <ul> <li>image: specify docker image</li> <li>build: specify the directory path of <code>dockerfile</code></li> </ul> </li> <li>ports: list of<code>&lt;HOST_PORT&gt;:&lt;CONTAINER_PORT&gt;</code>or ` <li>environment/env_file:<ul> <li>environment: list of <code>&lt;env_variable&gt;: &lt;values&gt;</code></li> <li>env_file: location of env file</li> </ul> </li> <li>volumes: list of <code>&lt;HOST_PATH&gt;:&lt;CONTAINER_PATH&gt;:[ro]</code>, <code>ro</code> represents read-only</li> <li>networks</li> <li>depends_on: list of other <code>&lt;service_name&gt;</code>, specify the order of launching container services</li> <li>healthcheck:<ul> <li>test: e.g(<code>[ \"CMD\", \"bash\", \"-c\", 'nc -z localhost 9092' ]</code>)</li> <li>interval: e.g(<code>30s</code>)</li> <li>timeout: e.g(<code>10s</code>)</li> <li>retries: e.g(<code>5</code>)</li> </ul> </li> <p>create containers and start application: <code>docker compose up -d</code> stop applications: <code>docker compose stop</code> start stopped containers: <code>docker compose start</code> stop and restart applications: <code>docker compose restart</code></p>","tags":["DevOps"]},{"location":"2025/11/10/docker/#42-check-logs","title":"4.2 Check logs","text":"<p>we check logs when the start up of a container fails: <pre><code>docker compose log &lt;containerName&gt;\n</code></pre></p>","tags":["DevOps"]},{"location":"2025/11/10/docker/#5-docker-swarm","title":"5. Docker Swarm","text":"<p>docker compose can only create containers on one server, while docker swarm can distribute containers among different servers.</p>","tags":["DevOps"]},{"location":"2025/11/10/docker/#6-docker-disk-fileswindows","title":"6. Docker disk files(windows)","text":"<p>On windows, Docker stores its containers and images in <code>ext4.vhdx</code> files. This file gets large easily.</p>","tags":["DevOps"]},{"location":"2025/11/10/docker/#61-shrink-ext4vhdx","title":"6.1 shrink ext4.vhdx","text":"<p>When we no longer needs docker images/containers, we can clean it through following(windows):</p> <ol> <li>delete all images/containers: <code>docker system prune -a</code></li> <li><code>wsl --shutdown</code></li> <li>shrink .vhdx: <pre><code>diskpart\n## open Diskpart in new window\nselect vdisk file=\"D:\\program\\wsl\\docker-desktop-data\\ext4.vhdx\"\nattach vdisk readonly\ncompact vdisk\ndetach vdisk\nexi\n</code></pre></li> <li><code>optimize-vhd \"D:\\program\\wsl\\docker-desktop-data\\ext4.vhdx\" -mode full</code></li> </ol>","tags":["DevOps"]},{"location":"2025/11/10/docker/#62-change-ext4vhdx-location","title":"6.2 change ext4.vhdx location","text":"<ol> <li>Shutdown docker-desktop and its service</li> <li> <p>List all <code>.vhdx</code> files and find their locations <pre><code>## list all distro and their names\n## there should be docker-desktop and docker-desktop-data\nwsl --list  --verbose\n\n## find the ext4.vhdx location given distro name\n## replace &lt;DISTRO_NAME&gt; with docker-desktop and docker-desktop-data\n(Get-ChildItem -Path HKCU:\\Software\\Microsoft\\Windows\\CurrentVersion\\Lxss | Where-Object { $_.GetValue(\"DistributionName\") -eq \"&lt;DISTRO_NAME&gt;\" }).GetValue(\"BasePath\") + \"\\ext4.vhdx\"\n</code></pre></p> </li> <li> <p>migrate ext4.vhdx location: <pre><code>wsl --shutdown\n\nwsl --export docker-desktop D:\\docker-desktop.tar\nwsl --export docker-desktop-data D:\\docker-desktop-data.tar\n\nwsl --unregister docker-desktop\nwsl --unregister docker-desktop-data\n\nwsl --import docker-desktop D:\\DockerWSL\\docker-desktop D:\\docker-desktop.tar --version 2\nwsl --import docker-desktop-data D:\\DockerWSL\\docker-desktop-data D:\\docker-desktop-data.tar --version 2\n</code></pre></p> </li> </ol> Share this post: <p>Share on  Share on </p>","tags":["DevOps"]},{"location":"2025/10/10/leetcode/","title":"Leetcode","text":"<p>This is my leetcode notes of algorithms and questions I have practiced</p>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#0-basis","title":"0. Basis","text":"","tags":["Programming"]},{"location":"2025/10/10/leetcode/#01-built-in-module","title":"0.1 Built-in module","text":"<p>Python:</p> <ul> <li>Bisect<ul> <li><code>bisect_left(a, x, lo=0, hi=len(a)):</code>This function returns an insertion point in <code>a</code>that all elements to its left are less than\u00a0<code>x</code>, and all elements to its right are greater than or equal to\u00a0<code>x</code></li> <li>bisect_right(a, x, lo=0, hi=len(a)):<code>This function returns an insertion point in</code>a` that all elements to the left are less than or equal to x, all elements to right are greater than x</li> </ul> </li> <li>collections<ul> <li>deque</li> <li>defaultdict</li> </ul> </li> <li>heapq</li> <li>copy:<ul> <li>deepcopy: create deepcopy for objects, including nested list, set and so on</li> </ul> </li> </ul>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#02-runtime-analysis","title":"0.2 Runtime Analysis","text":"<p>Typical leetcode testcase compute machine can execute operations per second. Normally an optimal solution, with the largest input possible, would take less than seconds to terminate execution. Thus implies the following:</p> <ul> <li>n = \\(10^9\\)<ul> <li>O(log n)\uff08Don't think of O(n)) \\(\\Rightarrow\\) binary search(if input is sorted), disjointSet, segment tree, heap, AVL tree</li> </ul> </li> <li>n = \\(10^4\\)<ul> <li>O(n) \\(\\Rightarrow\\) Double pointers, prefix sum, greedy choice, DP with O(n)</li> <li>O(n * logn) \\(\\Rightarrow\\) sort then binary search</li> </ul> </li> <li>n = \\(10^3\\)<ul> <li>O(\\(n^2\\)) \\(\\Rightarrow\\) 2D array, 2D-DP</li> </ul> </li> <li>n = \\(10^2\\)<ul> <li>O(\\(n^3\\)) \\(\\Rightarrow\\) nested tripple loop</li> </ul> </li> <li>n = 10<ul> <li>O(\\(2^n\\)), O(n!) \\(\\Rightarrow\\) DFS, brute force, permutation, backtracing(recursion)</li> </ul> </li> </ul>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#1","title":"1. \u4e8c\u5206\u67e5\u627e","text":"<p>Note:</p> <ul> <li>\u53d6<code>arr[i..j]</code>\u5de6\u4e2d\u70b9: <code>(i + j) // 2</code></li> <li>\u53d6<code>arr[i..j]</code>\u53f3\u4e2d\u70b9: <code>(i + j + 1) // 2</code> Template(General template for finding element in sorted array):</li> </ul> <pre><code>def binary_search(lst, target):\n    left = 0\n    right = len(lst) - 1\n\n    while left &lt;= right:\n        mid = (left + right) // 2\n\n        if lst[mid] == target:\n            return mid\n        elif lst[mid] &lt; target:\n            left = mid + 1\n        else:\n            right = mid - 1\n\n    return -1      \n</code></pre> <p>Variant template:</p> <ul> <li>Find the first or last target in a sorted array that contains duplicate elements</li> <li>Find the insert position of target (Note: insert_position may &gt; len(nums - 1)) </li> <li>Find the position of the element in nums that is larger than or equal to target</li> </ul> pythonJava <pre><code># lower is true, then find the first target index\n# lower is false, then find the last target index\ndef binarySearch(nums, target, lower):\n    left = 0\n    right = len(nums) - 1\n    ans = len(nums)\n    # 5, 5, 6; target = 5\n    while left &lt;= right:\n        mid = (left + right) // 2\n\n        if nums[mid] &gt; target or (lower and nums[mid] &gt;= target):\n            right = mid - 1\n            # if below line is moved to else block,\n            # ans should be initialized to -1\n            # return line should be return ans + 1 if lower else ans\n            ans = mid \n        else:\n            left = mid + 1\n    return ans if lower else ans - 1\n</code></pre> <pre><code>class Solution {\n    //  find first\n    // find last lst[mid] &lt;= target\n    public int binarySearch(lst: int[], int target, boolean findFirst){\n        int left = 0;\n        int right = lst.length - 1;\n        int ans = lst.length;\n        while(left &lt;= right){\n            int mid = (left + right) &gt;&gt;&gt; 1\uff1b\n\n            if(lst[mid] &gt; target || findFirst &amp;&amp; lst[mid] &gt;= target){\n                right = mid - 1;\n                ans = mid;\n            }\n            else{\n                left = mid + 1;\n            }\n        }\n        return ans if findFirst else ans - 1;\n    }\n\n\n}\n</code></pre> <ul> <li>\u4e8c\u5206\u6bd4\u8f83\u6761\u4ef6(\u601d\u8def\u6765\u6e90\u4e8eSearch in Rotated Sorted Array\uff0c leetcode: #33) <pre><code>def binaryCompare(nums):\n    l = 0\n    r = len(nums) - 1\n    mid = (l + r) // 2\n    ans = mid\n    while l &lt;= r:\n        if ...:  # \u5173\u4e8enums[mid]\u7684\u6761\u4ef6\n            l = mid + 1\n        elif ...: # \u5173\u4e8enums[mid]\u7684\u6761\u4ef6\n            r = mid - 1\n\n        if ...: # \u5173\u4e8enums[mid]\u7684\u6761\u4ef6\n            ans = mid\n            break\n\n        mid = (l + r) // 2\n    return ans  \n</code></pre></li> </ul> <p>\u9898:</p> <ul> <li>Insert Interval (leetcode: #57_)</li> <li>Lintcode #483:(ans: https://www.jiuzhang.com/problem/copy-books-ii/, quite similar to server selection under greedy, but not the same problem type)</li> <li>Find Peak element(Leetcode: #162)</li> <li>Find the range(Leetcode: #34)</li> </ul> <pre><code>def insert(self, intervals: List[List[int]], newInterval: List[int]) -&gt; List[List[int]]:\n\n        if len(intervals) == 0:\n            return [newInterval]\n\n        if len(intervals) == 1:\n            if newInterval[0] &gt;= intervals[0][0]:\n                if newInterval[0] &lt;= intervals[0][1]:\n                    return [[intervals[0][0], max(intervals[0][1], newInterval[1])|intervals[0][0], max(intervals[0][1], newInterval[1])]]\n                else:\n                    return [intervals[0], newInterval]\n            else:\n                if newInterval[1] &gt;= intervals[0][0]:\n                    return [[newInterval[0], max(newInterval[1], intervals[0][1])|newInterval[0], max(newInterval[1], intervals[0][1])]]\n                else:\n                    return [newInterval, intervals[0]]\n\n        lower_start, upper_start = self.find_position(intervals, newInterval, 0)\n        lower_end, upper_end = self.find_position(intervals, newInterval, 1)\n        if lower_start == None:\n          if upper_end == None:\n            return [newInterval]\n          if newInterval[1] &gt;= intervals[upper_end][0]:\n                return [[newInterval[0], max(newInterval[1], intervals[upper_end][1])|newInterval[0], max(newInterval[1], intervals[upper_end][1])]] + intervals[1:]\n          else:\n              return [newInterval] + intervals[upper_end:]\n        if newInterval[0] &lt;= intervals[lower_start][1]:\n            if upper_end == None:\n              return intervals[:lower_start] + [[intervals[lower_start][0], newInterval[1|intervals[lower_start][0], newInterval[1]]]\n            if newInterval[1] &gt;= intervals[upper_end][0]:\n                return intervals[:lower_start] + [[intervals[lower_start][0], intervals[upper_end][1|intervals[lower_start][0], intervals[upper_end][1]]] + intervals[upper_end + 1:]\n            else:\n                return intervals[:lower_start] + [[intervals[lower_start][0], newInterval[1|intervals[lower_start][0], newInterval[1]]] + intervals[upper_end:]\n        else:\n            if upper_end == None:\n              return intervals[:lower_start + 1] + [newInterval]\n            if newInterval[1] &gt;= intervals[upper_end][0]:\n                return intervals[:lower_start + 1] + [[newInterval[0], intervals[upper_end][1|newInterval[0], intervals[upper_end][1]]] + intervals[upper_end + 1:]\n            else:\n                return intervals[:lower_start + 1] + [newInterval] + intervals[upper_end:]\n\n\n    def find_position(self, intervals: List[List[int]], newInterval: List[int], index) -&gt; List[int]:\n      if newInterval[index] &lt; intervals[0][index]:\n        return [None, 0]\n      if newInterval[index] &gt; intervals[-1][index]:\n        return [len(intervals) - 1, None]\n\n      lower = 0\n      upper = len(intervals) - 1\n      mid = (upper + lower) // 2\n      while upper != lower + 1:\n          if intervals[mid][index] &lt; newInterval[index]:\n              lower = mid\n          else:\n              upper = mid\n          mid = (lower + upper) // 2\n      return [lower, upper]\n</code></pre> <p>Search in Rotated Sorted Array (Leetcode: #33) <pre><code>## find the first number in nums that is smaller than target\n## edge case:\n## \u00a0 nums=[3, 5], target = 1\ndef binaryFind_num_0(nums, target):\n\u00a0 \u00a0 if nums[0] &lt; nums[-1]:\n\u00a0 \u00a0 \u00a0 \u00a0 return len(nums)\n\n\u00a0 \u00a0 l = 0\n\u00a0 \u00a0 r = len(nums) - 1\n\u00a0 \u00a0 mid = (l + r) // 2 \u00a0\n\u00a0 \u00a0 ans = mid\n\u00a0 \u00a0 while l &lt;= r:\n\u00a0 \u00a0 \u00a0 \u00a0 # mid is on the left half\n\u00a0 \u00a0 \u00a0 \u00a0 if nums[mid] &gt; target:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 l = mid + 1\n\n\u00a0 \u00a0 \u00a0 \u00a0 # mid is on the right half\n\u00a0 \u00a0 \u00a0 \u00a0 elif nums[mid] &lt; target:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 r = mid - 1\n\n\u00a0 \u00a0 \u00a0 \u00a0 if mid - 1 &gt;=0 and nums[mid - 1] &gt; nums[mid]:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ans = mid\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 break\n\u00a0 \u00a0 \u00a0 \u00a0 mid = (l + r) // 2\n\u00a0 \u00a0 return ans\n\n\ndef binaryFind(nums, target):\n\u00a0 \u00a0 l = 0\n\u00a0 \u00a0 r = len(nums) - 1\n\u00a0 \u00a0 ans = len(nums)\n\u00a0 \u00a0 while l &lt;= r:\n\u00a0 \u00a0 \u00a0 \u00a0 mid = (l + r) // 2\n\u00a0 \u00a0 \u00a0 \u00a0 if nums[mid] &gt;= target:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 r = mid - 1\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ans = mid\n\u00a0 \u00a0 \u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 l = mid + 1\n\u00a0 \u00a0 return ans  \n\nclass Solution(object):\n\u00a0 \u00a0 def search(self, nums, target):\n\u00a0 \u00a0 \u00a0 \u00a0 if nums[-1] &lt; nums[0]:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 num_0_pos = binaryFind_num_0(nums[:len(nums) - 1], nums[-1])\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if target == nums[-1]:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return len(nums) - 1\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 elif target &gt; nums[-1]:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 target_pos = binaryFind(nums[:num_0_pos], target)\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return target_pos if target_pos &lt; len(nums) and \\\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 nums[target_pos] == target else -1\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 target_pos = binaryFind(nums[num_0_pos:], target) + num_0_pos\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return target_pos if \u00a0target_pos &lt; len(nums) and \\\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 nums[target_pos] == target else -1\n\u00a0 \u00a0 \u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 target_pos = binaryFind(nums, target)\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return target_pos if target_pos &lt; len(nums) and \\\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 nums[target_pos] == target else -1  \n\nif __name__ == \"__main__\":\n\u00a0 \u00a0 nums = [3,5,1]\n\u00a0 \u00a0 target = 5\n\u00a0 \u00a0 print(Solution().search(nums, target))\n</code></pre></p>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#2","title":"2. \u6ed1\u52a8\u7a97\u53e3","text":"<p>\u9898\u76ee:</p> <ul> <li>leetcode #3</li> <li>Permutation in String, leetcode #567 / Find All Anagrams in a String, leetcode #438</li> <li>Minimum Window Substring\uff0c leetcode #76</li> <li>Max Consecutives one III, leetcode #1004</li> </ul> <p>\u601d\u60f3:</p> <ol> <li>\u51c6\u5907\u4e24\u4e2a\u6307\u9488\uff0c\u4e00\u4e2a\u6307\u5411\u7a97\u53e3\u5de6\u7aef\u53ebhead, \u4e00\u4e2a\u6307\u5411\u7a97\u53e3\u53f3\u7aef\u53ebtail</li> <li>\u51c6\u5907\u4e00\u4e2a\u96c6\u5408\uff0c\u7528\u4e8e\u88c5\u7a97\u53e3\u4e2d\u7684\u6240\u6709\u5143\u7d20</li> <li>\u4e0d\u65ad\u79fb\u52a8\u5c3e\u6307\u9488\uff0c\u4e00\u65e6\u5c3e\u6307\u9488\u6307\u5411\u7684\u5143\u7d20\u51fa\u73b0\u5728\u96c6\u5408\u4e2d\uff1b\u5148\u786e\u5b9a\u8be5\u5143\u7d20\u5728\u7a97\u53e3\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u5c06head\u79fb\u52a8\u5230\u8be5\u4f4d\u7f6e\u7684\u53f3\u4fa7,\u5e76\u5c06\u96c6\u5408\u91ccstart\u79fb\u52a8\u65f6\u6307\u5411\u7684\u5143\u7d20\u5220\u9664, \u540c\u65f6\u66f4\u65b0\u5c3e\u6307\u9488\u6307\u5411\u5143\u7d20\u7684\u6700\u65b0\u7a97\u53e3\u4f4d\u7f6e</li> </ol> <pre><code>from collections import defaultdict\ndef solution(A: List):\n    head = 0\n    tail = 0\n    windowSet = defaultdict(lambda: -1) \n    # key stores the element inside the window, value stores its index in A\n    # if the element is not inside the window, its value is -1 \n\n    while tail &lt; len(A):\n\n        if windowSet[A[tail]] &gt;= 0:\n            location = windowSet[A[tail]]\n            while head &lt; location + 1:\n                windowSet[head] = 0\n                head += 1\n        windowSet[A[tail]] = tail\n        tail += 1\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#3-graph","title":"3. Graph","text":"<ul> <li>DFS:<ul> <li>detect cycle<ul> <li>Leetcode #207</li> </ul> </li> </ul> </li> <li>BFS:<ul> <li>level traversal</li> </ul> </li> <li>topological sort</li> <li>Kruskal &amp; Prim algo(Subgraph tree that connects all vertices and with min weight)</li> <li>Single-source shortest path</li> </ul> <p>Runtime: BFS/DFS    &lt; Dijkstra           &lt;  Bellman O(V + E)       O((V + E) logV)</p>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#31-dfs","title":"3.1 DFS","text":"<p>Template: (Runtime: O(V + E)) <pre><code>from collections import defaultdict\ndef dfs(graph, r):\n\u00a0 \u00a0 stack = []\n\u00a0 \u00a0 # store the node and its child node index, return value in base case\n\u00a0 \u00a0 stack.append((r, 0, acc)) \n\u00a0 \u00a0 vertexState = defaultdict(lambda :0) \n\u00a0 \u00a0 \n\u00a0 \u00a0 # represent the return result of next recursive call\n\u00a0 \u00a0 last_recur_ret = None\n\n\u00a0 \u00a0 while stack:\n\u00a0 \u00a0 \u00a0 \u00a0 v, curr_child_index = stack[-1] \n\u00a0 \u00a0 \u00a0 \u00a0 \n\u00a0 \u00a0 \u00a0 \u00a0 # code block that is executed before recursive call\n\u00a0 \u00a0 \u00a0 \u00a0 # if last_recur_ret is None:\n    \u00a0 \u00a0 \u00a0 \u00a0 # ....\n\u00a0 \u00a0 \u00a0 \u00a0 # code block that is executed after recursive call\n\u00a0 \u00a0 \u00a0 \u00a0 if last_recur_ret is not None:\n    \u00a0 \u00a0 \u00a0 \u00a0 # perform operations on last recursive call result\n    \u00a0 \u00a0 \u00a0 \u00a0 # to have a branch that is done after the first recurse call:\n    \u00a0 \u00a0 \u00a0 \u00a0 # if stack[-1][2] == acc:\n    \u00a0 \u00a0 \u00a0 \u00a0 #    ....\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 stack[-1][2] = fn(stack[-1][2], \u00a0last_recur_ret[1])\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 last_recur_ret = None\n\n\u00a0 \u00a0 \u00a0 \u00a0 if vertexState[v] == 0:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 vertexState[v] = 1\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \n\u00a0 \u00a0 \u00a0 \u00a0 if curr_child_index &lt; len(graph[v]):\n    \u00a0 \u00a0 \u00a0 \u00a0 if vertexState[graph[v][curr_child_index]] == 0:\n        \u00a0 \u00a0 \u00a0 \u00a0 stack[-1][1] = curr_child_index + 1\n        \u00a0 \u00a0 \u00a0 \u00a0 stack.append((graph[v][curr_child_index], 0))\n        \u00a0 \u00a0 \u00a0 \u00a0 continue\n\n\u00a0 \u00a0 \u00a0 \u00a0 vertexState[v] = 2\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \n\u00a0 \u00a0 \u00a0 \u00a0 last_recur_ret = stack.pop()\n\u00a0 \u00a0return last_recur_ret\n</code></pre></p>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#311-detect-cycle","title":"3.1.1 Detect Cycle","text":"<p>\u601d\u8def:</p> <ol> <li> <p>\u6bcf\u6b21\u8fdb\u5165recursive call\u524d\uff0c\u5c06curr_node\u4f5c\u4e3aparent node pass\u8fdb\u4e0b\u4e00\u4e2arecursive call, \u5728\u4e0b\u6b21recursive call\u4e2d\u5148\u68c0\u67e5neighbour\u662f\u5426\u4e3aparent, \u5982\u679c\u4e0d\u662f\uff0c\u518d\u68c0\u67e5\u5176status\u662f\u5426\u662f1\uff0c\u5982\u679c\u662f\uff0c\u76f4\u63a5return True\u8868\u793a\u6709cycle \u9898:</p> </li> <li> <p>leetcode: #207</p> </li> </ol>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#312-topological-sort","title":"3.1.2 Topological sort","text":"<p>Q:</p> <ul> <li>Course Schedule (Leetcode: #207)</li> <li>Course Schedule II(Leetcode: #210)</li> </ul>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#32-bfs","title":"3.2 BFS","text":"<p>Runtime: O(V + E)</p> Python <pre><code>from collections import deque, defaultdict\ndef bfs(G, v):\n    q = deque([])\n    q.append(v)\n\n    visited = defaultdict(lambda : False)\n    visited[v] = True\n    while q:\n        v = q.popleft()\n        for neighbour in G[v]:\n            if not visited[neighbour]:\n                q.append(neighbour)\n                visited[neighbour] = True\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#321-level-order-traversal","title":"3.2.1 level order traversal","text":"<pre><code>from collections import deque, defaultdict\ndef bfs(G, v):\n    q = deque([])\n    q.append(v)\n\n    visited = defaultdict(lambda : False)\n    visited[v] = True\n\n    while q:\n        n = len(q)\n        for _ in range(n):\n            v = q.popleft():\n            # code block 1:\n                # ...\n            for neighbour in G[v]:\n                if not visited[neighbour]:\n                    visited[neighbour] = True\n                    q.append(neighbour)\n</code></pre> <ul> <li>Binary Tree ZigZag Level order traversal(Leetcode: #103)</li> <li>Populating Next Right Pointers in Each Node\uff08Leetcode: #116)</li> </ul>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#322-shortest-path","title":"3.2.2 Shortest path","text":"<p>\u9898:</p> <ul> <li>\u5355\u8bcd\u63a5\u9f99, leetcode #127</li> <li>Sliding Puzzle, leetcode #773</li> </ul>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#33-single-source-shortest-path","title":"3.3 Single-source shortest path","text":"<p>What is the problem:</p> <p>Given a graph and a pair of vertices (u, v), we want to find the path from u to v s.t the sum of weights from u to v is minimized</p> <p>Restriction for Bellman-Ford:</p> <ul> <li> <p>The graph cannot contain a cycle where the sum of the edges of the cycle is negative and can be reached from starting vertex s Practice:</p> </li> <li> <p>find shortest path on directed/undirected graph Bellman-Ford <code>O(VE)</code>: <pre><code>from collections import defaultdict\ndef relax(u, v, w, short_path):\n    if short_path[u] + w &lt; short_path[v]:\n        short_path[v] = short_path[u] + w\n        return True\n    return False\n\ndef BellmanFord(G, s):\n    # Initialize single source and edges\n    shortest_path = defaultdict(lambda :float(\"inf\"))\n    shortest_path[s] = 0\n\n    # relax each edge of u\n    for _ in range(len(G) - 1):\n        for u in G:\n            for v, w in G[u].items():\n                if shortest_path[u] != float(\"inf\"):\n                    relax(u, v, w, shortest_path)\n\n    # detect negative cycle\n    for u in G:\n        for v, w in G[u].items():\n            if shortest_path[u] != float(\"inf\") and \\\n            shortest_path[u] + w &lt; shortest_path[v]:\n                return False\n\n    return True         \n</code></pre></p> </li> </ul> <p>Restriction for Dijkstra:</p> <ul> <li>The graph cannot have negative weight edges Practice</li> <li>find shortest path on directed/undirected graph Dijkstra's algorithm(<code>O((V+E)logV)</code>): <pre><code>from collections import defaultdict\nfrom heapq import heappop\ndef relax(u, v, w, short_path):\n    if short_path[u] + w &lt; short_path[v]:\n        short_path[v] = short_path[u] + w\n        return True\n    return False\n\ndef dijkstra(G, s):\n    # stores the nodes on the shortest path\n    # for each node as key, store it distance from s\n    shortest_path = defaultdict(lambda : (float(\"inf\")))\n    shortest_path[s]= 0\n    Q = [(0, s)]\n    while Q:\n        curr_distance, u = heappop(Q)\n\n        if curr_distance &gt; short_path[u]:\n            continue\n\n        # relax each edge of u\n        for v, w in G[u].items():\n            if relax(u, v, w, shortest_path):\n                heapq.heappush(Q, (shortest_path[v], v))\n    return shortest_path\n</code></pre></li> </ul> <p>\u9898:</p> <ul> <li>Cheapest flights within K stops (leetcode #787)</li> <li>Network Delay time(leetcode #743)</li> </ul>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#34-all-pairs-shortest-path","title":"3.4 All-pairs shortest path","text":"<p>Floyd-Warshal(\\(O(V^3)\\)) - When to use: when |E| &gt; \\(|V|^2\\) - restriction: the graph cannot contain negative cycles (where the sum of the edges in a cycle is negative) <pre><code>def FloydWarshal(G):\n    # G must be a |V|x|V| matrix with each entry as the weight value;\n    # Otherwise, we will have to loop through each edge of G to construct D,\n    # which is not allowed\n    num_vertices = len(graph)  \n    dist = [row[:] for row in graph] # Create a copy of the graph  \n\n    # Iterate through all possible intermediate vertices 'k'  \n    for k in range(num_vertices):  \n        # Iterate through all possible source vertices 'i'  \n        for i in range(num_vertices):  \n            # Iterate through all possible destination vertices 'j'  \n            for j in range(num_vertices):  \n            # If vertex 'k' is on the shortest path from 'i' to 'j',  \n            # then update the distance  \n                if dist[i][k] != float('inf') and \\\n                dist[k][j] != float('inf'):  \n                    dist[i][j] = min(dist[i][j], dist[i][k] + dist[k][j])  \n    return dist\n</code></pre></p>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#35-mst","title":"3.5 MST","text":"<p>What is MST</p> <p>an acyclic tree whose: -  edge set is a subset of G - connect all vertices - sum of weights of all edges are minimized</p> <p>Kruskal's algorithm<code>O(E lg(V))</code> <pre><code>## class DisjointSet:\n\ndef createMST(G, w):\n    A = set()\n\n    ds = DisjointSet()\n    for v in G.keys():\n        ds.makeSet(v)\n\n    # sort the edges of G.E into nondecreasing order by weight w\n    E = sort(G)\n\n    for (u, v) in E:\n        if ds.find(u) != ds.find(v):\n            A.add((u, v))\n            ds.union(u, v)\n    return A\n</code></pre></p> <p>Prim's algorithm: <code>O(E + V lg(V))</code> <pre><code>def prim(graph, start_vertex):\n    # graph example: {'A': {'B': 1, 'C': 4}, 'B': {'A': 1, 'C': 2, 'D': 5}}\n    mst = [] # Stores the edges of the Minimum Spanning Tree  \n    visited = set() # Keeps track of visited vertices  \n\n    # Priority queue (min-heap) to store edges, ordered by weight  \n    # Format: (weight, from_vertex, to_vertex)  \n    edges = []  \n\n    # Start with the initial vertex  \n    visited.add(start_vertex)  \n    for neighbor, weight in graph[start_vertex].items():  \n        heapq.heappush(edges, (weight, start_vertex, neighbor))  \n\n    while edges: \n        # Get the edge with the minimum weight \n        weight, u, v = heapq.heappop(edges)  \n\n        if v not in visited:  \n            visited.add(v)  \n            mst.append((u, v, weight))  \n\n        # Add all edges connected to the newly visited vertex to the heap \n        for neighbor_of_v, weight_to_neighbor in graph[v].items():  \n            if neighbor_of_v not in visited:  \n                heapq.heappush(edges, \\\n                (weight_to_neighbor, v, neighbor_of_v))  \n\n    return mst\n</code></pre></p>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#4-greedy-choiice","title":"4. Greedy choiice","text":"<ul> <li>Server selection(snow flake OA) <p>\u628an\u672c\u4e66\u5206\u7ed9k\u4e2a\u4eba\u590d\u5370\uff0c\u60f3\u8981\u4f7f\u6bcf\u4e2a\u4eba\u590d\u5370\u7684\u603b\u65f6\u95f4\u7684\u6700\u5927\u503c\u6700\u5c0f\u5316\u3002\u5f88\u660e\u663e\u662f\u4e00\u4e2a\u6c42\u6700\u4f18\u89e3\u7684\u95ee\u9898\uff0c\u5f88\u81ea\u7136\u7684\u60f3\u5230\u7528\u8d2a\u5fc3\u7684\u601d\u60f3\u3002\u56e0\u4e3a\u6bcf\u672c\u4e66\u90fd\u662f\u6ca1\u6709\u5dee\u5f02\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u4f9d\u6b21\u8d2a\u5fc3\u7684\u4e3a\u6bcf\u4e00\u672c\u4e66\u9009\u62e9k\u4e2a\u4eba\u4e2d\u7684\u6700\u4f18\u4eba\u9009\u3002 \u4ee4times[]\u8868\u793a\u6bcf\u4e2a\u4eba\u590d\u5370\u4e00\u672c\u4e66\u7684\u65f6\u95f4\uff0csum[]\u8868\u793a\u6bcf\u4e2a\u4eba\u590d\u5370\u6240\u82b1\u7684\u603b\u65f6\u95f4\u3002\u82e5\u6b64\u65f6\u5728\u5224\u65ad\u628a\u7b2c i \u672c\u4e66\u7ed9\u54ea\u4e2a\u4eba\u590d\u5370\uff0c\u6b64\u65f6\u524d (i - 1) \u672c\u4e66\u88ab\u590d\u5370\u7684\u6700\u77ed\u65f6\u95f4\u662fminSum\u3002\u5b9e\u73b0\u8fc7\u7a0b\u5982\u4e0b\uff1a\u82e5\u628a\u7b2c i \u672c\u4e66\u7ed9\u7b2c j \u4e2a\u4eba\u590d\u5370\uff0c\u8fd9\u65f6\u7b2c j \u4e2a\u4eba\u6240\u82b1\u7684\u603b\u65f6\u95f4 sum[j] + times[j] \uff0c\u82e5\u8fd9\u4e2a\u603b\u65f6\u95f4\u4e0d\u5927\u4e8eminSum\uff0c\u8bf4\u660e\u5bf9\u7b54\u6848\u6ca1\u5f71\u54cd\uff0c\u90a3\u4e48\u9009\u5176\u4e2d\u4efb\u610f\u4e00\u79cd\u5373\u53ef\uff0c\u7ed3\u675f\u5faa\u73af\u4eba\u9009\uff1b \u82e5\u628a\u7b2c i \u672c\u4e66\u7ed9\u7b2c j \u4e2a\u4eba\u590d\u5370\uff0c\u8fd9\u65f6\u7b2c j \u4e2a\u4eba\u6240\u82b1\u7684\u603b\u65f6\u95f4 sum[j] + times[j] \uff0c\u82e5\u8fd9\u4e2a\u603b\u65f6\u95f4\u5927\u4e8eminSum\uff0c\u8bf4\u660e\u7b54\u6848\u4f1a\u53d8\u5927\uff0c\u90a3\u4e48\u6211\u4eec\u7ee7\u7eed\u5224\u65ad\u4e0b\u4e00\u4e2a\u4eba\u9009\uff0c\u9009\u62e9\u4ee4\u7b54\u6848\u589e\u52a0\u7684\u6700\u5c11\u7684\u4e00\u79cd\u60c5\u51b5\uff1b\u6bcf\u6b21\u9009\u62e9\u7ed3\u675f\u540e\u90fd\u8981\u66f4\u65b0\u4e00\u6b21\u7b54\u6848\uff0cminSum = max(Minsum, sum[\u88ab\u9009\u62e9\u7684\u4eba]) \u3002</p> </li> </ul> <p><pre><code>sort time from low to high\nsum = []\nappend (lowest time, index of it in times) to sum\nlet s be the set that contains people are copying at the same time\nadd the people who has the loest to sum\nlet s_prime be the complimentary set\nfor each i = 1 to n:\n    find the lowest time tuple in sum\n    put the people from the tuple from s to s_prime\n    find people with the lowest time in s_prime\n    if that people's time plus the time in tuple is greater than some people p1,\n        add p1's time and p1 to sum\n    else:\n        modify the tuple's time and index to that people\n</code></pre> - \u9012\u589e\u7684\u4e09\u5143\u5b50\u5e8f\u5217(Leetcode #334)     - Longest increasing subsequence(Leetcode #300, general version of #334)     - Russian Doll Envelopes, leetcode #354 - \u4efb\u52a1\u8c03\u5ea6\u5668 Leetcode #621 - jump game II, leetcode #45 / jump game, leetcode #55</p> <p>\u9012\u589e\u7684\u4e09\u5143\u5b50\u5e8f\u5217(Leetcode #334) - \u601d\u8def: loop\u4e00\u8fb9array, \u6bcfloop\u4e00\u4e2a\u5143\u7d20<code>array[i]</code>, \u7ef4\u62a4\u4e24\u4e2a\u53d8\u91cf: small\u548cmid, small\u4e3a<code>array[0..i]</code>\u6700\u5c0f\u7684element, mid\u4e3a<code>array[0..i]</code>\u4e2d\u5927\u4e8e<code>small</code>\u6700\u5c0f\u7684element <pre><code>class Solution(object):\n    def increasingTriplet(self, nums):\n        \"\"\"\n        :type nums: List[int]\n        :rtype: bool\n        \"\"\"        \n        small = nums[0]\n        mid = float(\"inf\")\n\n        for i in range(1, len(nums)):\n            if nums[i] &lt; small:\n                small = nums[i]\n            elif nums[i] &gt; small:\n                if nums[i] &lt; mid:\n                    mid = nums[i]\n                elif nums[i] &gt; mid:\n                    return True\n        return False\n</code></pre></p>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#5-dp","title":"5. DP","text":"<ul> <li>lintcode 151</li> <li>lintcode1850</li> <li>task scheduling(snowflake OA)</li> <li>Palindrome/substring<ul> <li>Longest Palindrome substring(Leetcode #5)</li> </ul> </li> <li>House Robber, Leetcode #198</li> </ul>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#51-palindromesubstring","title":"5.1 Palindrome/substring","text":"<p>\u601d\u8def: \u51c6\u5907\u4e00\u4e2adp\u7684dictionary, dp\u4ee5(i, j)\u4e3akey, \u5176\u4e2d(i, j)\u8868\u793a<code>s[i..j]</code>, <code>dp[(i, j)]</code> \u8868\u793a<code>s[i..j]</code>\u6ee1\u8db3\u67d0\u79cd\u6761\u4ef6\u4e3aTrue/False</p> <p>Longest Palindrome substring(Leetcode #5) (Note: Leetcode sometimes only accept bottom-to-top DP, and does not accept top-to-bottom recursive DP, leetcode #5 is an example)</p> <p>bottom-to-top DP soln: <pre><code>from collections import defaultdict\nclass Solution(object):\n    def longestPalindrome(self, s):       \n        dp = defaultdict(lambda :-1)\n        acc = s[0]\n        for i in range(len(s)):\n            dp[(i, i)] = True\n\n        for i in range(len(s) - 1):\n\n            dp[(i, i + 1)] = s[i] == s[i + 1]\n\n            if dp[(i, i + 1)] and len(acc) == 1:\n                acc = s[i:i+2]\n\n\n        for L in range(2, len(s)):\n            for i in range(len(s) - L):\n                if s[i] != s[i + L]:\n                    dp[(i, i + L)] = False\n                else:\n                    dp[(i, i + L)] = dp[(i + 1, i + L -1)]\n\n                    if dp[(i, i + L)] == True and L + 1 &gt; len(acc):\n                        acc = s[i:i + L + 1]\n        return acc\n</code></pre></p> <p>Top-to-bottom recursive soln(does not work for large input): <pre><code>from collections import defaultdict\ndef dp_recursive_helper(dp, s, i, j):\n    if i == j:\n        dp[(i, j)] = 1\n        return True\n\n    if j == i + 1:\n        dp[(i, j)] = 1 if s[i] == s[j] else 0\n\n    if dp[(i, j)] != -1:\n        return dp[(i, j)]\n\n    if s[i] != s[j]:\n        dp[(i, j)] = 0\n    else:\n        dp[(i, j)] = dp_recursive_helper(dp, s, i + 1, j - 1)\n\n\n    return dp[(i, j)]\n\nclass Solution(object):\n    def longestPalindrome(self, s): \n        dp = defaultdict(lambda :-1)\n\n        for i in range(len(s)):\n            for j in range(i, len(s) - 1):\n                is_palindrome = dp_recursive_helper(dp, s, i, j)\n\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if is_palindrome:\n\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if j - i + 1 &gt; len(acc):\n\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 acc = s[i:j+1]\n\n\u00a0 \u00a0 \u00a0 \u00a0 return acc              \n</code></pre></p>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#52-other","title":"5.2 Other","text":"<ul> <li>Coin Change(Leetcode #522) \u603b\u7ed3: dp\u4e2d, \u5047\u8bbe\u4e00\u4e2arange\u4e3a\\(c * 10^4\\) \u5230\\(10^5\\), \u53ef\u4ee5\u4f5c\u4e3adp\u7684\u4e00\u4e2afor loop\u4e00\u4e2a\u4e00\u4e2a\u5faa\u73af, \u5982\u4e0bexample, \u56e0\u800c\uff0c\u6c38\u8fdc\u8981\u68c0\u67e5input size <pre><code>class Solution(object):\n    def coinChange(self, coins, amount):\n        \"\"\"\n        :type coins: List[int]\n        :type amount: int\n        :rtype: int\n        \"\"\"\n\n        dp = defaultdict(lambda :-1)\n\n        dp[0] = 0\n\n        for coin in coins:\n            for x in range(coin, amount + 1):\n                if dp[x - coin] != -1:\n                    if dp[x] == -1:\n                        dp[x] = dp[x - coin] + 1\n                    else:\n                        dp[x] = min(dp[x], dp[x - coin] + 1)\n        return dp[amount]\n</code></pre></li> </ul>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#6-backtracing","title":"6. backtracing","text":"<p>https://leetcode.cn/problems/combination-sum/solutions/14697/hui-su-suan-fa-jian-zhi-python-dai-ma-java-dai-m-2/</p> <p>\u56fe\u4e2d\u4e3a\u55654\u5206\u652f\u5728\u641c\u7d22\u7684\u65f6\u5019\u4e0d\u5728\u8003\u86512:</p> <p>WTS: \u5bf9\u6240\u6709\u5c42\uff0c\u5047\u8bbe\u7b2c\u4e00\u4e2a\u4f7f\u7528\u7684candidate\u662fx, \u5047\u8bbe\u7b2c\u4e8c\u4e2a\u4f7f\u7528\u7684candidate\u662fy, target\u662fz, \u90a3\u4e48y\u5206\u652f\u4e0b\u6240\u6709\u5305\u542bx\u7684\u8def\u5f84\u90fd\u88abx\u5206\u652f\u5305\u542b(\u5373\u641cy\u5206\u652f\u4e0d\u9700\u8981\u8003\u8651x)</p> <ul> <li> <p>\u5047\u8bbey\u5206\u652f\u4e0d\u5b58\u5728\u5305\u542bx\u7684\u8def\u5f84\uff0c\u90a3\u4e48\u6211\u4eec\u4e5f\u4e0d\u9700\u8981\u8003\u8651x, \u8fd9\u79cdcase\u7ed3\u675f</p> </li> <li> <p>\u5047\u8bbey\u5206\u652f\u5b58\u5728\u5305\u542bx\u7684\u8def\u5f84\uff0c\u4e5f\u5c31\u662f\u8bf4z &gt; y + x, \u90a3\u4e48x\u5206\u652f\u4e0b\u4e5f\u5b58\u5728\u4e00\u6761\u8def\u8def\u5f84\u5305\u542by, x\u5206\u652f\u4e0b\u7684y\u8def\u5f84\u7684\u7b2c\u4e00\u4e2a\u8282\u70b9(z - x-y)\u4e0b\u5305\u542b\u4e86\u6240\u6709\u603b\u548c\u4e3a(z - x -y)\u7684\u8def\u5f84\u4e5f\u5c31\u548cy\u5206\u652f\u4e0b\u5305\u542bx\u7684\u8def\u5f84\u8282\u70b9\u91cd\u5408</p> </li> </ul>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#7-prefix-sum-array","title":"7. Prefix sum &amp; array","text":"<p>\u4ec0\u4e48\u53eb\u524d\u7f00\u548c\u6570\u7ec4:</p> <p>\u7ed9\u4e00\u4e2a\u6570\u7ec4a = [a1, a2, ... aN], a\u7684\u524d\u7f00\u548c\u6570\u7ec4\u662f a = [a1, a1 + a2, a1+a2+a3, ... (a1 + a2 +...aN)]</p> <ul> <li>House Robber, Leetcode #198</li> <li>Maximum Subarray, leetcode #53 </li> <li>Maximum Product Subarray, leetcode #152</li> </ul>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#8","title":"8. \u53cc\u6307\u9488","text":"","tags":["Programming"]},{"location":"2025/10/10/leetcode/#81","title":"8.1 \u524d\u540e\u6307\u9488","text":"<ul> <li>three sum(K-sum)</li> </ul> PythonJavascript <pre><code>def twoSum(nums, startIndex, endIndex, target):\n    phead = startIndex\n    ptail = endIndex\n    acc = []\n    while phead &lt; ptail:\n        curr_sum = nums[phead] + nums[ptail]\n        if curr_sum &gt; target:\n            ptail -= 1\n        elif curr_sum &lt; target:\n            phead += 1\n        else:\n            acc.append([nums[phead], nums[ptail]])\n\n            while phead &lt; ptail and nums[phead] == nums[phead + 1]:\n                phead += 1\n            phead += 1\n\n            while phead &lt; ptail and nums[ptail] == nums[ptail - 1]:\n                ptail -= 1 \n            ptail -= 1\n    return acc\n\n\nclass Solution(object):\n\n    def threeSum(self, nums):\n        \"\"\"\n        :type nums: List[int]\n        :rtype: List[List[int]]\n        \"\"\"\n\n        nums.sort()\n        acc = []\n        for i in range(len(nums) - 2):\n            if i &lt;= 0 or nums[i] != nums[i - 1]:\n                curr_pairs = twoSum(nums, i + 1, len(nums) - 1, -nums[i])\n                for curr_pair in curr_pairs:\n                    acc.append([nums[i], curr_pair[0], curr_pair[1]])\n        return acc\n</code></pre> <pre><code>console.log()\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#82","title":"8.2 \u5feb\u6162\u6307\u9488","text":"<p>\u601d\u8def: \u6709\u56db\u79cd\u601d\u8def:</p> <ul> <li>\u7b2c\u4e00\u79cd\uff0c\u7ef4\u62a4\u4e24\u4e2a\u6307\u9488\uff0c\u7b2c\u4e8c\u4e2a\u6307\u9488\u5728\u7b2c\u4e00\u4e2a\u6307\u9488k\u4e2a\u4f4d\u7f6e\u4e4b\u540e\u4f5c\u4e3a\u5feb\u6307\u9488\uff0c\u540c\u65f6\u79fb\u52a8\u4e24\u6307\u9488,\u5feb\u6307\u9488\u5230\u8fbe\u672b\u5c3e\u540e\uff0c\u6ee1\u6307\u9488\u5230\u8fbe\u672b\u5c3e\u7b2ck\u4e2a\u4f4d\u7f6e:<ul> <li>Remove Nth Node From End of List, leetcode #19</li> </ul> </li> <li>\u7b2c\u4e8c\u79cd, \u7ef4\u62a4\u4e24\u4e2a\u6307\u9488, \u7b2c\u4e8c\u4e2a\u6307\u9488\u7684step\u4e3a\u7b2c\u4e00\u4e2a\u6307\u9488\u79fb\u52a8step\u7684\u4e24\u500d, \u540c\u65f6\u79fb\u52a8\u4e24\u6307\u9488, \u5f53\u7b2c\u4e8c\u4e2a\u6307\u9488\u5230\u8fbe\u672b\u5c3e\u65f6, \u7b2c\u4e00\u4e2a\u6307\u9488\u5230\u8fbe\u4e2d\u70b9:<ul> <li>Middle of the Linked List, leetcode #876</li> <li>\u5224\u65ad\u73af\u8d77\u70b9(11.3 ring start), leetcode #141, leetcode #142</li> </ul> </li> <li>\u7b2c\u4e09\u79cd, \u7ef4\u62a4\u4e24\u4e2a\u6307\u9488\uff0c\u5feb\u6307\u9488\u7167\u5e38\u6bcf\u4e2aiteration\u524d\u8fdb\u4e00\u4e2a\u5143\u7d20, \u6ee1\u6307\u9488\u5728\u6bcf\u4e2aiteration\u6839\u636e\u7279\u5b9a\u6761\u4ef6\u524d\u8fdb\u4e00\u4e2a\u5143\u7d20</li> <li>\u7b2c\u56db\u79cd, \u6ed1\u52a8\u7a97\u53e3</li> <li>Others:<ul> <li>Gas staation, leetcode #134</li> </ul> </li> </ul> <p>\u6a21\u677f:</p> <ul> <li>\u7b2c\u4e8c\u5f20\u5feb\u6162: <pre><code>class Solution:\ndef middleNode(self, head: Optional[ListNode]) -&gt; Optional[ListNode]:\n    p1 = head\n    p2 = p1\n\n    while p2 and p2.next:\n        p1 = p1.next\n        p2 = p2.next.next\n    return p1\n</code></pre></li> <li>\u7b2c\u4e09\u79cd: <pre><code>def fn(arr):\n    p_slow = 0\n    p_fast = 0\n\n    while p_fast &lt; n:\n        # arr[p_slow] satisfies certain condition, we move p_slow\n        if condition(arr[p_slow]):\n            p_slow += 1\n        p_fast += 1\n</code></pre></li> </ul>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#9-tree","title":"9. Tree","text":"","tags":["Programming"]},{"location":"2025/10/10/leetcode/#91-traversal","title":"9.1  traversal","text":"<ul> <li>Construct Binary Tree from Preorder and Inorder Traversal(Leetcode: #105)</li> </ul>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#92-avl-tree","title":"9.2 AVL Tree","text":"<ul> <li> <p>Convert sorted array to AVL tree(Leetcode #108): <pre><code>def helper(nums, i, j):\n\u00a0 \u00a0 if j &lt; i:\n\u00a0 \u00a0 \u00a0 \u00a0 return None\n\n\u00a0 \u00a0 mid = (i + j) // 2\n\u00a0 \u00a0 root = TreeNode(nums[mid])\n\u00a0 \u00a0 root.left = helper(nums, i, mid - 1)\n\u00a0 \u00a0 root.right = helper(nums, mid + 1, j)\n\u00a0 \u00a0 root.height = 0\n\n\u00a0 \u00a0 if root.left is not None:\n\u00a0 \u00a0 \u00a0 \u00a0 root.height = root.left.height + 1\n\u00a0 \u00a0 if root.right is not None:\n\u00a0 \u00a0 \u00a0 \u00a0 root.height = max(root.height, root.right.height + 1)\n\u00a0 \u00a0 return root\n\ndef sortedArrayToBST(nums):\n\u00a0 \u00a0 helper(nums, 0, len(nums) - 1)\n</code></pre></p> </li> <li> <p>convert binary tree to AVL tree(Leetcode #1382): <pre><code>def solution(root):\n    # step 1: perform in order traversal to the BST to convert it into sorted array\n    # use the above template to convert sorted array into AVL tree\n</code></pre></p> </li> <li>AVL Tree implementation</li> </ul> Python <pre><code>class TreeNode:\n\u00a0 \u00a0 def __init__(self, val):\n\u00a0 \u00a0 \u00a0 \u00a0 self.val = val\n\u00a0 \u00a0 \u00a0 \u00a0 self.left = None\n\u00a0 \u00a0 \u00a0 \u00a0 self.right = None\n\u00a0 \u00a0 \u00a0 \u00a0 self.height = 1\n\nclass AVLTree:\n    # keyFunc takes a, b as inputs\n    # keyFunc returns 1 if a &gt; b, 0 if a == b, -1 if a &lt; b\n    def __init__(self, keyFunc):\n        self.keyFunc = keyFunc\n        self.root = None\n\n    def search(self, value):\n        curr = self.root\n        while curr and self.keyFunc(value, curr.val) != 0:\n            if self.keyFunc(value, curr.val) &gt; 0:\n                curr = curr.left\n            else:\n                curr = curr.right\n        return curr\n\n    def insert(self, value):\n        if self.root is None:\n            self.root = TreeNode(val=value)\n            return self.root\n\n        curr = self.root\n        stack = []\n        while curr:\n            if self.keyFunc(value, curr.val) &gt;= 0:\n                stack.append((curr, 1))\n                curr = curr.right\n            else:\n                stack.append((curr, 0))\n                curr = curr.left\n\n        leaf, side = stack[-1]\n        if side == 1:\n            leaf.right = TreeNode(val=value)\n        else:\n            leaf.left = TreeNode(val=value)\n\n        lastBalancedNode = balanceTree(stack)\n        if lastBalanceNode:\n            self.root = lastBalanceNode\n        return self.root\n\n    def delete(self, value):\n        if self.root is None:\n            return None\n\n        curr = self.root\n        stack = []\n        while curr:\n            if self.keyFunc(value, curr.value) &gt; 0:\n                stack.append((curr, 1))\n                curr = curr.right\n            elif self.keyFunc(value, curr.value) &lt; 0:\n                stack.append((curr, 0))\n                curr = curr.left\n            else:\n                if curr.left is None or curr.right is None:\n                    break\n                # when the deleted node has both children\n                # replace deleted node with the leftmost leaf in \n                # right subtree\n                else:\n                    successor = curr.right\n                    while successor.left:\n                        successor = successor.left\n                    curr.val, success.val = successor.val, curr.val\n                    stack.append((curr, 1))\n                    curr = curr.right\n\n        # case: value does not exist in tree\n        if curr is None:\n            return None\n\n        # case: when value is at the root and root only has one child\n        if len(stack) == 0:\n            self.root = curr.right if curr.left is None else curr.left\n            return curr\n\n        parent, side = stack[-1]\n        if side == 0:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 parent.left = curr.right if curr.left is None else curr.left\n\u00a0 \u00a0 \u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 parent.right = curr.right if curr.left is None else curr.right\n\n        lastBalancedNode = balanceTree(stack)\n        if lastBalancedNode:\n            self.root = lastBalancedNode\n\n        return curr\n\n\n\ndef getHeight(x: TreeNode):\n    return x.height if x else 0\n\ndef leftRotate(x: TreeNode):\n    R = x.right\n    RL = R.left\n\n    # Makes x becomes the root of R's left subtree\n    x.right = RL\n    R.left = x\n\n    # adjust height of R and x\n\u00a0 \u00a0 x.height = 1 + max(getHeight(x.left), getHeight(x.right))\n\u00a0 \u00a0 R.height = 1 + max(getHeight(R.left), getHeight(R.right))\n\u00a0 \u00a0 \n\u00a0 \u00a0 return R\n\u00a0 \u00a0 \ndef rightRotate(x: TreeNode):\n    L = x.left\n\u00a0 \u00a0 LR = L.right\n\n\u00a0 \u00a0 x.left = LR\n\u00a0 \u00a0 L.right = x \n\n\u00a0 \u00a0 x.height = 1 + max(getHeight(x.left), getHeight(x.right))\n\u00a0 \u00a0 L.height = 1 + max(getHeight(L.left), getHeight(L.right))\n\n\u00a0 \u00a0 return L\n\ndef balance(x: TreeNode):\n\u00a0 \u00a0 balance = getHeight(x.left) - getHeight(x.right)\n\u00a0 \u00a0 L = x.left\n\u00a0 \u00a0 R = x.right\n\n\u00a0 \u00a0 if balance &gt; 1:\n\u00a0 \u00a0 \u00a0 \u00a0 leftbalance = getHeight(L.left) - getHeight(L.right)\n\u00a0 \u00a0 \u00a0 \u00a0 if leftbalance &gt;= 0:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return left_Rotate(x) \n\u00a0 \u00a0 \u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 x.left = left_Rotate(L)\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return right_Rotate(x)\n\u00a0 \u00a0 elif balance &lt; -1:\n\u00a0 \u00a0 \u00a0 \u00a0 rightbalance = getHeight(R.left) - getHeight(R.right)\n\u00a0 \u00a0 \u00a0 \u00a0 if rightbalance &lt;= 0:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return left_Rotate(x)\n\u00a0 \u00a0 \u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 x.right = right_Rotate(R)\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return left_Rotate(x)\n\u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0 return x\n\ndef balanceTree(stack):\n\u00a0 \u00a0 prev = None\n\u00a0 \u00a0 while stack:\n\u00a0 \u00a0 \u00a0 \u00a0 curr, side = stack.pop() \n\n\u00a0 \u00a0 \u00a0 \u00a0 if prev is not None:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if side == 0:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 curr.left = prev\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 curr.right = prev\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 prev = None\n\n\u00a0 \u00a0 \u00a0 \u00a0 curr.height = 1 + max(getHeight(curr.left), getHeight(curr.right))\n\u00a0 \u00a0 \u00a0 \u00a0 \n\u00a0 \u00a0 \u00a0 \u00a0 heightdiff = getHeight(curr.left) - getHeight(curr.right)  \n\u00a0 \u00a0 \u00a0 \u00a0 if heightdiff &gt; 1 or heightdiff &lt; -1:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 prev = balance(curr)\n\u00a0 \u00a0 return prev\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#10-heap","title":"10. Heap","text":"<p>Heap operation templates:</p> Python <pre><code># swap larger element between parents and one of its children from ith node to the leaf, below is max-heap\n# Effect: makes arr[i:n] a heap, also called heapify\ndef sift_down(arr, n, i):\n\u00a0 \u00a0 curr_parent = i  \n\n\u00a0 \u00a0 while curr_parent &lt; n:\n\u00a0 \u00a0 \u00a0 \u00a0 next_parent = curr_parent\n\u00a0 \u00a0 \u00a0 \u00a0 left_child = 2 * curr_parent + 1\n\u00a0 \u00a0 \u00a0 \u00a0 right_child = 2 * curr_parent + 2\n\n\u00a0 \u00a0 \u00a0 \u00a0 if left_child &lt; n and arr[left_child] &gt; arr[next_parent]:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 next_parent = left_child\n\n\u00a0 \u00a0 \u00a0 \u00a0 if right_child &lt; n and arr[right_child] &gt; arr[next_parent]:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 next_parent = right_child\n\n\u00a0 \u00a0 \u00a0 \u00a0 if next_parent != curr_parent:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 arr[curr_parent], arr[next_parent] = arr[next_parent], arr[curr_parent]\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 curr_parent = next_parent\n\u00a0 \u00a0 \u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 break\n\ndef sift_up(arr, i):\n    curr_i = i  \n    while curr_i &gt; 0:\n        parent_i = (curr_i - 1) &gt;&gt; 1\n        if arr[curr_i] &gt; arr[parent_i]:\n            arr[curr_i], arr[parent_i] = arr[parent_i], arr[curr_i]\n        else:\n            break\n\ndef heappush(arr, item):\n    arr.append(item)\n    sift_up(arr, len(arr) - 1)\n\ndef heappop(arr):\n    tailItem = arr.pop()\n    if len(heap) == 0:\n        return tailItem \n    headItem = arr[0]\n\n    arr[0] = tailItem\n    sift_down(arr, len(arr), 0)\n    return headItem\n\ndef heappushpop(arr, item):\n    if len(arr) == 0:\n        return item\n    if arr[0] &gt; item:   \n        return heappoppush(arr, item)\n    else:\n        return item\n\ndef heappoppush(arr, item)\n    if len(arr) == 0:\n        raise Error(\"err\")\n    # replace the head of the heap with new item, then heapify\n    headItem, arr[0] = arr[0], item\n    sift_down(arr, len(arr), 0)\n    return headItem\n</code></pre> <ul> <li>heapSort<ul> <li>Non-inplace</li> </ul> </li> </ul> pythonJavascript <pre><code>from heapq import heappush, heappop\ndef sort(nums):\n    h = []\n    for value in nums:\n        heappush(h, value)\n\n\u00a0 \u00a0 return [heappop(h) for i in range(len(h))]\n</code></pre> <pre><code>\n</code></pre> <ul> <li>Inplace sort:</li> </ul> python <pre><code>def sort(nums):\n    n = len(nums) \n    # build max heap that extract max key\n    for i in range(n // 2 - 1, -1, -1):\n        heapify(nums, n, i)\n\n    for i in range(n - 1, 0, -1):\n        # moves the largest element to the end of the array\n        nums[0], nums[i] = nums[i], nums[0]\n        # Keeps arr[:n-1] (excluding the last element) a heap\n        heapify(nums, i, 0)\n</code></pre> <ul> <li>K items comparison(Min-heap):<ul> <li>Merge K sorted List(Leetcode #23)</li> </ul> </li> <li>sort Interval:<ul> <li>252 Meeting Rooms](https://leetcode.com/problems/meeting-rooms/)</li> <li>253 Meeting Rooms II</li> <li>435 Non-overlapping Intervals</li> </ul> </li> </ul>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#11-linkedlist","title":"11. LinkedList","text":"<p>Template:</p> <ul> <li>dummy node<ul> <li>\u5408\u5e76LinkedList <pre><code>curr = ListNode()\nwhile ...:\n    curr.next = ... \n    curr = curr.next\n</code></pre></li> </ul> </li> </ul>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#111-mergelinkedlist","title":"11.1 MergeLinkedList","text":"<ul> <li> <p>\u601d\u8def: </p> </li> <li> <p>\u5408\u5e76\u4e24\u4e2a\u6709\u5e8f\u94fe\u8868, leetcode #21 <pre><code>class Solution:\n\u00a0 \u00a0 def mergeTwoLists(self, list1: Optional[ListNode], list2: Optional[ListNode]) -&gt; Optional[ListNode]:\n\u00a0 \u00a0 \u00a0 \u00a0 acc = ListNode()\n\u00a0 \u00a0 \u00a0 \u00a0 p = acc\n\u00a0 \u00a0 \u00a0 \u00a0 p1, p2 = list1, list2\n\n\u00a0 \u00a0 \u00a0 \u00a0 while p1 and p2:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if p1.val &lt;= p2.val:\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 p.next = p1\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 p1 = p1.next\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 p.next = p2\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 p2 = p2.next\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 p = p.next  \n\n\u00a0 \u00a0 \u00a0 \u00a0 if p1:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 while p1:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 p.next = p1\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 p = p.next\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 p1 = p1.next\n\n\u00a0 \u00a0 \u00a0 \u00a0 if p2:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 while p2:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 p.next = p2\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 p = p.next\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 p2 = p2.next\n\u00a0 \u00a0 \u00a0 \u00a0 return acc.next\n</code></pre></p> </li> <li> <p>\u5408\u5e76K\u4e2a\u5347\u5e8f\u94fe\u8868, leetcode #23</p> <ul> <li>\u601d\u8def: \u6709\u7528\u5230heap</li> </ul> </li> </ul>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#112-last-k-position-of-mid-point-of-linked-list","title":"11.2 Last K position of mid point of linked list","text":"","tags":["Programming"]},{"location":"2025/10/10/leetcode/#113-ring-start","title":"11.3 ring start","text":"","tags":["Programming"]},{"location":"2025/10/10/leetcode/#12-disjoint-set","title":"12. Disjoint Set","text":"<p>Operations:</p> <ul> <li>find(<code>O(\u03b1(n))</code>)</li> <li>union(<code>O(\u03b1(n))</code>)</li> <li>makeSet(<code>O(\u03b1(n))</code>) <code>\u03b1(n)</code>is the inverse Ackermann function (which grows slower than log)</li> </ul> <p>Data structure:</p> <pre><code>class DisjointSet:\n    def __init__(self, lst):\n        self.parent = {}\n        self.rank = {}  # the height of each node\n\n    def makeSet(self, x):\n    \"\"\"Add a new element as its own set.\"\"\"\n        if x not in self.parent:\n            self.parent[x] = x\n            self.rank[x] = 0\n\n    def find(self, x):\n    \"\"\"Find the root of x with path compression\"\"\"\n        if x not in self.parent:\n            self.makeSet(x)\n        if self.parent[x] != x:\n            self.parent[x] = self.find(self.parent[x])\n        return self.parent[x]\n\n    def union(self, x, y):\n        \"\"\"Union the sets containing x and y\"\"\"\n        root_x = self.find(x)\n        root_y = self.find(y)\n\n        if root_x == root_y:\n            return False\n\n        if self.rank[root_x] &lt; self.rank[root_y]:\n            self.parent[root_x] = root_y\n        elif self.rank[root_y] &lt; self.rank[root_x]:\n            self.parent[root_y] = root_x\n        else:\n            self.parent[root_y] = root_x\n            self.rank[root_x] += 1     \n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#13-trie","title":"13. Trie(\u524d\u7f00\u6811)","text":"<p>\u9898\u76ee: Leetcode #208</p> <p>\u5e94\u7528: \u641c\u7d22\u67e5\u8be2\u65f6,\u641c\u7d22\u5f15\u64ce\u901a\u8fc7\u7528\u6237\u7684\u8f93\u5165\u4f5c\u4e3a\u524d\u7f00\u4ece\u6570\u636e\u5e93\u7684\u9ad8\u9891\u8bcd\u6c47\u4e2d\u53ec\u56de\u6240\u6709\u4ee5\u8be5\u7528\u6237\u7684\u8f93\u5165\u4e3a\u524d\u7f00\u7684\u8bcd\u6c47</p> <p>\u7528\u4e8e\u5b58\u50a8\u5b57\u7b26\u4e32:</p> pythonJava <pre><code>class Trie:\n    # \u6bd4\u6bd4\u8f83\u901a\u7528\u7684\u6a21\u677f #\n    def __init__(self):\n        \"\"\"\n        Initialize your data structure here.\n        \"\"\"\n        self.child = dict()\n        self.isword = False  #\u8868\u793a\u8be5Trie node\u662f\u5426\u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32\u7684\u7ed3\u5c3e\n\n    def insert(self, word: str) -&gt; None:\n        \"\"\"\n        Inserts a word into the trie.\n        \"\"\"\n        rt= self  #\u76f8\u5f53\u4e8ec++\u7684this\u6307\u9488\uff01\uff01\uff01\n        for w in word:\n            if w not in self.child:     #\u6ca1\u6709\uff0c\u5c31\u65b0\u5efa\n                self.child[w] = Trie()\n            rt = rt.child[w]          #\u5f80\u4e0b\u8d70\n        rt.isword = True        #\u6807\u8bb0\u4f4d\n\n\n    def search(self, word: str) -&gt; bool:\n        \"\"\"\n        Returns if the word is in the trie.\n        \"\"\"\n        rt= self  #\u76f8\u5f53\u4e8ec++\u7684this\u6307\u9488\uff01\uff01\uff01\n        for w in word:\n            if w not in rt.child:     #\u6709\u5b57\u6bcd\u4e0d\u5728\u8fd9\u6761path\u4e0a\uff0c\u65ad\u4e86\n                return False\n            rt = rt.child[w]          #\u6cbf\u7740path\u5f80\u4e0b\u8d70\n        return rt.isword == True    #\u770bisword\u4f4d\n\n    def startsWith(self, prefix: str) -&gt; bool:\n        \"\"\"\n        Returns if there is any word in the trie that starts with the given prefix.\n        \"\"\"\n        rt = self  #\u76f8\u5f53\u4e8ec++\u7684this\u6307\u9488\uff01\uff01\uff01\n        for w in prefix:\n            if w not in rt.child:     #path\u65ad\u4e86\n                return False\n            rt = rt.child[w]\n        return True\n</code></pre> <pre><code>\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#14-monostack","title":"14. MonoStack","text":"<p>https://itnext.io/monotonic-stack-identify-pattern-3da2d491a61e</p> <p>What is a monoStack:</p> <p>A monostack is a stack whose elements are monotonically non-decreasing or non-increasing. The monstack has two operations: pop and push(varied based on the type of monostack) to maintain this property. There are 2 types of mono stack:</p> <ul> <li>mono-decreasing:</li> <li>pop: pop out the item at the top of the stack(tail of the array)</li> <li>push(item):<ol> <li>while stack not empty and stack.top &lt; item:</li> <li>pop(stack.top)</li> <li>insert(stack, item)</li> </ol> </li> <li>mono-increasing:</li> <li>pop: pop out the item at the top of the stack</li> <li>push(item):<ol> <li>while stack not empty and stack.top &gt; item:</li> <li>pop(stack.top)</li> <li>insert(stack, item)</li> </ol> </li> </ul> <p>Application of mono-stack:</p> <ol> <li>Find Next-Great-Element and Prev-Great-Element of each array element</li> </ol> <p>For mono nondecreasing stack:</p> <p>we define the following(for each array element <code>arr[i]</code>):</p> <ul> <li>Next-Great-Element(arr[i]): the first value that is greater than <code>arr[i]</code> on the right of <code>arr[i]</code> </li> <li>Prev-Great-Element(arr[i]): the last value that is greater than <code>arr[i]</code> on the left of <code>arr[i]</code></li> </ul> <p>We usually load the array content into a mono stack as above by consistently pushing the element of the array. During the push(item), for each element <code>arr[i]</code> that is popped, Next-Great-Element(arr[i]) is the  newly inserted <code>item</code> and Prev-Great-Element(arr[i]) is the element that is before <code>arr[i]</code> in stack(i.e: the stack top after we pop <code>arr[i]</code>). If we need to use Next-Great-Element(arr[i]) or Prev-Great-Element(arr[i]) of each element <code>arr[i]</code> to solve the problem, consider monostack</p> <ol> <li>find the smallest combination of array element in the array</li> </ol> <p>After loading all elements into the stack, the stack exhibits the following property:</p> <ul> <li>the array element of the stack is in sequential order, where the i^th^ element of the stack must be before the j^th^ element of the stack in original array if i &lt; j</li> <li>Among all sub-sequences from the array that is in sequential order, the sequence in the stack has the smallest lexicographical order comparing with any sequence of the same length(smallest lexicographical order refers to \"A string <code>a</code> is lexicographically smaller than a string <code>b</code> if in the first position where <code>a</code> and <code>b</code> differ, string <code>a</code> has a letter that appears earlier in the alphabet than the corresponding letter in <code>b</code>.If the first <code>min(a.length, b.length)</code> characters do not differ, then the shorter string is the lexicographically smaller one.\")</li> </ul> <p>Application: leetcode: #316</p>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#15-divide-conquer","title":"15. Divide &amp; Conquer","text":"<ul> <li>Search a 2D Matrix II, leetcode #240</li> </ul>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#16-segment-tree","title":"16. Segment Tree","text":"<p>why do we need Segment Tree:</p> <p>When we want to sum an array, the worst runtime is O(n) and update it, the runtime is O(1) If we have equal number of two operations, the total runtime is O(n) However, the update and get sum for a range for segment tree are both <code>O(log n)</code>. A segment tree is an array that exhibits a tree structure</p> <pre><code>def build(arr):\n    n = len(arr)\n    tree = [0] * (2 * n)\n\n    for i in range(n):\n        tree[n + i] = arr[i]\n\n    for i in range(n - 1, 0, -1):\n        tree[i] = tree[i &lt;&lt; 1] + tree[i &lt;&lt; 1 | 1]\n\n## n is the length of arr, update arr[p]\ndef updateTreeNode(n, p, value):\n    i = p + n\n    tree[i] = value\n\n    while i &gt; 1:\n        # i is odd, then i ^ 1 is even, both i and i ^ 1 are children\n        # i is even, then i ^ 1 is odd, both i and i ^ 1 are children\n        tree[i &gt;&gt; 1] = tree[i] + tree[i ^ 1]\n        i &gt;&gt;= 1\n\n## query the sum on interval [l, r), n is the length of arr\ndef query(arr, start, end):\n    res = 0\n    l = start + n\n    r = end + n\n\n    while l &lt; r:\n        # l is odd, odd position in tree is always the right child of parent\n        # l += 1, l becomes the left child of the next parent\n        if l &amp; 1:\n            res += tree[l]\n            l += 1\n\n        # r is odd\n        if r &amp; 1:\n            r -= 1\n            res += tree[r]\n        l &gt;&gt;= 1\n        r &gt;&gt;= 1\n    return res\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#17-line-sweep","title":"17. Line sweep","text":"<p>What is the problem:</p> <p>Given a set of line segments(e.g: <code>[[x1, y1], [x2, y2]]</code>) which are represented by the x, y coordinates of their endpoints, we want to find the total set of intersection points</p>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#171-cross-product-application","title":"17.1 Cross Product application","text":"<p>Computing cross product lies at the heart of many line segments problem. Here are the problems that can be applied:</p> <ol> <li>Given 2 directed segments \\(P_0P_1\\) and \\(P_0P_2\\), is \\(P_0P_1\\) clockwise from \\(P_0P_2\\) w.r.t \\(P_0\\)?</li> <li>Given \\(P_0P_1\\) and point \\(P_2\\), is \\(P_2\\) on the left side or right side of \\(P_0P_1\\) ?</li> <li>Do \\(P_1P2\\) and \\(P_3P_4\\) intersect?</li> </ol> <ol> <li>Clockwise Problem We have the following property: let \\(P_0\\) be (0, 0):</li> <li>if \\(P_1\\) X \\(P_2\\) &gt; 0,   \\(P_1\\) is clockwise from \\(P_2\\) w.r.t \\(P_0\\)</li> <li>if \\(P_1\\) X \\(P_2\\) &lt; 0,  \\(P_1\\) is counter-clockwise from \\(P_2\\) w.r.t \\(P_0\\)</li> <li> <p>if \\(P_1\\) X \\(P_2\\) = 0, \\(P_1\\) is parallel to \\(P_2\\)</p> </li> <li> <p>Left-side problem Equivalent to determining angle \\(\\angle P_0P_1P_2\\) is counter-clockwise or not:  </p> </li> <li> <p>Intersection To determine intersection, check either of the following:</p> </li> <li>both endpoints of \\(P_1P_2\\) are on both sides of \\(P_3P_4\\) and both endpoints of \\(P_3P_4\\) are on both sides of \\(P_1P_2\\)</li> <li>an endpoint of one segment lies on the other segment</li> </ol> <pre><code>def crossProduct(v1, v2):\n    x1, y1 = v1\n    x2, y2 = v2\n    return x1 * y2 - x2 * y1\n\ndef side(segment, p):\n    p1, p2 = segment\n    return crossProduct(p - p1, p - p2)\n\ndef onSegment(segment, p):\n    p1, p2 = segment\n    x1, y1, x2, y2 = p1[0], p1[1], p2[0], p2[1]\n    x, y = p\n\n    return min(x1, x2) &lt;= x &lt;= max(x1, x2) and min(y1, y2) &lt;= y &lt;= max(y1, y2)\n\ndef intersection(P1P2, P3P4):\n    P1, P2 = P1P2[0], P1P2[1]\n    P3, P4 = P3P4[1], P3P4[1]\n\n    P1_side = side(P3P4, P1)\n    P2_side = side(P3P4, P2)\n    P3_side = side(P1P2, P3)\n    P4_side = side(P1P2, P4)\n\n    # first case:\n    if ((P1_side &gt; 0 and P2_side &lt; 0) or (P1_side &lt; 0 and P2_side &gt; 0)) and\\\n        ((P3_side &gt; 0 and P4_side &lt; 0) or (P3_side &lt; 0 and P4_side &gt; 0)):\n        return True\n    elif P1_side == 0 and onSegment(P3P4, P1):\n        return True\n    elif P2_side == 0 and onSegment(P3P4, P2):\n        return True\n    elif P3_side == 0 and onSegment(P1P2, P3):\n        return True\n    elif P4_side == 0 and onSegment(P1P2, P4):\n        return True\n    else:\n        return False\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#172-line-sweep-algorithm","title":"17.2 Line sweep algorithm","text":"<p>Assumption(both assumptions can be relaxed by more advanced algor, these assumptions are just for standard line sweep):</p> <ul> <li>there are no vertical segments</li> <li>only two segments intersect at an intersection Runtime(<code>O(n lg n)</code>): </li> </ul> <pre><code>## segment: [[[x1, y1], [x2, y2|x1, y1], [x2, y2]], [[x1', y1'], [x2', y2'|x1', y1'], [x2', y2']]]\n## each segment is represented as a [[], [|], []], where the first [] \n## contains the (x, y) of left endpoint p1 and the second [] has \n## the right endpoint p2\ndef lineSweep(lineSegments):\n\u00a0 \u00a0 T = AVLTree(segmentOrder)  # need AVL tree from 9.2\n\u00a0 \u00a0 events = sortEndpoints(lineSegments)\n\u00a0 \u00a0 acc = []\n\u00a0 \u00a0 for p in events:\n\u00a0 \u00a0 \u00a0 \u00a0 segmentID = p[3]\n\u00a0 \u00a0 \u00a0 \u00a0 s = lineSegments[segmentID]\n\u00a0 \u00a0 \u00a0 \u00a0 up = above(T, s)\n\u00a0 \u00a0 \u00a0 \u00a0 down = below(T, s)\n\n\u00a0 \u00a0 \u00a0 \u00a0 if p[2] == 0:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 T.insert(s)\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if up and intersection(up, s):\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 acc.append([up, s])\n\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if down and intersection(down, s):\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 acc.append([down, s])\n\u00a0 \u00a0 \u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if up and down and intersection(up, down):\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 acc.append([up, down])\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 T.delete(s)\n\u00a0 \u00a0 return acc\n\n\n## return 1 if a is above b, 0 if a is at b, -1 if a is below b\ndef segmentOrder(a, b, x0):\n\u00a0 \u00a0 intersect = intersection(a, b)\n\u00a0 \u00a0 if not intersect:\n    \u00a0 \u00a0 # a is the left segment\n\u00a0 \u00a0 \u00a0 \u00a0 if a[0] &lt;= b[0]:\n    \u00a0 \u00a0 \u00a0 \u00a0 return side(a, b[0])\n    \u00a0 \u00a0 else:\n        \u00a0 \u00a0 return side(b, a[0]) * (-1)\n\u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0 # x be the intersection point of a &amp; b\n\u00a0 \u00a0 \u00a0 \u00a0 # x0 &gt; x\n\u00a0 \u00a0 \u00a0 \u00a0 Right_to_intersection = ((a[1][0] - a[0][0]) * (b[1][0] - b[0][0]) * (b[0][1] - a[0][1]) - (a[1][0] - a[0][0]) * (b[1][1] - b[0][1]) * b[0][0] + (b[1][0] - b[0][0]) * (a[1][1] - a[0][1]) * a[0][0]) \u00a0&lt; \\\n\n\u00a0 \u00a0 \u00a0 \u00a0 ((b[1][0] - b[0][0]) * (a[1][1] - a[0][1]) * x0 \u00a0- (a[1][0] - a[0][0]) * (b[1][1] - b[0][1]) * x0)\n\u00a0 \u00a0 \u00a0 \u00a0 if Right_to_intersection:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return a[1][1] - b[1][1]\n\u00a0 \u00a0 \u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return a[0][1] - b[0][1]\n\ndef sortEndpoints(lineSegments):\n\u00a0 \u00a0 acc = []\n\u00a0 \u00a0 for i in range(len(lineSegments)):\n\u00a0 \u00a0 \u00a0 \u00a0 # x-coord, y-coord, left/right, segmentID\n\u00a0 \u00a0 \u00a0 \u00a0 acc.append((lineSegments[i][0][0], lineSegments[i][0][1], 0, i))\n\u00a0 \u00a0 \u00a0 \u00a0 acc.append((lineSegments[i][1][0], lineSegments[i][1][1], 1, i))\n\n\u00a0 \u00a0 n = len(acc)\n\u00a0 \u00a0 for i in range(n // 2 - 1, -1, -1):\n\u00a0 \u00a0 \u00a0 \u00a0 sift_down(acc, n, i)\n\n\u00a0 \u00a0 for i in range(n - 1, 0, -1):\n\u00a0 \u00a0 \u00a0 \u00a0 acc[0], acc[i] = acc[i], acc[0]\n\u00a0 \u00a0 \u00a0 \u00a0 sift_down(acc, i, 0)\n\u00a0 \u00a0 return acc\n\n\ndef above(T: AVLTree, s):\n\u00a0 \u00a0 return T.predecessor(s)\n\n\ndef below(T: AVLTree, s):\n\u00a0 \u00a0 return T.successor(s)\n\n\n## return True if e1 &gt; e2\ndef comparison(e1, e2):\n\u00a0 \u00a0 if e1[0] &gt; e2[0]:\n\u00a0 \u00a0 \u00a0 \u00a0 return True\n\u00a0 \u00a0 elif e1[0] &lt; e2[0]:\n\u00a0 \u00a0 \u00a0 \u00a0 return False\n\u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0 if e1[2] &gt; e2[2]:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return True\n\u00a0 \u00a0 \u00a0 \u00a0 elif e1[2] &lt; e2[2]:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return False\n\u00a0 \u00a0 \u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return e1[1] &gt; e2[1]\n\n\ndef sift_down(h, n, i):\n\u00a0 \u00a0 curr_p = i\n\u00a0 \u00a0 while curr_p &lt; n:\n\u00a0 \u00a0 \u00a0 \u00a0 next_p = curr_p\n\u00a0 \u00a0 \u00a0 \u00a0 l = 2 * curr_p + 1\n\u00a0 \u00a0 \u00a0 \u00a0 r = 2 * curr_p + 2\n\n\u00a0 \u00a0 \u00a0 \u00a0 if l &lt; n and comparison(h[next_p], h[l]):\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 next_p = l\n\u00a0 \u00a0 \u00a0 \u00a0 if r &lt; n and comparison(h[next_p], h[r]):\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 next_p = r\n\u00a0 \u00a0 \u00a0 \u00a0 if curr_p != next_p:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 h[curr_p], h[next_p] = h[next_p], h[curr_p]\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 curr_p = next_p\n\u00a0 \u00a0 \u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 break\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#18-bit-operation","title":"18. Bit operation","text":"<p>bit operations:</p> Python <pre><code>a = 4 ^ 5  # a: 1(4 XOR 5 bitwise)\na = a &gt;&gt; 1 # a: 0 (a // 2)\na = a &lt;&lt; 1 # a: 2 (a * 2)\na = 4 &amp; 5  # a: 4 (a AND 5 bitwise)\na = 4 | 5  # a: 5 (a OR 5 bitwise)\na = ~5     # a: -6 (reverse every bit of the number)\n</code></pre> <p>application: \u52a0\u51cf:</p>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#19-mergesort","title":"19. MergeSort","text":"<p>In-place template: <pre><code>def Merge(arr, l, m, r):\n    # create 2 temporary backup arrays\n    larr = arr[l:m + 1]\n    rarr = arr[m+1:r + 1]\n\n    lsize, rsize = len(larr), len(rarr)\n    pleft, pright = 0, 0\n    curr = l\n\n    while pleft &lt; lsize and pright &lt; risze:\n        if larr[pleft] &lt;= rarr[pright]:\n            arr[curr] = larr[pleft]\n            pleft += 1\n        else:\n            arr[curr] = rarr[pright]\n            pright += 1\n        curr += 1\n\n    while pleft &lt; lsize:\n        arr[curr] = larr[pleft]\n        pleft += 1\n        curr += 1\n\n    while pright &lt; rsize:\n        arr[curr] = rarr[pright]\n        pright += 1\n        curr += 1\n\n\n\n\ndef MergeSort(arr):\n    n = len(arr)\n\n    subArraySize = 1\n    while subArraySize &lt;= n - 1:\n\n        # Merge every pair of subarrays in arr\n        l = 0\n        while l &lt; n - 1:\n            mid = min(l + subArraySize - 1, n - 1)\n            r = min(l + 2 * subArraySize - 1, n - 1)\n\n            merge(arr, l, mid, r)\n            l += 2 * subArraySize\n        subArraySize *= 2\n</code></pre></p>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#20-quickselect","title":"20. QuickSelect","text":"<p>QuickSelect:</p> <ul> <li>assumption: all elements in <code>arr</code> must be distinct</li> <li>average runtime: O(n)</li> <li>worst runtime: O(\\(n^2\\)), when the <code>arr</code> is sorted <pre><code>## transform arr[l..r] and moves elemenets &lt;= pivot to left and \n## elements &gt; pivot to right, return pivot position\ndef partition(arr, l, r):\n    pivot = arr[r]\n    i = l # i marks the progressing pivot position\n    for j in range(l, r):\n        # loop arr and moves elements that &lt;= pivot to arr[1..i-1]\n        if arr[j] &lt;= pivot:\n            arr[i], arr[j] = arr[j], arr[i]\n            i += 1\n    arr[i], arr[r] = arr[r], arr[i]\n    return i\n\n## select the kth smallest elements from arr[l..r], k starts with 1\ndef quickSelect(arr, l, r, k):\n    pivot = partition(arr, l, r)\n    # pivot matches the pivot element position in the sorted array\n    # thus, if pivot is k -1, then the pivot element is the kth smallest\n\n    if pivot - l == k - 1:\n        return arr[pivot]\n    elif pivot - l &gt; k - 1:\n        return quickSelect(arr, l, pivot - 1, k)\n    else:\n        return quickSelect(arr, pivot + 1, r, k - (pivot - l + 1))  \n</code></pre></li> </ul> <p>QuickSort:</p> <p>Q:</p> <ul> <li>Kth smallest element in a sorted matrix (leetcode #378)</li> </ul>","tags":["Programming"]},{"location":"2025/10/10/leetcode/#21-string-matching","title":"21. String MatchingShare this post:","text":"<p>Share on  Share on </p>","tags":["Programming"]},{"location":"2025/11/22/linux/","title":"Linux","text":"<p>My note about Linux(mostly Ubuntu 22.04 LTS)</p>","tags":["DevOps"]},{"location":"2025/11/22/linux/#1-initialize-config","title":"1. Initialize config","text":"","tags":["DevOps"]},{"location":"2025/11/22/linux/#11-firewall","title":"1.1 Firewall","text":"<p>after provisioning a new linux instance, we set firewall rules as following:</p> inbound/outbound ip_address port rule protocol inbound 0.0.0.0/0 22 allowed SSH inbound 0.0.0.0/0 80 allowed TCP inbound 0.0.0.0/0 443 allowed TLS outbound 0.0.0.0/0 * allowed All <pre><code>## iptables\n\n## ufw\n## ufw [allow/deny] [out]  &lt;port&gt;[:&lt;protocol&gt;]\nsudo ufw default allow outgoing\nsudo ufw default deny incoming\n\nsudo ufw allow 80/tcp\nsudo ufw allow https\nsudo ufw allow ssh\n</code></pre>","tags":["DevOps"]},{"location":"2025/11/22/linux/#12-ssh","title":"1.2 SSH","text":"","tags":["DevOps"]},{"location":"2025/11/22/linux/#121-passwordless-login","title":"1.2.1 passwordless login","text":"<ol> <li>edit <code>/etc/ssh/sshd_config</code> and ensure the following lines: <pre><code>PubkeyAuthentication yes\nPasswordAuthentication yes   # optional during testing\nAuthorizedKeysFile .ssh/authorized_keys\n</code></pre></li> <li>Launch the ssh with the above config: <code>sudo systemctl restart ssh</code></li> <li>On client machine, <code>ssh-keygen -t rsa -b 4096</code> generates <code>id_rsa.pub</code> and <code>id_rsa</code></li> <li> <p>edit config:</p> </li> <li> <p>remote: copy the contents of <code>id_rsa.pub</code> at the end of <code>~/.ssh/authorized_keys</code></p> </li> <li>client: edit <code>%USERPROFILE%\\.ssh\\config</code>:s <pre><code>Host digitalocean\n    HostName &lt;REMOTE_HOST_IP&gt;\n    User &lt;REMOTE_USER&gt;\n    IdentityFile &lt;id_rsa_path&gt;\n</code></pre></li> </ol>","tags":["DevOps"]},{"location":"2025/11/22/linux/#13-important-config-file","title":"1.3 Important config file","text":"<ul> <li><code>/etc/profile</code>: config <code>PATH</code> variable</li> <li><code>/etc/ssh/sshd_config</code>: ssh server config</li> </ul>","tags":["DevOps"]},{"location":"2025/11/22/linux/#14-package-manager","title":"1.4 Package manager","text":"<pre><code>apt list --installed\napt install -y &lt;PACKAGE_NAME&gt;\napt download &lt;PACKAGE_NAME&gt;   # only download but not install\n</code></pre>","tags":["DevOps"]},{"location":"2025/11/22/linux/#15-user","title":"1.5 User","text":"","tags":["DevOps"]},{"location":"2025/11/22/linux/#2-commands","title":"2. Commands","text":"","tags":["DevOps"]},{"location":"2025/11/22/linux/#21-common","title":"2.1 common","text":"<p>common: <pre><code>mkdir a\ncd /root\nls ~\nls /etc -larth\ncat a.txt\npwd\ncp a.txt b.txt\nmv b.txt ../b.txt\n</code></pre> Files: <pre><code>touch a.txt\n\n## chmod\n## owner     group    other\n## rwx       r-x       r-- (r:4, w: 2, x: 1)\nchmod 764 a.txt\n\n## lsattr/chattr\n\n##chown:\n## change the owner group/user of file/directory to &lt;GROUP_NAME&gt; or &lt;OWNER&gt;\nchown &lt;OWNER_NAME&gt;:&lt;GROUP_NAME&gt; &lt;FILE_NAME/DIRECTORY_NAME&gt;\nchown :&lt;GROUP_NAME&gt; &lt;FILE_NAME/DIRECTORY_NAME&gt;\nchown &lt;OWNER_NAME&gt; &lt;FILE_NAME/DIRECTORY_NAME&gt;\n\n## stat\nstat &lt;FILE_NAME&gt;\n\n## ln\nln &lt;ORIGINAL_FILE_PATH&gt; &lt;HARD_LINK_NAME&gt;\nln -s &lt;ORIGINAL_FILE_PATH/ORIGINAL_DIRECTORY_PATH&gt; &lt;SOFT_LINK_NAME&gt;\n\n## mount storage device to file system\nlsblk # list all storage device name\nmount /dev/&lt;DEVICE_NAME&gt; /mnt/&lt;DEVICE_NAME&gt;\nunmount /dev/&lt;DEVICE_NAME&gt;\n</code></pre> Services: <pre><code>## systemctl\nsystemctl status firewalld\nsystemctl start firewalld\nsystemctl stop firewalld\n## onfigure to start the &lt;SERVICE&gt; when system boot up\nsystemctl enable &lt;SERVICE&gt;\n## List all services on this machine\nsystemctl list-units --type=service\n## check service log\njournalctl -u &lt;SERVICE&gt;.service --no-pager\n\n## service\nservice &lt;SERVICE&gt; status\nservice &lt;SERVICE&gt; start\nservice &lt;SERVICE&gt; stop\n</code></pre> Processes: <pre><code>## List running processes\nps -aux\n## check processes created by a user\nps -u &lt;USER&gt;\n\n## Terminate process(ctrl + C)\nkill -s SIGINT &lt;PROCESS_ID&gt;\n</code></pre> Port: <pre><code>## find the PID on a port\nsudo netstat -nlp | grep :&lt;PORT&gt;\n</code></pre></p> <p>ACL Control: <pre><code>## umask: set permission for newly created files/directories\n</code></pre></p> <p>User: <pre><code>## add/remove user\nsudo adduser &lt;USER&gt;\nsudo userdel -r &lt;USER&gt;\n\n## add/remove group\nsudo groupadd &lt;GROUPNAME&gt;\nsudo groupdel &lt;GROUPNAME&gt;\n\n## add/remove a user to a group\nsudo usermod -aG groupname username\nsudo deluser &lt;USER&gt; &lt;GROUPNAME&gt;\n\n## list user's groups\ngroups &lt;USER&gt;\n\n## switch user\nsu &lt;USER&gt;\n\nwhoami\n</code></pre></p> <p>Other useful: <pre><code>## find\nfind / -name \"hi.txt\"\nfind / -type \"f\"\n## find files of size between 20kB and 25kB\nfind / -size +20k -size -25k\nfind / - user \"&lt;USER&gt;\"\n## find files that has modification time after certain date\nfind / -newermt \"yyyy-mm-dd\"\n## find files that has modification time before certain date\nfind / \\! -newermt \"yyyy-mm-dd\"\n## not display error message of find command\nfind / -name \"hi.txt\" 2&gt;/dev/null\n\n\n## curl\n## save contents of URL into filename\ncurl -o &lt;FILE_NAME&gt; &lt;URL&gt;\n## follow redirection if URL redirect\ncurl -L &lt;URL&gt;\ncurl -H \"Content-Type: application/json\" \\\n    -H \"Authorization: Bearer your_token_here\" \\\n    -H \"&lt;CUSTOM_HEADER_KEY&gt;:&lt;HEADER_KEY_VALUE&gt;\"\ncurl -X POST -d \"param1=value1&amp;param2=value2\" &lt;URL&gt;\n## upload file.txt to URL\ncurl -F \"&lt;FILE_PATH&gt;/file.txt\" &lt;URL&gt;\n\n## whereis\n</code></pre></p>","tags":["DevOps"]},{"location":"2025/11/22/linux/#22-schedule-commands","title":"2.2 Schedule commands","text":"<p>We schedule command using either <code>cron</code> or <code>at</code>:</p> <p>Cron: schedule periodic task - Create a crob job:     1. check cron service status: <code>systemctl status cron</code> or <code>service cron status</code>     2. <code>crontab -e</code> will open up a cron file in text editor, once file is saved, cron will execute. Cron file format: <pre><code>minute hour day_of_month month day_of_week command_to_run\n</code></pre> - List cron jobs: <code>crontab -l</code> - Delete all user's cron job: <code>crontab -r</code></p> <p><code>at</code>: schedule one-time task - create at job:     1. check service: <code>systemctl status atd</code> or <code>service atd status</code>     2. execute single command: <code>echo \"&lt;COMMAND&gt;\" | at [hour]:[minute] [AM/PM] [MM/DD/YYYY]</code>; executes file: <code>at -f &lt;SCRIPT&gt; [hour]:[minute] [AM/PM] [MM/DD/YYYY]</code> - list jobs: <code>at -l</code> - delete job: <code>at -r &lt;JOB_ID&gt;</code></p>","tags":["DevOps"]},{"location":"2025/11/22/linux/#221-schedule-one-time-task","title":"2.2.1 Schedule one time task","text":"<p>at: <code>at -f ~/myscript.sh 14:00</code></p>","tags":["DevOps"]},{"location":"2025/11/22/linux/#222-schedule-periodic-task","title":"2.2.2 Schedule periodic task","text":"<p>cron file: <pre><code>30 3 5 12 * &lt;COMMAND&gt;\n</code></pre> This will creates a job that runs at <code>12/05 3:30</code> every year. </p> <p><pre><code>0 3 * * * &lt;COMMAND&gt;\n</code></pre> This will creates task at <code>3:00</code> every day.</p>","tags":["DevOps"]},{"location":"2025/11/22/linux/#3-network","title":"3. Network","text":"","tags":["DevOps"]},{"location":"2025/11/22/linux/#31-create-tls-certificate","title":"3.1 Create TLS certificate","text":"<ul> <li>self-signed certificate</li> <li>Letsencrypt</li> </ul> <p>self-signed certificate: This is generally used for self-hosting multiple host machines. Letsencrypt is suitable when you have only one domain for running one host <pre><code>## one command to generate the key and crt\nsudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout /etc/gitlab/trusted-certs/gitlab.key -out /etc/gitlab/trusted-certs/gitlab.crt -subj \"/CN=&lt;IP_ADDRESS&gt;\"\n</code></pre></p> <p>LetsEncrypt: LetsEncrypt is a CA service that can freely request and generate a trusted CA certificate. Users interact with  letsencrypt through certbot command. To use LetsEncrypt, you must have a domain name.</p> <pre><code>apt install certbot\n## 1. obtain CA certificate, enter email address and select yes\n##   generates: - /etc/letsencrypt/live/&lt;DOMAIN&gt;/fullchain.pem\n##              - /etc/letsencrypt/live/&lt;DOMAIN&gt;/privkey.pem\nsudo certbot certonly --standalone --preferred_challenges http -d &lt;DOMAIN_NAME&gt;\n</code></pre>","tags":["DevOps"]},{"location":"2025/11/22/linux/#32-apache","title":"3.2 Apache","text":"","tags":["DevOps"]},{"location":"2025/11/22/linux/#4-bash","title":"4. Bash","text":"","tags":["DevOps"]},{"location":"2025/11/22/linux/#41-declare-variables","title":"4.1 Declare Variables","text":"<pre><code>##!/bin/bash\ngreeting=\"hello\"  # ensure no space on both sides of =\nvar=$(ls -l | wc -l)\n\nlet var=var+1\ni = `expr $j + $i`\n\n## common built-in variables:\n## $0: the invoked name of the bash script\n## $1 - $9: the first 9 arguments to the bash script\n## $#: number of arguments passed to this bash script\n## $?: The exit status of the most recent progress\n\n\necho \"${greeting} world\"\n</code></pre>","tags":["DevOps"]},{"location":"2025/11/22/linux/#42-operators","title":"4.2 Operators","text":"<p>redirect:</p> <ul> <li><code>&lt;COMMAND&gt; &gt; &lt;FILE&gt;</code>: redirect contents written to <code>/dev/stdin</code> to <code>&lt;FILE&gt;</code></li> <li><code>&lt;COMMAND&gt; &gt;&gt; &lt;FILE&gt;</code>: append output from <code>&lt;COMMAND&gt;</code> to the end of <code>&lt;FILE&gt;</code></li> <li><code>&lt;COMMAND&gt; m&gt;&amp; &lt;FILE&gt;</code>: point file descriptor of m to <code>FILE</code>, and redirect contents written to file descriptor m to <code>&lt;FILE&gt;</code></li> <li> <p><code>`&lt;COMMAND&gt; 2&gt;/dev/null</code>: do not display error messages: More:</p> </li> <li> <p>https://blog.csdn.net/weixin_29476595/article/details/112665057</p> </li> <li>https://blog.csdn.net/xyz_dream/article/details/89547687</li> </ul>","tags":["DevOps"]},{"location":"2025/11/22/linux/#43-if-statement","title":"4.3 if statement","text":"<pre><code>if [-d \"$WRITEDIR\"]\nthen\n    echo \"$WRITEDIR created\"\nelif ((2 / 2 == 1))\nthen\n    echo \"hello\"\nelif [\"$value1\" -eq \"$value2\"]\nthen\n    echo $value1\nelse\n    exit 1\nfi\n</code></pre> <p>reference: https://www.jianshu.com/p/f3bb2468c7af</p> Share this post: <p>Share on  Share on </p>","tags":["DevOps"]},{"location":"2025/10/10/programmingnote/","title":"ProgrammingNote","text":"<p>This is my programming notes of python, javascript, Java, C++ that I can use to refresh memories.</p>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#1-basic","title":"1. Basic","text":"","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#11-declare-variable","title":"1.1 Declare variable","text":"PythonJavaJavascriptCpp <pre><code>x = 1\ny = 2.0\nz = \"abc\"\n\na = (1, 2, 3)\n</code></pre> <pre><code>class Main{\n    public static void main(String[] args){\n        int x = 7;\n        Integer x2 = 5; // we use Integer as function parameter type\n        float y = 1.0;\n        char z = 'a';\n\n        String msg = \"hello world\";\n\n        char[] c_arr = {'a', 'b'};\n\n        final int a = 1;  // final means `a` can only be assigned once\n    }\n}\n</code></pre> <pre><code>// common js\nvar x = 1\nvar y = 1.0   //x and y are both Number type\nvar s = \"abc\"\n\n// ES6\nlet x = 1 // let variable can be reassigned\nx = 2\nlet y = 1.0\nlet s = \"abc\"\n\nconst b = 1  // cannot be assigned again and must be initialized\n</code></pre> <pre><code>int main(void){\n    int x = 1;\n    double y = 2.0;\n    char z = 'a';\n}\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#12-print","title":"1.2 print","text":"PythonJavajavascriptCpp <pre><code>print(\"hello world\")\n\na, b = 1, 2\nprint(f\"a = {a}, b = {b}\")\n\nclass A:\n    a = 1\n    def __str__(self):   # we customize class string in __str__ method\n        return f\"\\{a = {self.a}\\}\"\n\nprint(A())  \n</code></pre> <pre><code>import java.util.Arrays;\nclass Main{\n    public static void main(String[] args){\n        System.out.println(\"Hello world\");\n\n        int a = 1;\n        float b = 2.0;\n        char[] c_arr = {'a', 'b'};\n        System.out.printf(\"a = %d, b = %f, %s\", a, \\\n        b, Arrays.toString(c_arr));\n\n        // print class\n        class A {  \n            @Override  \n            public String toString(){  \n                return \"a\";  \n            }  \n        }     \n        System.out.println(new A());\n    }\n}\n</code></pre> <pre><code>a = 1;\nobj = {a: 1}\nconsole.log(`a: ${a}`);\nconsole.log(`obj: ${JSON.stringify(obj)}`)\n</code></pre> <pre><code># include &lt;iostream&gt;\n#include &lt;stdio.h&gt;\nint main(void){\n    // 1. iostream\n    std::cout &lt;&lt;&lt; \"Hello world\";\n\n    // 2. stdio.h\n    int a = 1;\n    double b = 2.0;\n    char *msg = \"Hello world\";\n    printf(\"a=%d, b=%f, %s\\n\", a, b, msg);\n}\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#13-loop","title":"1.3 Loop","text":"PythonJavaJavascript <pre><code>lst = [1, 3, 4, 4]\n\nfor item in lst:\n    print(item)\n\nflag = True:\nwhile flag:\n    # code below\n    print(lst)\n</code></pre> <pre><code>char[] c_arr = {'a', 'b'};\nfor(int i = 0; i &lt; c_arr.length; i++){\n    System.out.print(c_arr[i]);\n}\n\nfor(char item:c_arr){\n    System.out.println(item)\n}\n\nboolean flag = True;\nwhile(flag){\n    System.out.print(c_arr[i]);\n}\n</code></pre> <pre><code>// for loop 1:\nfor (let i = 0; i &lt; 3; i++) {  \n    console.log(\"Iteration number: \" + i);  \n}\n\n// for...in iterates over enumerable properties of an object\nconst person = { name: \"Alice\", age: 30 };  \nfor (const key in person) {  \n    console.log(key + \": \" + person[key]);  \n}\n\n// for...of iterates values of iterable objects\nconst colors = [\"red\", \"green\", \"blue\"];  \nfor (const color of colors) {  \n    console.log(color);  \n}\n\n// while loop\nlet count = 0;  \nwhile (count &lt; 3) {  \n    console.log(\"Count is: \" + count);  \n    count++;  \n}\n\n// do...while\nlet x = 0;  \ndo {  \n    console.log(\"Value of x: \" + x);  \n    x++;  \n} while (x &lt; 0);\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#14-define-function","title":"1.4 Define function","text":"PythonJavaJavascript <pre><code>def helloworld(x):\n    print(\"hello world: \", x)\n\nhello = lambda x: \"helloworld: \" + x\n</code></pre> <pre><code>class Demo {\n    public String fn(String args){\n        return args\n    }\n}\n\n// Runnable is a function that does not return anything\nRunnable fn = ()-&gt; {\n    System.out.println(\"helloworld\");\n}\n\n// Callable is a function that must return something\nCallable&lt;String&gt; fn = ()-&gt;{\n    return \"helloworld\"\n}\n</code></pre> <pre><code>// normal declare\nfunction helloworld(name){\n    console.log(`Hello: ${name}`);\n}\n\n// arrow function\nconst helloworld = (name) =&gt; {\n    console.log(`Hello: ${name}`);\n}\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#15-define-class","title":"1.5 define class","text":"JavaJavascript <pre><code>abstract class A1 {\n    public void methodA1;\n}\n\npublic interface A {\n    public void methodA;\n}\n\npublic class A2 extends A1 implements A {\n    // this class can be instantiated from anywhere\n    public A2(){}\n\n    // this class can only be instantiated by classes within same package\n    A2(){}\n\n    // this constructor can be accessed by class within same package or\n    // by subclasses in any packages\n    protected A2(){}\n\n    // this constructor can only be accessed within this class, like its\n    // static method\n    private A2(){}\n\n    public void methodA{}\n\n    public void methodA1{}\n}\n\nfinal class B {}\n\n// Java 14: ensure class C's every field is final, save repeated constructor\npublic record C (String cartId, List&lt;Integer&gt; items) {\n    public Integer addItem(Integer item){}\n}\n\nA2 a2 = new A2();\nB b = new B();\nC c = new C(\"1\", new ArrayList());\n</code></pre> <pre><code>class A {\n    constructor(a1, a2){\n        this.a1 = a1;\n        this.a2 = a2;\n    }\n}\n\nclass AA extends A{\n    constructor(a1, a2, a3){\n        super(a1, a2);\n        this.a3 = a3;\n    }\n}\n\nconst a = new A(1, 2);\nconst aa = new AA(1, 2, 3)\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#16-ifcatch-block","title":"1.6 if/catch block","text":"<pre><code>## if else blocks\na = 1\nif a &lt;= 1:\n    print(\"1\")\nelif a &lt; 2:\n    print(\"2)\nelse:\n    print(a)\n\n## if else expression\nexpr = True if a &lt; 1 else False\n\n## try except\ntry:\n    x = 1 / 0\nExcept e:\n    print(\"exception\")\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#17-operator","title":"1.7 Operator","text":"<p>arithmetic:</p> Python <pre><code> a = 3 + 2\n a = 3 - 2\n a = 3 * 2\n a = 3 / 2\n a = 3 // 2\n a = 3 % 2\n</code></pre> <p>Comparison:</p> PythonJavaJavascript <pre><code>a = {1: \"helloworld\"}\nb = {1: \"helloworld\"}\na == b\na is b\n</code></pre> <pre><code>List arr = new ArrayList();\nList arr2 = new ArrayList();\n\narr.equal(arr2);  // return if the value of two objects are true\narr == arr2;      // return if two variables point to the same object\n</code></pre> <pre><code>// == performs type coersion before comparison\n0 == false           //return true\n1 == \"1\"             //return true\nnull == undefined    //return true\n\n// === does not perform type coersion before comparison\n0 === false          // return false (different types)\n1 === \"1\"            // return false\nnull === undefined   // false\n\n// Object.is: determine if two variables refer to the same object\na = {'a': 1}\nb = a\nObject.is(a, b)      // return true\n</code></pre> <p>logic: <pre><code>x = True\ny = False\n1 if x else 2\na and y\nx or y\n</code></pre></p> <p>bitwise:</p> Python <pre><code>a = 5\nprint(bin(x))  # print x's binary string\n10 &amp; 5         # 1010 AND 0101 = 0000\n10 | 5         # 1010 OR 0101 =  1111\n3 ^ 5          # 0011 XOR 0101 = 0110\n~a             # ~(0101) = 1010 = -6,  ~x = -(x + 1)\na &lt;&lt; 2         # (0101 &lt;&lt; 2) = 010100, (x &lt;&lt; a) = x * 2^a\na &gt;&gt; 2         # (0101 &gt;&gt; 2) = 01\n</code></pre> <p>misc:</p> Javascript <pre><code>// 1. ... is used to disassemble object or array\nlet x1 = {a1: 1, a2: true}\nlet x2 = {...x1, a3: false}  // x2: {a1: 1, a2: true, a3: false}\n\n// 2. usage of ...\nlet [a, ...rest] = [1, 2, 3, 4];\nconsole.log(rest)            // [2, 3, 4]\nlet rest2 = [...rest]        // rest2: [2, 3, 4]\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#2-collections","title":"2. Collections","text":"","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#21-list","title":"2.1 List","text":"PythonJavaJavascript <pre><code>arr = [1, 2, 3]\narr[2]         # return 3\narr.append(4)  # arr becomes [1, 2, 3, 4]\narr.pop()      # arr becomes [1, 2, 3]\n\narr.insert(2, 5) # arr becomes [1, 2, 5, 3, 4] \n8 in arr         # return False\narr.index(5)     # return 2\nlen(arr)         # returns the arr's length: 5\n</code></pre> <pre><code>import java.util.ArrayList;  \nimport java.util.Arrays;  \nimport java.util.List;\n\n// ArrayList\nList&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\nList&lt;Integer&gt; arr2 = new ArrayList&lt;&gt;(Arrays.asList(1, 2));\n\narr2.add(3);   // arr: [1, 2, 3]\narr2.add(2, 4)  // arr: [1, 2, 4, 5]\n\narr2.remove(1) // arr: [1, 4, 5]\narr2.remove(new Integer(1)) // arr: [4, 5]\n\narr2.contains(new Integer(4));\narr2.indexOf(new Integer(4));\n\narr2.get(0);      // gives 4\narr2.set(0, 2)    // arr: [2, 5]\n\n// Linkedlist: thread-unsafe\nList&lt;Integer&gt; arr3 = new LinkedList&lt;&gt;();\n\n// CopyOnWriteArrayList: thread-safe, for frequent reads\n// create copies when add, set, remove happen, so inefficient frequent write\n// does not block each thread while reading\n// Iterator can only read and each thread reads the version of the array  \n// before modification happens when looping\nList&lt;Integer&gt; arr4 = new CopyOnWriteArrayList&lt;&gt;(Arrays.asList(1, 2))\nIterator itr = list.iterator();\narr4.add(5);\n// this loop prints [1, 2] because itr is obtained before modified(add)\nwhile (itr.hasNext())\n    System.out.println(itr.next()); \n// this loop prints [1, 2, 5]\nIterator itr = list.iterator();\nwhile (itr.hasNext())\n    System.out.println(itr.next());\n</code></pre> <pre><code>let arr = [1, 2, 3]\narr[2]                 // return 3\narr.push(4)            // arr becomes [1,2,3, 4]\narr.pop(2)             // arr becomes [1, 2, 4]\narr.length             // returns 3\n\n4 in arr               // returns True\n// splice(start, deleteCount, item1, item2, ...)\n// splice deletes number of elements equal to deleteCount from arr[start]\n// inclusively, then add item1, item2, ... before the original arr[start]\n// position, then return an array containing deleted items\narr.splice(1, 1)             // arr becomes [1, 4]\narr.splice(1, 0, 3, 4, 5, 6) // arr becomes [1, 3, 4, 5, 6, 4]\narr.splice(1, 1, 5)         // arr becomes [1, 5, 4, 5, 6, 4]\n// find method\n// Map\n\n// Reduce\n\n// filter\n\n// forEach\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#22-set","title":"2.2 Set","text":"PythonJavaJavascript <pre><code>my_set = {\"apple\", \"banana\"} \nmy_set2 = {\"apple\", \"grape\"}\nmy_set.add(\"cherry\") # mySet: {\"apple\", \"banana\", \"cherry\"}\nmy_set.update([\"orange\", \"mango\", \"apple\"]) \n# mySet: {\"apple\", \"banana\", \"cherry\", \"orange\", \"mango\"}\nunion_set = my_set.union({\"pear\"})\n# union_set: {\"apple\", \"banana\", \"cherry\", \"orange\", \"mango\", \"pear\"}\nintersect_set = my_set.intersection(my_set2)\n# intersect_set: {\"apple\"}\ndiff_set = my_set2.difference(my_set)\n# diff_set: {\"grape\"}\n</code></pre> <pre><code>// hashset: not thread safe\nSet&lt;Integer&gt; a = new HashSet&lt;Integer&gt;();\nSet&lt;Integer&gt; b = new HashSet&lt;Integer&gt;(Arrays.asList(1, 2, 3))\nSet&lt;Integer&gt; c = new HashSet&lt;Integer&gt;(Arrays.asList(3, 4, 5))\n\na.add(10);                              // a: {10}\na.contains(10)                          // return true\na.remove(10)                            // a: {}\na.size()                                // 0\n// b becomes the intersection of b and c, b: {3}\nboolean result = b.retainAll(c)\n// b becomes the union of b and c, b: {3, 4, 5}\nresult = b.addAll(c)\n// b becomes b - c, b: {}\nresult = b.removeAll(c)\n\n// Treest: sorted set but not thread-safe\nSet&lt;Integer&gt; treeSet = new TreeSet&lt;&gt;(); //sort in ascending order by default\ntreeSet.lower(k);  // max element &lt; k, or null if non-exist\ntreeSet.higher(k); // min element &gt; k, or null if non-exist\ntreeSet.ceiling(k); // max element &lt;= k, or null if non-exist\ntreeSet.floor(k);   // min element &gt;= k, or null if non-exist\n\n// ConcurrentSkipListSet: sorted treeset, thread-safe &amp; lock-free\nSet&lt;Integer&gt; treeSet2 = new ConcurrentSkipListSet&lt;&gt;();\n\n// CopyOnWriteArraySet\nSet&lt;Integer&gt; s = new CopyOnWriteArraySet&lt;&gt;();\nIterator&lt;Integer&gt; t = s.iterator();\nwhile(t.hasNext()){\n    System.out.println(t.next());\n}\n</code></pre> <pre><code>let b = new Set()\nlet a = new Set([2])    \n\na.add(1)           // a becomes {1, 2}\n3 in a             // return False\na.delete(2)        // a becomes {1}\n\nb.add(3)\nb.add(1)\nconst unionSet = a.union(b)         //unionSet: {1, 3}\nconst intersect = a.intersection(b) //intersect: {1}\nconst diff = b.difference(a)        // diff: {3}\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#23-map","title":"2.3 Map","text":"JavaJavascript <pre><code>// 1. HashMap: not thread-safe\nMap&lt;Character, Integer&gt; map = new HashMap&lt;Character, Integer&gt;();\nmap.put('c', 1);       // map: {'c': 1}\nmap.put('b', 2)        // map: {'b': 2, 'c': 1}\nmap.get('c')           // return 1\nmap.getOrDefault('a', -1)  // return -1\nmap.remove('c')            // map: {'b': 2}\nmap.containsKey('c')       // false\nmap.keySet()               // {'b'}\nfor(Map.Entry&lt;Character, Integer&gt; entry : map.entrySet()){  \n // traverse key-value pair\n    entry.getKey();\n    entry.getValue();\n}\nmap.forEach((k,v) -&gt; System.out.println(\"key: \"+k+\" value:\"+v));\nmap.size()                // return 1\n\n// 2. Hashtable: locks entire table during any operations\nMap&lt;Character, Integer&gt; map = new Hashtable&lt;&gt;()\n\n// 3. ConcurrentHashMap: thread-safe without locking the entire table\nMap&lt;String, Integer&gt; concurrentMap = new ConcurrentHashMap&lt;&gt;();\n\n// 4. TreeMap:  sortedmap based on red-black tree\nMap&lt;Character, Integer&gt; treeMap1 = new TreeMap();\n// store the key in reverse order\nMap&lt;Character, Integer&gt; treeMap2 = new TreeMap(Collections.reverseOrder());\ntreeMap.lowerKey(k);           // return max key &lt; k\ntreeMap.higherKey(k);          // return min key &gt; k\ntreeMap.ceilingKey(k);            // return max key &lt;= k\ntreeMap.floorKey(k);           // return min key &gt;= k\n// return portion of treeMap with keys &lt; k\nSortedMap&lt;K,V&gt; portionOfTreeMap = treeMap.headMap(k); \n// return portion of treeMap with keys &gt; k\nSortedMap&lt;K,V&gt; portionOfTreeMap = treeMap.tailMap(k);\n\n// 5. ConcurrentSkipListMap: sorted tree map that is thread-safe &amp; lock-free\nMap&lt;Character, Integer&gt; treeMap3 = new ConcurrentSkipListMap();\n</code></pre> <pre><code>// Map:\nconst myMap = new Map()\nmyMap.has(\"a\")            // return False because key \"a\" does not exist\nmyMap.set(\"a\", 1)         // myMap becomes {\"a\": 1}\nmyMap.get(\"a\")            // return 1\nmyMap.delete(\"a\")         // myMap becomes\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#24-string","title":"2.4 String","text":"PythonJavaJavascript <pre><code># immutale string\ns = \"abc\"\n</code></pre> <pre><code>// String class: immutable strings\nString s = \"abcab\";\n\ns.charAt(1);          // gives 'b'\ns.compareTo(\"bcd\");   // return -1 because \"a\" &lt; \"b\" and differ by 1\ns.compareTo(\"cd\");    // return -2 because \"a\" &lt; \"c\" and differ by 2\ns.contains(\"bc\");     // return True\ns.substring(0, 2) ;   // return \"ab\"\ns.substring(1);       // return \"bca\"\ns.indexOf(\"ab\");      // 0, return the location of first substring \"ab\" in s\ns.indexOf(\"ab\", 2);   // 3, return the location of \"ab\" after s[2] inclusive\n// Return \"ttctt\", replace all occurrences of \"ab\" with \"tt\"\ns.replace(\"ab\", \"tt\");  \n// Return char array: {'a', 'b', 'c', 'a', 'b'}\nchar[] arr = s.toCharArray();       \n// Return \"a*b*c\", join the list of &lt;String&gt; into one string connected by\n// delimiter\nString.join(\"*\", new ArrayList&lt;&gt;(Arrays.asList(\"a\", \"b\", \"c\")));\n// Return True iff a string character is alnum\nCharacter.isLetterOrDigit(str.charAt(0))\n\n\n// StringBuffer class: mutable &amp; thread-safe\nStringBuffer sb = new StringBuffer();\nsb = new StringBuffer(\"abced\");\nsb.append(\"ab\");       // sb becomes \"abcedab\"\nsb.insert(0, \"zx\");    // sb becomes \"zxabceddab\"\nsb.deleteCharAt(0);    // sb becomes \"xabceddab\"\nsb.setCharAt(0, 'c')   // sb becomes \"cabceddab\"\nsb.reverse()           // sb becomes its reverse\n\n// StringBuilder class: mutable, fast but thread-unsafe\n// has same methods and use as StringBuffer\n\n// CharSequence interface: implemented by String, StringBuffer, StringBuilder; seen in the parameter type of replace and some methods\n</code></pre> <pre><code>s = \"abc\"\n\ns.slice(0,2)        // returns[0:2] which is \"ab\"\ns.indexOf(\"bc\", 0)  // return 1\ns.includes(\"ab\", 0) // return True\ns + \"bcd\"           // return \"abcbcd\"\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#25-multi-set","title":"2.5 Multi-set","text":"<p>Multi-set can contain duplicate items multiple times <pre><code>c = Counter()\n</code></pre></p>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#26-priority-queue","title":"2.6 Priority Queue","text":"<pre><code>PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;(); // min-heap\n// max-heap\nPriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;(Collections.reverseOrder());\npq.add(10); // add 10 to pq\npq.peek();  // retrieve min/max of pq\npq.poll();  // retrieve and remove min/max of pq\npq.size();\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#3-files-io","title":"3. Files, I/O","text":"","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#31-read-write-api","title":"3.1 Read &amp; Write API","text":"<p>type of read&amp;write API:</p> <ul> <li>Strings: some APIs deal with strings and output text file</li> <li>Bytes: Some APIs deal with bytes and output binary file, but can also output text file if the bytes only contain ascii value ByteBuffer methods: </li> <li>flip: set the buffer position to 0 and limit to previous buffer position</li> <li>rewind: reset the buffer position to 0</li> <li>hasRemaining, get, put</li> </ul> JavaJavascript <pre><code>// 1. IO package: blocks in socket I/O and file I/O\n// 1.1 BufferedWriter, BufferedRead(deal with string)\nWriter writer = new OutputStreamWriter(new FileOutputStream(\"output.txt\"));\nBufferedWriter bw = new BufferedWriter(writer);\nString content = \"Hello, Java File I/O!\\nThis is a new line.\";\nbw.write(content);\n// bw.flush is automatically called when bw is full, but you need to\n// mannually call if bw is not full\nbw.flush();\n\nReader reader = new InputStreamReader(new FileInputStream(\"output.txt\"), \\\n    StandardCharsets.UTF_8);\nBufferedReader br = new BufferedReader(reader);\nreader.readline()     // returns either a string or null\n\n// 1.2. deal with bytes\nFileOutputStream fos = new FileOutputStream(\"data.bin\");\nDataOutputStream dos = new DataOutputStream(fos);\ndos.writeInt(12345);\ndos.writeDouble(3.14159);\ndos.writebytes(\"hello\");\ndos.writeUTF(\"hello\");  // different from above\n\nFileInputStream fis = new FileInputStream(\"data.bin\");\nBufferedInputStream bis = new BufferedInputStream(fis); // improve perform\nDataInputStream dis = new DataInputStream(bis); // can read types\nint intValue = dis.readInt();  \ndouble doubleValue = dis.readDouble();  \nString stringValue = dis.readUTF();\n// 1.3. bytes\nPath path = Paths.get(\"myFile.txt\");\nbyte[] bytes = \"Some contents\".getBytes()\nFiles.write(path, bytes, StandardOpenOption.CREATE, \\\n                         StandardOpenOption.TRUNCATE_EXISTING);\nFiles.write(filePath, bytes, StandardOpenOption.APPEND);\n\nPath path = Paths.get(\"myFile.txt\");\nbyte[] bytes = \"Some contents\".getBytes()\nList&lt;String&gt; lines = Files.readAllLines(path);\n\n// 2. NIO(bytes): does not block in socket I/O but blocks in file I/O\n// FileChannel: operate on byte level and can read/write contents into \n//              buffer, supporting direct memory access and reduce copying\nFileChannel fileChannel = FileChannel.open(\"myFile.txt\", \\\n                        StandardOpenOption.READ, \\\n                        StandardOpenOption.WRITE, \\\n                        StandardOpenOption.CREATE);\nByteBuffer buffer = ByteBuffer.allocate(1024);\n// // read at file position 0 to buffer\nint bytesRead = fileChannel.read(buffer, 0); \nreadChannel.close();\n\n// need to call flip/rewind before writing from buffer and after calling\n// buffer.put, unless the buffer is obtained through ByteBuffer.wrap\nbuffer.flip();\nwhile(buffer.hasRemaining())\n    fileChannel.write(buffer);\nfileChannel.close();\n\n// 3. AIO(bytes): does not block in socket I/O or file I/O\n// using AIO typically means using java.nio.channels.AsynchronousFileChannel\nPath filePath = Paths.get(\"myFile.txt\");\nByteBuffer buffer = ByteBuffer.allocate(1024);\nAsynchronousFileChannel fileChannel = AsynchronousFileChannel.open(\\\n filePath, StandardOpenOption.READ, StandardOpenOption.WRITE);\n\n // 3.1 use the Future result\nFuture&lt;Integer&gt; readResult = fileChannel.read(buffer, 0); \n// read bytes (&lt;= buffer size)into buffer from file position of 0\ntry{\n    Integer bytesRead = readResult.get();\n    buffer.flip();\n    while (buffer.hasRemaining()) { System.out.print((char) buffer.get()); }\n} catch(InterruptedException | ExecutionException e) { e.printStackTrace();}\n\nbuffer.rewind();\nFuture&lt;Integer&gt; writeResult = fileChannel.write(buffer, bytesRead);\n// write bytes back to file at the end of the file \nInteger bytesWrite = writeResult.get();\n\nfileChannel.close();\n\n// 3.2 use CompletionHandler\nCompletionHandler&lt;Integer, ByteBuffer&gt; readHandler = new \\\n    CompletionHandler&lt;Integer, ByteBuffer&gt;(){\n    // attachment is the attachment parameter passed to fileChannel.read()\n    @Override\n    public void completed(Integer bytesRead, ByteBuffer attachment){\n        System.out.println(\"bytes read: \" + bytesRead);\n        buffer.flip();\n        while(buffer.hasRemaining()){\n            System.out.print((char) buffer.get());\n        }\n    }\n\n    @Override  \n    public void failed(Throwable exc, Object attachment) {  \n        System.err.println(\"Read failed: \" + exc.getMessage());  \n    }\n}\nCompletionHandler&lt;Integer, ByteBuffer&gt; writeHandler = new \\\n    CompletionHandler&lt;Integer, ByteBuffer&gt;(){\n    @Override\n    public void completed(Integer bytesRead, ByteBuffer attachment){\n        System.out.println(\"bytes read: \" + bytesRead);\n    }\n\n    @Override  \n    public void failed(Throwable exc, Object attachment) {  \n        System.err.println(\"Read failed: \" + exc.getMessage());  \n    }\n}\n\nfileChannel.read(buffer, 0, buffer, readHandler); // return null\nfileChannel.write(buffer, 0, buffer, writeHandler); // return null\nfileChannel.close();\n</code></pre> <pre><code>// 1. asynchronous read &amp; write bytes into memory\nimport { readFile, writeFile } from 'node:fs/promises';  \n\nasync function asyncFileExample() {  \n    try {  \n        const data = await readFile('./myFile.txt', { encoding: 'utf8' });  \n        console.log('File content:', data); \n\n        const content = 'This is some content to write to the file.'; \n        await writeFile('./myNewFile.txt', content, { encoding: 'utf8' });\n        console.log('File written successfully!');\n    } catch (error) {  \n        console.error('Error:', error);  \n    }  \n}\n\n// 2. synchronous read &amp; write bytes into memory\nimport { readFileSync, writeFileSync } from 'node:fs';\ntry{\n    const content = fs.readFileSync('myFile.txt', 'utf-8');  \n    console.log(content);\n\n    await fs.writeFile(filePath, data);  \n    console.log('File written successfully!');\n} catch(err) {\n    console.error(err)\n}\n\n// 3. readStream, writeStream for bytes(memory efficient for large files)\nimport { createReadStream, createWriteStream}\nconst readstream = createReadStream('large_file.txt', 'utf8');\nreadstream.on(\"data\", chunk =&gt; {\n    // fn is a some kind of function that process each chunk\n    // for example, console.log\n    fn(chunk)\n})\n\nconst writeStream = createWriteStream('output.txt');\nwriteStream.write('This is the first line of text.\\n');  \nwriteStream.write('This is the second line.\\n');\nreadstream.pipe(writeStream)\nwriteStream.end('This is the final line.');\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#32-network-stream","title":"3.2 Network Stream","text":"<p>how to download and upload contents using network stream</p> JavaJavascript <pre><code>// 1. download   (works with Java 11+)\nHttpClient client = HttpClient.newHttpClient();\nHttpRequest request = HttpRequest.newBuilder()\n    .uri(java.net.URI.create(\"https://www.google.com\"))\n    .build();\n// ofFile internally uses AsynchronousFileChannel\nHttpResponse&lt;Path&gt; response = client.send(request,\n    HttpResponse.BodyHandlers.ofFile(Paths.get(\"response.txt\")));\n\n// 2. upload\n// ofFile uses AsynchronousFileChannel\nPath uploadPath = Paths.get(\"request.txt\");\nHttpRequest request = HttpRequest.newBuilder()\n    .uri(URI.create(\"https://www.google.com\"))\n    .POST(HttpRequest.BodyPublishers.ofFile(filePath)) // set file as body\n    .header(\"Content-Type\", Files.probeContentType(filePath))\n    .build();\n</code></pre> <pre><code>// 1. ReadableStream(not ReadStream nor stream.Readable): \n//     used for response and request body in fetch API\n// 1.1 download\nconst myReadableStream = (await fetch(\"http://localhost:3000/download\")).body; \nasync function readStream(myReadableStream) {\n    const reader = myReadableStream.getReader();\n    let result;  \n    let accumulatedData = '';  \n\n    while (!result || !result.done) {  \n        result = await reader.read();  \n        if (!result.done) {  \n            accumulatedData += result.value;  \n        }  \n    }\n}\n\n// 1.2 upload large file to an API endpoint\nconst fileStream = fs.createReadStream('example.txt');\nconst myReadableStream2 = new ReadableStream({\n    // This function is called when the stream is first created  \n    // Enqueue data chunks to be read\n    start(controller) {  \n        fileStream.on('data', (chunk) =&gt; {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 controller.enqueue(chunk);\n\u00a0 \u00a0 \u00a0 \u00a0 });\n\u00a0 \u00a0 \u00a0 \u00a0 fileStream.on('end', () =&gt; {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 controller.close();\n\u00a0 \u00a0 \u00a0 \u00a0 });\n    },   \n});\nfetch(\"http://localhost:3000/upload\", {\n\u00a0 \u00a0 method: 'POST',\n\u00a0 \u00a0 body: myReadableStream2,\n\u00a0 \u00a0 duplex: 'half' // required when body is a readablestream\n\u00a0 })\n// 2. WritableStream: not frequently used, it is inherently created by\n//  fetch from readableStream passed to request body of fetch\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#33-socket","title":"3.3 Socket","text":"Java <p>Traditional IO:  NIO:</p> <ul> <li> <p>core classes:</p> <ul> <li>ByteBuffer</li> <li>Selector</li> <li>Selectable Channel:<ul> <li>SocketChannel/ServerSocketChannel</li> <li>DatagramChannel</li> <li>Pipe.SourceChannel/Pipe.SinkChannel  AIO:</li> </ul> </li> </ul> </li> <li> <p>core classes:</p> <ul> <li>AsynchronousChannelGroup</li> <li>AsynchronousServerSocketChannel/AsynchronousSocketChannel</li> <li>Future/CompletionHandler</li> </ul> </li> </ul> <p></p> <p>difference between BIO vs NIO vs AIO model:</p> <ul> <li>BIO model creates a thread for each client connect. Each thread will block be blocked when it calls read, no matter whether the data is ready or not.</li> <li>NIO model uses selector component(in linux, epoll server is the selector component) to coordinate new connection from client. NIO model does not need to create a thread for each client connect and can have only one thread, which reduced the overhead of switching thread. This thread will be notified whenever data from each connection is ready to be read in kernel space and the java thread can perform IO operation to copy data from kernel space to user space. In BIO model, you still have to wait when data is not ready in each client connection</li> <li>AIO model uses the <code>io_uring</code> to handle client connection. AIO model doesn't need to create new thread for each client connection either. The difference is that java thread is notified after IO is complete rather than ready in NIO. In AIO mode, <code>io_uring</code> makes data sharing between kernel and user space zero copy through completion queue after the data is ready.  In addition, the read and write call returns Future object and does not block the thread, while the read and write call blocks the thread in NIO model to perform IO operation on ready data.</li> </ul> <p>code:</p> Java <pre><code>// 1. NIO socket I/O:\n// 1.1 Server:\nSelector selector = Selector.open();\nServerSocketChannel server = ServerSocketChannel.open();\n// configure the IO operation(read, write, accept, connect) to be non-\n// blocking; the IO operation could be blocking until it completes\nserver.configureBlocking(false);\nserver.bind(new InetSocketAddress(8080));\n// register the Accept event: server is ready to accept new connection\nserver.register(selector, SelectionKey.OP_ACCEPT);\n\nwhile (true) {\n    // select() blocks until one of the previous registered event occurs\n    selector.select();\n    // selectedKeys() return a set of occurred events at Selector\n    for (SelectionKey key : selector.selectedKeys()) {\n        //isAcceptable: return true if  Accept event occurs\n        if (key.isAcceptable()) {\n            SocketChannel client = server.accept();\n            client.configureBlocking(false);\n            // register a read event to read data sent by client \n            // read next time when selectedKeys() return this read event\n            client.register(selector, SelectionKey.OP_READ);\n        } \n        // isReadable: return true if the event is Read event\n        else if (key.isReadable()) {\n            SocketChannel client = (SocketChannel) key.channel();          \n            ByteBuffer buf = ByteBuffer.allocate(1024);\n            client.read(buf); // copy data from kernel to buf\n            buf.flip();\n            // register write event and write content to selector to send\n            // data next time\n            client.register(selector, SelectionKey.OP_WRITE, buffer);\n        }\n        else if(key.isWritable()){\n            SocketChannel client = (SocketChannel) key.channel();\n            // get the write contents when the write event is registered\n            ByteBuffer buf = (ByteBuffer) key.attachment();\n            client.write(buf);\n            client.close();\n        }\n    }\n    selector.selectedKeys().clear();\n}\n\n// 2. AIO socket I/O:\nAsynchronousServerSocketChannel server = \\\nAsynchronousServerSocketChannel.open().bind(new \\\n    InetSocketAddress(\"localhost\", 5000));\nSystem.out.println(\"Server listening on port 5000...\");\n\n// submit the accept event\nserver.accept(null, new CompletionHandler&lt;AsynchronousSocketChannel, Void&gt;() {\n    @Override\n    public void completed(AsynchronousSocketChannel client, Void att) {\n        // below line is a recursive call\n        server.accept(null, this);\n\n        System.out.println(\"New connection: \" + client);\n\n        ByteBuffer buffer = ByteBuffer.allocate(1024);\n        // read contents from the client\n        client.read(buffer, buffer, new CompletionHandler&lt;Integer, ByteBuffer&gt;() {\n            @Override\n            public void completed(Integer bytesRead, ByteBuffer buf) {\n                buf.flip();\n                String msg = StandardCharsets.UTF_8.decode(buf).toString();\n                System.out.println(\"Received: \" + msg);\n\n                // Echo message back\n                ByteBuffer response = ByteBuffer.wrap((\"Echo: \" + msg).getBytes(StandardCharsets.UTF_8));\n                // send contents to the client\n                client.write(response, null, new CompletionHandler&lt;Integer, Void&gt;() {\n                    @Override\n                    public void completed(Integer result, Void att) {\n                        try { client.close(); } catch (Exception ignore) {}\n                    }\n\n                    @Override\n                    public void failed(Throwable exc, Void att) {\n                        exc.printStackTrace();\n                    }\n                });\n            }\n\n            @Override\n            public void failed(Throwable exc, ByteBuffer buf) {\n                exc.printStackTrace();\n            }\n        });\n    }\n\n    @Override\n    public void failed(Throwable exc, Void att) {\n        exc.printStackTrace();\n    }\n});\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#4-set-up","title":"4. Set up","text":"","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#41-package-manager","title":"4.1 Package Manager","text":"PythonJavascript <p>Native:</p> <ul> <li>file folder directories: <p>src</p> <p>main.py</p> <p>requirements.txt</p> </li> </ul> <ul> <li>file folder directories <p>node_modules package.json</p> </li> </ul>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#42-relative-import","title":"4.2 Relative import","text":"<p>Relative import is generally the way of importing another file in various programming language</p> Python <p>How does Python resolve the relative path:</p> <ol> <li><code>import module_name</code>: search for\u00a0<code>module_name.py</code>\u00a0or a\u00a0<code>module_name</code>\u00a0directory (containing\u00a0<code>__init__.py</code>) within the same directory as the importing module.</li> <li>search <code>sys.path</code>: list of directories Python look for modules. It includes directory of current script, directories specified in env variable <code>PYTHONPATH</code> and installation-dependent directories.</li> </ol>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#43-build-library-app","title":"4.3 Build Library &amp; App","text":"Python <p>my_lib/</p> <p>src</p> <p>my_lib_name</p> <p><code>__init__.py</code> <code>my_module.py</code></p> <p>pyproject.toml</p> <p>prproject.toml: <pre><code>[project]\nname = \"my_library_name\"\nversion = \"0.1.0\"\nauthors = [\n  { name=\"Your Name\", email=\"your.email@example.com\" },\n]\ndescription = \"A short description of your library.\"\nreadme = \"README.md\"\nrequires-python = \"&gt;=3.8\"\nclassifiers = [\n    \"Programming Language :: Python :: 3\",\n    \"License :: OSI Approved :: MIT License\",\n    \"Operating System :: OS Independent\",\n]\n\n[build-system]\nrequires = [\"hatchling\"]  # SetupTools, Flit\nbuild-backend = \"hatchling.build\"\n\n[tool.hatch.metadata]\nallow-direct-references = true\n\n[tool.hatch.build.targets.sdist]\nexclude = [\n    \"/.github\",\n    \"/tests\",\n]\n</code></pre></p>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#5-concurrency","title":"5. Concurrency","text":"","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#51-thread-thread-pool","title":"5.1 Thread &amp; Thread pool","text":"Java <pre><code>// 1. Thread-api: use this when want to cutomize behaviour of each thread\n//                the signal handler, wait object, or each thread needs to\n//                wait each other\npublic class MyThread extends Thread {\n    @Override\n    public void run(){\n        Thread.sleep(2000); // make curr thread sleep 2 seconds\n        System.out.println(\"curr tid: \" + Thread.currentThread().getId());\n    }\n}\n// start new thread\nMyThread thread = new MyThread();\nthread.start();\n\n// main thread wait for thread to be exited\ntry{\n    thread.join();\n} catch(InterruptedException e){\n    Thread.currentThread().interrupt();\n}\n\n// 2. Executor Service(Preferred): handy way to create and destroy thread\n// 2.1 Common ExecutorService\n// create exactly one thread for each submitted task and kill it once finish\nExecutorService executor = Executors.newSingleThreadExecutor();\n// create a pool of 4 threads and each thread can be reused for new tasks\nExecutorService executor = Executors.newFixedThreadPool(4);\n// create a pool of infinite threads and each idle thread can be \n// reused(idle: thread terminated after 60s if unused)\nExecutorService executor = Executors.newCachedThreadPool();\n\nCallable&lt;String&gt; task1 = ()-&gt; { return \"task1\"; }\nCallable&lt;String&gt; task2 = () -&gt; { return \"task2\"; }\nList&lt;Callable&lt;String&gt;&gt; tasks = new ArrayList(Arrays.asList(task1, task2));\n\n// submit the task to be executed and return a Future object\nFuture&lt;Void&gt; result1 = executor.submit(task1);\n// blocks the curr thread, execute a list of Callables&lt;T&gt; that returns the\n// same type; once all tasks are completed, return list of Future&lt;T&gt;\nList&lt;Future&lt;String&gt;&gt; results = pool.invokeAll(taskList);\n\n// 2.2 ScheduledExecutorService\n// a pool with fixed threads and threads execute after delay or periodically\nScheduledExecutorService executor = Executors.newScheduledThreadPool(2);\n\n// 2.3 graceful 2-phase shut down:\n// tell the executor not to accept new task but the threads may continue to\n// execute submitted tasks\nexecutor.shutdown();\ntry {  \n    if (!executorService.awaitTermination(timeout, unit)) {  \n    // Handle the case where termination did not occur within the timeout  \n        System.err.println(\"ExecutorService did not terminate within the specified timeout.\");  \n    // Optionally, force shutdown if termination is critical  \n        executorService.shutdownNow();  \n    }  \n} catch (InterruptedException e) {  \n    // Handle interruption  \n    Thread.currentThread().interrupt(); // Re-interrupt the current thread  \n    executorService.shutdownNow(); // Force shutdown if interrupted  \n}\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#52-lock","title":"5.2 Lock","text":"Java <pre><code>// wrap non-concurrent collections\nList&lt;Integer&gt; list = Collections.synchronizedList( new ArrayList&lt;&gt;(Arrays.asList(4,3,52)));\n\n// Reentrantlock\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#53-synchronizer-class","title":"5.3 Synchronizer class","text":"<p>CountDownLatch: makes a thread wait for a number of threads, either child or parent; can only be used once</p> Java <pre><code>// 1. wait for a set of threads instead of one thread; \nint threadCount = 5;\nCountDownLatch latch = new CountDownLatch(threadCount);\nclass Worker extends Thread {\n    private final CountDownLatch latch;\n    Worker(CountDownLatch latch){\n        this.latch = latch;\n    }\n\n    @Override\n    public void run(){\n        Thread.sleep(2000);\n        latch.countDown();\n    }\n};\nfor(int i = 0; i &lt; threadCount; i++){\n    new Worker(latch).start();\n};\n// use latch to block the current thread and wait for all threads that \n// possess the latch and block\nlatch.await();\n\n// 2. child thread wait for parent thread, where join() mtd can't do\nint threadCount = 10;\nCountDownLatch startGate = new CountDownLatch(1);\nfor(int i = 0;i &lt; threadCount; i++){\n    new Thread(()-&gt;{\n        try {\n            startGate.await();\n            // Similate the duration of any task\n            Thread.sleep(100);      \n        }catch (InterruptedException ignored) {\n\u00a0 \u00a0 \u00a0 \u00a0 }finally {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 endGate.countDown();\n\u00a0 \u00a0 \u00a0 \u00a0 }\n    }).start();\n}\nstartGate.countDown();\n</code></pre> <p>CyclicBarrier: make a set of threads to stop at a certain moment and then start at the same time</p> Java <pre><code>int threadCount = 4;\nExecutorService pool = Executors.newFixedThreadPool(threadCount);\nCyclicBarrier barrier = new CyclicBarrier(threadCount);\n\nfor(int i = 0; i &lt; threadCount - 1; i++){\n    pool.submit(()=&gt;{\n        try {\n            // block the thread until threadCount threads call await\n            barrier.await();\n            fn()\n        } catch(InterruptedException | BrokenBarrierException e){\n            e.printStackTrace();\n        }\n    })\n}\n\ntry{\n    barrier.await();\n} catch (InterruptedException | BrokenBarrierException e) {\n    e.printStackTrace();\n}\n\n// reset the barrier so that it can be reused by threadCount threads\nbarrier.reset();\npool.shutdown();\n</code></pre> <p>Phaser: is a more general barrier that allows you to stop a set of threads and start them at multiple times. It keeps track of <code>Parties</code> and <code>Phrase</code> which increments each time when all registered parties arrive:</p> <ul> <li><code>new Phaser(int parties)</code> \u2014 create with an initial number of registered parties.</li> <li><code>register()</code> / <code>bulkRegister(n)</code> \u2014 add parties dynamically.</li> <li><code>arrive()</code> \u2014 indicate arrival at the current phase (does not wait).</li> <li><code>arriveAndAwaitAdvance()</code> \u2014 arrive and wait until all parties arrive \u2014 typical barrier usage.</li> <li><code>arriveAndDeregister()</code> \u2014 arrive and then remove this party (useful when a thread finishes and won't participate in later phases).</li> <li><code>awaitAdvance(int phase)</code> \u2014 wait (block) until phase &gt; given phase. Useful for custom waiting but usually <code>arriveAndAwaitAdvance()</code> is simpler.</li> <li><code>onAdvance(int phase, int registeredParties)</code> \u2014 hook to override for action when phase completes; returning <code>true</code> causes the phaser to terminate.</li> <li><code>getPhase()</code> \u2014 current phase number.</li> <li><code>getRegisteredParties()</code> \u2014 how many parties currently registered.</li> <li><code>getArrivedParties()</code> \u2014 how many parties have arrived in the current phase.</li> </ul> Java <pre><code>// 1. phaser with initialized parties\nint threadCount = 4;\nExecutorService pool = new Executors.newFixedThreadPool(threadCount);\nPhaser phaser = new Phaser(threadCount);\nfor(int i = 0; i &lt; threadCount; i++){\n    pool.submit(()-&gt;{\n        try{\n            // phase 0:\n            phaser.arriveAndAwaitAdvance();\n            fn();\n\n            // phase 1:\n            phaser.arriveAndAwaitAdvance();\n            fn();\n\n            phaser.arriveAndDeregister();\n            } catch (InterruptedException e)\n                {Thread.currentThread().interrupt(); }\n    })\n}\n\n// 2. register the phaser\nPhaser phaser = new Phaser(0);\npool.submit(()-&gt;{\n    phaser.register();\n    try{\n        phaser.arriveAndAwaitAdvance();\n\n        phaser.arriveAndDeregister(); // leave after finishing\n    } catch (InterruptedException e) { Thread.currentThread().interrupt(); }\n})\n</code></pre> <p>Semaphore:</p> Java <pre><code>// 1. restrict limited threads to execute code fn(), e.g: access resources,\n//     control API rate\nint threadCount = 10;\nSemaphore sem = new Semaphore(3);\nExecutorService pool = new Executors.newFixedThreadPool(threadCount);\n\nfor(int i = 0; i &lt; threadCount; i++){\n    pool.submit(() -&gt; {\n        try{\n            sem.acquire();\n            fn();\n        } catch(InterruptedException e){\n            e.printStackTrace();\n        } finally {\n            sem.release();\n        }\n    })\n}\n\n// 2. reuseable countdownLatch\n// equivalent to CountDownLatch(threadCount)\nSemaphore sem = new Semaphore((-1) * threadCount + 1);\nfor(int i = 0; i &lt; threadCount; i++){\n    pool.submit(()-&gt;{\n        fn();\n        sem.release();\n    })\n}\nsem.aquire(); // wait for the n threads to finish\n\n// 3. lock\nSemaphore mutex = new Semaphore(1);\nint sharedCounter = 1;\nfor(int i = 0; i &lt; threadsCount; i++){\n    pool.submit(()-&gt;{\n        mutex.acquire();\n        try{\n            // critical section\n            sharedCounter++;\n        } finally {\n            mutex.release();\n        }\n    })\n}\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#54-pipes","title":"5.4 Pipes","text":"<p>These classes can be used as pipes between threads or processes</p> Java <p>ConcurrentQueue:</p> <ul> <li>add: insert element at tail, throws exception when fail</li> <li>offer: insert element at tail, return False when fail</li> <li>peek: retrieve but do not remove the head of the queue; return null when empty</li> <li>poll: retrieve and remove the head of the queue</li> </ul> <p>BlockingQueue:</p> <ul> <li>put: insert element at tail, block the thread until queue is available(add/offer does not block)</li> <li>take: Retrieves and removes the head of this queue, waiting if necessary until an element becomes available</li> </ul> <p>ConcurrentQueue vs BlockingLinkedQueue(2 distinctions):</p> <ol> <li>ConcurrentQueue spins and retries modification when multiple concurrent modifications happen. It does not switch thread, thus, does not block. On the other hand, BlockingQueue waits to grab the ReentrantLock inside the blockingqueue and switches thread when concurrent modifications happen. Thus, this blocks the thread when concurrent modifications happen</li> <li>BlockingQueue has 2 extra methods: put and take. These 2 methods additionally block thread when queue is full or empty</li> </ol> <p>APIs:</p> Java <pre><code>// ConcurrentQueue: thread-safe and lock-free, non blocking\nQueue&lt;Integer&gt; q = new ConcurrentLinkedQueue&lt;&gt;();\nq.add(10);     // q: [10]\nq.offer(20);   // q: [10, 20]\nq.peek();      // return 10\nq.poll();      // return 10, q:[20]\n\n// ConcurrentLinkedDeque: \nQueue&lt;Integer&gt; q2 = new ConcurrentLinkedDeque&lt;&gt;();\n// methods: addFirst, addLast, offerFirst, offerLast, peekFirst, peekLast,\n// pollFirst, pollLast\n\n// BlockingQueue: thread-safe but uses lock, may block(park)\nBlockingQueue&lt;Integer&gt; bq = new ArrayBlockingQueue&lt;&gt;();\nBlockingQueue&lt;Integer&gt; bq = new LinkedBlockingQueue&lt;&gt;(4); // with capacity:4\nbq.put(5);     // bq: [5]\nbq.take();     // return 5, bq: []\n\n// BlockingDeque:\nBlockingDeque&lt;Integer&gt; bq2 = new LinkedBlockingDeque&lt;&gt;();\n// methods: putFirst, putLast, takeFirst, takeLast\n\n// TransferQueue\n\n// Pipe.SinkChannel &amp; Pipe.SourceChannel\n\n// Exchanger\n</code></pre> <p>useCases:</p>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#6-feature","title":"6. Feature","text":"","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#61-reference","title":"6.1 Reference","text":"JavaC++ <p>Java variable can be classified as 2 types - primitive type: primitive type variable stores value - Object type: object type variable stores reference of such object</p> <p>https://medium.com/@sylvain.tiset/move-to-move-constructor-c-dd03f94005e0</p>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#62-reflection","title":"6.2 Reflection","text":"JavaJavascript <pre><code>// core classes related to reflection:\n// Class, Field, Method, Constructor\n// We reveal following examples:\n// 1. Getting a class object 2. Inspecting class members\n// 3. invoke methods and access fields dynamically\n\n// 1. get class:\n// get class given the class name\nClass&lt;?&gt; myClass1 = Class.forName(\"Java.lang.String\");\n// get class from an instance\nString myString = \"Hello world\";\nClass&lt;?&gt; myClass2 = myString.getClass();\n// get class from the object class\nClass&lt;?&gt; myClass3 = Integer.class;\nSystem.out.println(\"class Name \" + myClass.getName());\n\n// 2. get Methods and fields\nMethod[] methods = myClass2.getDeclaredMethods();\nField[] fields = myClass2.getDeclaredFields();\nfor (Method mtd: methods) {\n    System.out.println(\"Method: \" + method.getName());\n    System.out.println(\"Field: \" + field.getName());\n}\n\n// 3. invoke method and get/set fields\nmethods.get(0).invoke(myString, arg1)\n// get and set a field\nField fieldA = fields.get(0);\nfieldA.setAccessible(true);\nString name = (String) fieldA.get(obj);\nSystem.out.println(\"Name: \" + name);  \nnameField.set(person, \"Jane Doe\")\n</code></pre> <pre><code>// 1. Object: internal implementation of Object is hashtable \n//         whose key type can only be string or Symbol type\nlet obj = {k1: 1, k2: {x: 1}}\n// obj: {k1: 1, k2: {x: 1}, k3: \"ab\"}\nObject.defineProperty(obj, \"k3\", {\n    value: \"ab\",\n    writable: true,       // this property can be changed through `=`\n    configurable: true,\n    enumerable: false\n})\n// return all keys of an object regardless of enumerable\n// [\"k1\", \"k2\", \"k3\"]\nObject.getOwnPropertyNames(obj)\n// return all enumerable keys of an object, [\"k1\", \"k2\"]\nObject.keys(obj)\n// return the descripor values of a key, \n// {value: 1, writable: true, configurable: true, enumerable: true}\nObject.getOwnPropertyDescriptor(obj, \"k1\")\n// Object.assign copies all enumerable properties of a source object \n// to target\nobj2 = {}\nObject.assign(obj2, obj) // obj2: {k1: 1, k2: {x: 1}, k3: \"ab\"}\n// seal, freeze, extend\nObject.preventExtensions(obj) // obj can no longer add new properties\nObject.isExtensible(obj)      // return False\nObject.seal(obj)              // obj cannot add or delete properties\nObject.isSealed(obj)          // return true\nObject.freeze(obj)            // obj cannot add, delete or modify properties\nObject.isFrozen(obj)          // return True\n\n// 2. Function:\nfunction greet(greeting, punc){\n    return greeting + this.name + punc;\n}\n// call: replace `this` with a specified object and invoke the method\n// apply: replace `this` with a specified object and invoke the method with \n//        an array of args (Note: cannot work on arrow function)    \ngreet.call({name: \"Tom\"}, \"hello \", \"!\")  \ngreet.apply({name: \"Tom\"}, [\"hello \", \"!\"]) // return \"hello Tom!\"\n// bind: return a new func whose this is permanently set to specified\nconst greet2 = greet.bind({name: \"Tom\"})\ngreet2(\"hello \", \"!\")   // return \"hello Tom!\"\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#63-closure","title":"6.3 Closure","text":"<p>In programming language like javascript, Java, Python, C, it uses lexical scope(static scope) meaning that the scope of a variable is determined by where it's defined in the code, not where it's called. On the other hand, dynamic scope means the scope of a variable is determined by where it's called.</p> <p>How does lexical scope work: Lexical scope is implemented by\u00a0creating a scope chain that links a function to its parent scopes based on the physical structure of the code, allowing a variable lookup to begin in the innermost scope and repeat moving outward until a match is found.\u00a0When a function is defined, a closure is created that holds a reference to its parent scope, establishing this chain.</p> <p>Use Cases:  - allow functions to maintain state between calls - create private variables that are only accessible by inner functions</p> Javascript <pre><code>function createCounter() {  \n    let count = 0; // 'count' is in the outer scope  \n    // 'increment' is the inner function, forming a closure\n    function increment() {   \n        count++;  \n        console.log(count);  \n    }  \n    return increment; // Return the inner function  \n}  \n\nconst counter1 = createCounter(); \ncounter1(); // print 1   \ncounter1(); // print 2\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#64-sync-vs-async","title":"6.4 Sync vs Async","text":"<p>Promise API: Promise in javascript is used to wrap the calling of function that takes a lot of time to execute and return a result; the code inside promise is executed synchrounously, but the code in then or catch method is executed after all jobs in event queue are executed; Thus, inside promise we usually place a task at the end of the event queue and the then method will get the result of that task and process the result </p> JavaJavascript <pre><code>// 1. create CompletableFuture object\n// 1.1 runAsync takes a function that does not return value\nCompleteableFuture&lt;Void&gt; future1 = CompleteableFuture.runAsync(()-&gt;{\n    // the function inside Future object is run in a separate thread\n    System.out.println(\"hello world\");\n})\n// 1.2 supplyAsync takes a function that can return value\nfinal int x = 1;\nfinal int y = 2;\nCompleteableFuture&lt;Integer&gt; future2 = CompleteableFuture.supplyAsync(()-&gt;{\n    // the variables from the parent scope must be final\n    return x + y;\n})\n\n// 1.3 result from ExecutorService\nExecutorService executor = Executors.newFixedThreadPool(1);\nCallable&lt;String&gt; = () -&gt; {\n    return Files.readAllLines(Paths.get(\"myFile.txt\")).get(0);\n}\nFuture&lt;String&gt; future = executor.submit(task);\n\n// 2. then &amp; exceptionally callback\n// 2.1 exceptionally &amp; thenRun:\n// thenRun cannot get result from last Future object and return \n// CompleteableFuture&lt;Void&gt;\nfuture2.exceptionally(ex -&gt; return ex.getMessage())\\\\\n    .thenRun(());\n\n// 2.2 thenAccept: get result from last Future object and return \n// CompleteableFuture&lt;Void&gt;\nfuture2.thenAccept(s -&gt; System.out.println(\"result: \" + s))\n\n// 2.3 thenApply: get result from last Future object and return sth in \n// its returned Future object \nFuture&lt;Integer&gt; future3 = future2.thenApply(s -&gt; return (1 + s));\n\n// 2.4 whenComplete: takes a function that returns void as input and return Future object that has wrapped value from last Future object\nFuture&lt;Integer&gt; future3 = future2.whenComplete((result, ex) -&gt; {\n    if(ex != null){\n        System.err.println(\"Error: \" + ex.getMessage());\n    } else{\n        System.out.println(result)\n    }\n})\n</code></pre> <pre><code>// 1. Obtain Promise object\n// 1.1 Common API that gives promise object\nconst promise1 = fetch('https://api.example.com/data')\nconst promise2 = readFile('./myFile.txt', { encoding: 'utf8' })\n// 1.2 create customized promise\nlet x = getRandomInt(0, 1)\nlet myPromise = new Promise((resolve, reject) =&gt; {\n    // the function inside is executed synchronously, unlike async then\n    if(x == 0)\n    // resolve just passes \"hello world\" as the value wrapped in myPromise\n        resolve(\"hello world\") \n    else\n        reject(\"destroy world\")\n})\n\n// 2. then &amp; catch hook\nlet thenPromise = myPromise\n.then(value =&gt; {\n    // value is the argument passed to resolve in myPromise\n    // the function inside then is executed asynchrounously\n    console.log(value)  \n}).catch(err =&gt; {\n    // the function inside catch is executed asynchrounously\n    console.error(err)\n})\n\n// 3. Promise.all\nPromise.all([promise1, promise2])\n    .then((results) =&gt; console.log(results))\n    .catch((err) =&gt; console.error(err))\n</code></pre> <p>async/await syntax:</p> <ul> <li>async wraps the function inside a promise object and pass the return value of that function into resolve in promise</li> <li>await must be used within an asyn function. It is placed before an expression that returns a promise object and is used to capture the resolved value of promise. When js executes the await line, it will executes the code inside the promise object after <code>await</code>, then it will jump outside to the parent stack to execute the rest of the code. After the promise object after await is resolved, it will continue to execute the lines after the await line in that async function</li> </ul> JavaJavascript <pre><code>// get() on Future object:\n// get() acts as await in javascript\nExecutorService executor = Executors.newFixedThreadPool(1);\nCallable&lt;String&gt; = () -&gt; {\n    return Files.readAllLines(Paths.get(\"myFile.txt\")).get(0);\n}\nFuture&lt;String&gt; future = executor.submit(task);\n// blocks the thread until future is resolved\nString result = future.get();\n</code></pre> <pre><code>async function f(){\n    const data = await readFile('./myFile.txt', \n    { encoding: 'utf8' })\n    console.log(data)\n}\n\n// helloworld is printed first, then the content of myFile.txt\nf()\nconsole.log(\"helloworld);\n</code></pre> <p>asyn/await mannual implementation: https://blog.csdn.net/weixin_50789156/article/details/124199482</p>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#65-memory-model","title":"6.5 Memory Model","text":"Javascript <p>https://blog.csdn.net/sjhcake/article/details/123856054</p>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#66-generic","title":"6.6 Generic","text":"Java <pre><code>// generic symbol can use: T, U, V, E(Any Uppercase symbol) and ?(wildcard)\n// 1. T, U, V, E(any uppercase) is used in declaration after class/interface/method\n// 1.1 class declaration\nclass Test&lt;T, U&gt; {\n    T field1;\n    U field2;\n}\n\n// 1.2 mtd declaration\npublic &lt;T, U&gt; List&lt;T&gt; methodA(U[] a) {};\n\n// 2. ?(wildcard) is used as the argument of an existing generic declaration\n//   List&lt;E&gt; generic has already been declared and we pass ? into List&lt;E&gt;\n// 2.1 seen in parameters type\npublic void methodB(List&lt;? extends Number&gt; numbers){}\n// 2.2 seen in &lt;&gt;\npublic &lt;T extends Comparable&lt;? supper Integer&gt;&gt; void methodB(List&lt;T&gt; x){}\n// 2.3 seen in single variable type declaration\nList&lt;? extends Integer&gt; l = new ArrayList&lt;&gt;();\n\n// 3. upper and lower bound\n// 3.1 &lt;T extends ..&gt;, &lt;? extends ..&gt;\n// T type interface must extend the interface of Comparable\npublic &lt;T extends Comparable&lt;T&gt;&gt; void methodC(T[] arr){}\n// T type extends Number class and Comparable interface\npublic &lt;T extends Number &amp; Comparable&gt; void methodC(T[] arr){}\n// &lt;? extends Number&gt; list contain any class that is subclass of Number\npublic void methodC(List&lt;? extends Number&gt; numbers){}\n\n// 3.2 &lt;T super ..&gt;, &lt;? super ..&gt;\n// T type is a super class for Number\npublic &lt;T extends Integer&gt; void methodD(T[] arr){}\n// &lt;? super Number&gt; list contains any class that is superclass of Number\npublic void methodC(List&lt;? super Number&gt; numbers){}\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#67-iterator-seq-generator","title":"6.7 Iterator &amp; Seq Generator","text":"PythonJavaJavascript <pre><code># yield, generator function\n</code></pre> <pre><code>// Iterator\n\n// Stream Interface and IOStream\n</code></pre> <pre><code>// Generator function &amp; yield\n\n// declare generator function:\nfunction *genFunc(){\n    console.log(\"phase 1\")\n    // jump out of this function stack and return \"phase 1\"\n    yield \"phase 1\"\n\n    console.log(\"phase 2\")\n    yield \"phase 2\"\n}\n\n// create &amp; call generator function\nlet gen = genFunc()\nlet phase1 = gen.next()\nconsole.log(phase1) // phase1: { value: \"phase 1\", done: false}\n\nlet phase2 = gen.next() // resume execution from last yield\nconsole.log(phase2) // phase2: { value: \"phase 2\", done: true}\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/programmingnote/#68-signal-handler","title":"6.8 Signal handler","text":"<p>Reference: https://github.com/jsjtzyy/LeetCode/blob/master/Java%20cheat%20sheet%20for%20interview</p> Share this post: <p>Share on  Share on </p>","tags":["Programming"]},{"location":"2025/12/05/react/","title":"React","text":"<p>My note about Reactjs 17+</p>","tags":["Programming"]},{"location":"2025/12/05/react/#1-set-up","title":"1. Set up","text":"","tags":["Programming"]},{"location":"2025/12/05/react/#11-scaffold-template","title":"1.1 Scaffold template","text":"<p>React templates can be created through the following commands(these commands do not require global dependencies installation):</p> <ul> <li><code>npx create-next-app@latest</code>: react template integrate with <code>next.js</code></li> <li><code>npx create-react-router@latest</code>: template paired with react router and vite</li> <li><code>npx create-expo-app@latest</code>: template that create Android, IOS &amp; web app. It provides SDK for React Native</li> <li><code>npm install --save-dev parcel &amp;&amp; npm create parcel react-client my-react-app</code></li> <li><code>npm create vite@latest my-app -- --template react-ts</code></li> <li><code>npx create-rsbuild --template react</code></li> </ul> <p><code>npx create-next-app@latest</code> dependencies: can choose js/ts <pre><code>{\n\u00a0 \"dependencies\": {\n\u00a0 \u00a0 \"next\": \"16.0.6\",\n\u00a0 \u00a0 \"react\": \"19.2.0\",\n\u00a0 \u00a0 \"react-dom\": \"19.2.0\"\n\u00a0 },\n\n\u00a0 \"devDependencies\": {\n\u00a0 \u00a0 \"@types/node\": \"^20\",\n\u00a0 \u00a0 \"@types/react\": \"^19\",\n\u00a0 \u00a0 \"@types/react-dom\": \"^19\",\n\u00a0 \u00a0 \"babel-plugin-react-compiler\": \"1.0.0\",\n\u00a0 \u00a0 \"eslint\": \"^9\",\n\u00a0 \u00a0 \"eslint-config-next\": \"16.0.6\",\n\u00a0 \u00a0 \"typescript\": \"^5\"\n\u00a0 }\n}\n</code></pre></p> <p><code>npx create-react-router@latest</code> dependencies: only ts options <pre><code>{\n    \"dependencies\": {\n    \u00a0 \u00a0 \"@react-router/node\": \"^7.9.2\",\n    \u00a0 \u00a0 \"@react-router/serve\": \"^7.9.2\",\n    \u00a0 \u00a0 \"isbot\": \"^5.1.31\",\n    \u00a0 \u00a0 \"react\": \"^19.1.1\",\n    \u00a0 \u00a0 \"react-dom\": \"^19.1.1\",\n    \u00a0 \u00a0 \"react-router\": \"^7.9.2\"\n\u00a0 },\n\n\u00a0 \"devDependencies\": {\n\u00a0 \u00a0 \"@react-router/dev\": \"^7.9.2\",\n\u00a0 \u00a0 \"@tailwindcss/vite\": \"^4.1.13\",\n\u00a0 \u00a0 \"@types/node\": \"^22\",\n\u00a0 \u00a0 \"@types/react\": \"^19.1.13\",\n\u00a0 \u00a0 \"@types/react-dom\": \"^19.1.9\",\n\u00a0 \u00a0 \"tailwindcss\": \"^4.1.13\",\n\u00a0 \u00a0 \"typescript\": \"^5.9.2\",\n\u00a0 \u00a0 \"vite\": \"^7.1.7\",\n\u00a0 \u00a0 \"vite-tsconfig-paths\": \"^5.1.4\"\n\u00a0 }\n}\n</code></pre></p> <p><code>npx create-expo-app@latest</code>:</p>","tags":["Programming"]},{"location":"2025/12/05/react/#12-migrate-from-react-scripts","title":"1.2 Migrate from react-scripts","text":"<p>Previous projects package config: <pre><code>{\n    \"devDependencies\": {\n        \"react-scripts\": \"^4.0.3\"\n    },\n    \"scripts\": {\n        \"start\": \"react-scripts start\",\n        \"build\": \"react-scripts build\"\n    }\n}\n</code></pre></p> <p>Steps of migration:</p> <ol> <li><code>npm uninstall react-scripts &amp;&amp; npm install vite @vitejs/plugin-react --dev</code></li> <li>add <code>vite.config.js</code> to the folder of <code>package.json</code>: vite.config.js<pre><code>import { defineConfig } from 'vite';\nimport react from '@vitejs/plugin-react';\n\nexport default defineConfig({\n\u00a0 plugins: [react()],\n\u00a0 server: {\n\u00a0 \u00a0 port: 3000,\n\u00a0 \u00a0 open: true,\n\u00a0 \u00a0 proxy: {\n\u00a0 \u00a0 \u00a0 '/api': {\n    \u00a0 \u00a0 \u00a0 \u00a0target: 'http://localhost:8082', // backend url\n    \u00a0 \u00a0 \u00a0 \u00a0changeOrigin: true,\n    \u00a0 \u00a0 \u00a0 \u00a0// rewrite: (path) =&gt; path.replace(/^\\/api/, '')\n\u00a0 \u00a0 \u00a0 },\n\u00a0 \u00a0 },\n\u00a0 },\n\u00a0 build: {\n\u00a0 \u00a0 outDir: 'build',\n\u00a0 \u00a0 assetsDir: 'assets',\n\u00a0 \u00a0 sourcemap: true,\n\u00a0 },\n\u00a0 // resolve: {\n\u00a0 //\u00a0 alias: {\n\u00a0 //\u00a0 \u00a0 '@': '/src',\n\u00a0 //\u00a0 },\n\u00a0 //}\n});\n\n    ```\n\n3. edit `package.json`:\n```json\n{\n    \"scripts\": {\n        \"start\": \"vite\",\n        \"build\": \"vite build\",\n        \"serve\": \"vite preview\"\n    }\n}\n</code></pre></li> <li>Move <code>index.html</code> from <code>public/</code> to root folder, fix any import inside <code>index.html</code> and add this line: <code>&lt;script type=\"module\" src=\"/src/index.jsx\"&gt;&lt;/script&gt;</code> after <code>&lt;div id=\"root\"&gt;</code></li> <li>rename all <code>.js</code> files to <code>.jsx</code></li> <li>Rename all env variables with prefix of <code>React_</code> to <code>Vite_</code></li> <li>replace <code>process.env</code> to <code>import.meta.env</code></li> </ol>","tags":["Programming"]},{"location":"2025/12/05/react/#13-core-components","title":"1.3 Core components","text":"<p>Core libraries:</p> <ul> <li>React</li> <li>React-dom</li> </ul> <p>Build Tools(any one of below can be used to bundle and build react code):</p> <ul> <li>Vite: fast for building</li> <li>Parcel: easy to use</li> <li>Rsbuild: suitable for performance</li> <li>Webpack: classic bundler in conjunction with Babel</li> </ul> <p>pipelines: ts compile &gt; react build &gt; js code</p> <p>build tool config:</p> <ul> <li>ts/js</li> <li>CSR support</li> <li>SSR Support</li> <li>SSG</li> <li>RSC</li> </ul>","tags":["Programming"]},{"location":"2025/12/05/react/#14-program-entry","title":"1.4 Program entry","text":"index.jsx <pre><code>import App from \"./App.jsx\"\nimport { createRoot } from \"react-dom/client\"\n\nconst root = createRoot(document.getElementById(\"root))\nroot.render(&lt;App /&gt;)\n</code></pre>","tags":["Programming"]},{"location":"2025/12/05/react/#15-config-csr-vs-ssr","title":"1.5 Config CSR vs SSR","text":"<p>CSR: React not using nextjs by default is CSR</p> <p>SSR(2 ways to config SSR):</p> <ul> <li>Scaffold the project using nextjs command from section 1.1</li> <li>Manual</li> </ul> <p>SSR has 2 ways to render component(either hydrate or use RSC architecture):</p> <ul> <li>hydration for manual setup: https://medium.com/simform-engineering/how-to-implement-ssr-server-side-rendering-in-react-18-e49bc43e9531</li> <li>RSC architecture for manual: https://thefrontenddev.medium.com/getting-started-with-react-server-components-rsc-react-19-and-next-js-in-action-7093448ee5f0</li> </ul>","tags":["Programming"]},{"location":"2025/12/05/react/#2-react-syntax","title":"2. React syntax","text":"<p>pass variable/expression to html part with <code>{}</code> <pre><code>export default function Profile() {  \n    return (  \n            &lt;Avatar  \n                person={{ name: 'Lin Lanying', imageId: '1bX5QH6' }}  \n                size={100}  \n            /&gt;  \n        );  \n}\n</code></pre></p> <p>list render: use <code>filter</code> or <code>map</code> <pre><code>const people = [\n  'Creola Katherine Johnson: mathematician',\n  'Mario Jos\u00e9 Molina-Pasquel Henr\u00edquez: chemist',\n  'Mohammad Abdus Salam: physicist',\n  'Percy Lavon Julian: chemist',\n  'Subrahmanyan Chandrasekhar: astrophysicist'\n];\n\nexport default function List() {\n  const listItems = people.map(person =&gt;\n    &lt;li&gt;{person}&lt;/li&gt;\n  );\n  return &lt;ul&gt;{listItems}&lt;/ul&gt;;\n}\n</code></pre></p> <p>conditional render: use <code>&amp;&amp;</code>, <code>&lt;cond&gt; ? va1 : val2</code>, <code>if/else</code> <pre><code>export default function Item({name, isPacked}){\n    if(name === \"\")\n        return null\n    return (\n        &lt;li className=\"item\"&gt;\n          {isPacked ? (\n            &lt;strong&gt;\n              {name}\n            &lt;/strong&gt;\n          ) : (\n            &lt;p&gt; {name} &lt;/p&gt;\n          )}\n        &lt;/li&gt;\n    )\n}\n</code></pre></p>","tags":["Programming"]},{"location":"2025/12/05/react/#3-react-components","title":"3. React Components","text":"","tags":["Programming"]},{"location":"2025/12/05/react/#31-how-to-declare-component","title":"3.1 How to declare component","text":"<pre><code>export default function myComponent(){\n    // javascript code\n    return (&lt;&gt;\n        &lt;!-- content of myComponent --&gt;\n    &lt;/&gt;)\n}\n</code></pre>","tags":["Programming"]},{"location":"2025/12/05/react/#32-react-hooks","title":"3.2 React Hooks","text":"","tags":["Programming"]},{"location":"2025/12/05/react/#321-usestate-vs-usereducer","title":"3.2.1 useState vs useReducer","text":"<p>useState: <code>useState</code> creates a state variable and a simple setter for that variable. When the setter is called, it triggers rerender <pre><code>export default function myComponent(){\n    const [index, setIndex] = useState(0)\n\n    return (&lt;&gt;\n        index: {index}\n    &lt;/&gt;)\n}\n</code></pre></p> <p>Note:</p> <ul> <li><code>setState</code> from <code>useState</code> only changes the value after the next <code>render()</code> takes place, which means if you print out the value right after <code>setState</code> within a function/event handler(whether sync/async), the state value will still be the previous value before inputting in the <code>setState</code></li> </ul> <p>useReducer: define more complicated logic of updating a state that <code>useState</code> for re-rendering. <code>useReducer</code> takes a regular variable as initial state and a function that can updates the state variable based on different action. When you call <code>dispatch</code>, it will trigger rerender. <pre><code>const tasks = [\n  { id: 0, text: 'Visit Kafka Museum', done: true },\n  { id: 1, text: 'Watch a puppet show', done: false },\n  { id: 2, text: 'Lennon Wall pic', done: false }\n];\nlet nextId = 3;\nfunction tasksReducer(tasks, action){\n    switch(action.type) {\n        case 'add': {\n            return [...tasks,\n                {\n                    id: action.id,\n                    text:action.text\n                    done: false\n                }\n            ]\n        },\n        case 'change': {\n            return tasks.map(t =&gt; {\n                return t.id === action.task.id ? action.task : t\n            });\n        },\n        case 'deleted': {\n            return tasks.filter(t =&gt; t.id !== action.id)\n        },\n        default: {\n          throw Error('Unknown action: ' + action.type);\n        }\n    }\n}\n\nexport default function TaskApp(){\n    function handleAddTask(text){\n        dispatch({\n          type: 'added',\n          id: nextId++,\n          text: text,\n        });\n    }\n\n    function handleChangeTask(task) {\n        dispatch({\n          type: 'changed',\n          task: task\n        });\n    }\n\n    function handleDeleteTask(taskId) {\n        dispatch({\n          type: 'deleted',\n          id: taskId\n        });\n    }\n\n    return (\n    &lt;&gt;\n        &lt;h1&gt;Prague itinerary&lt;/h1&gt;\n        &lt;AddTask\n            onAddTask={handleAddTask}\n        /&gt;\n        &lt;TaskList\n            tasks={tasks}\n            onChangeTask={handleChangeTask}\n            onDeleteTask={handleDeleteTask}\n        /&gt;\n    &lt;/&gt;\n    )\n\n}\n</code></pre></p>","tags":["Programming"]},{"location":"2025/12/05/react/#322-usememo-usecallback","title":"3.2.2 useMemo &amp; UseCallback","text":"<p>UseMemo: <code>UseMemo</code> allows us to cache a value when components rerender. Components only recreated the values returned by <code>useMemo</code> when the variables inside dependency array change.  It can save heavy computation of certain values when the component rerender is triggered by parent component. The first arg is a callback that does not accept input(typically synchronous) and the second arg is dependency array that contains either state, props or variables from other <code>useMemo</code> <pre><code>export default function TaskList({ taskList }){\n    const [ filter, setFilter] = useState(\"\")\n\n    const filteredTasks = useMemo(() =&gt; {\n        return taskList.filter(t =&gt;\n            t.name.toLowerCase().includes(filter.toLowerCase())\n        )\n    }, [filter, taskList])\n}\n</code></pre></p> <p>UseCallback: By default, methods defined inside a component are recreated on every render. To optimize this, we can first move the methods outside and make it public, but sometimes the methods may contain state variables of this component and need to perform actions. Therefore, we can use <code>useCallback</code> to optimize. <code>useCallback</code> caches the either sync or async methods to avoid recreating functions unless its specified dependencies changed. This can help if we pass the function to a child component because when parent component re-renders, it won't create new function and pass to the props of child component to make it re-render every time.  Use it when:</p> <ul> <li>pass the function to a child component</li> <li>the method is used in <code>useEffect</code></li> <li>your created function needs to create a lot of variables/resources</li> </ul> <p>How to use: The first arg of <code>useCallback</code> can be either a function or async function that can return anything and the second is a dependencies array. <pre><code>export default function ProductPage({productId, referrer}){\n    const handleSubmit = useCallback((orderDetails) =&gt; {\n        fetch(baseUrl + \"/product\" + productId, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({referrer, orderDetails})\n        })\n    }, [productId, referrer])\n\n    // we can also create a method that only renders after initial render\n    const handleSubmit = useCallback((orderDetails) =&gt; {\n        fetch(baseUrl + \"/product\" + productId)\n    }, [])\n}\n</code></pre></p>","tags":["Programming"]},{"location":"2025/12/05/react/#323-useeffect-vs-uselayouteffect","title":"3.2.3 useEffect vs useLayoutEffect","text":"<p>useEffect: <code>useEffect()</code> is like <code>watch</code> method from Vue or commonly used to fetch and load data. The first argument is a function that returns nothing(cannot be async function but supports async operation, see the example of how to call async function below). The second arg can be either no argument, <code>[]</code>, <code>[dep]</code>:</p> <ul> <li>no arg: <code>useEffect</code> runs the callback each time the component renders</li> <li><code>[]</code>: runs only once after the initial render(mount), typically used to perform async ops</li> <li><code>[dep]</code>: runs after the initial render and whenever any variables inside <code>[dep]</code> change, <code>[dep]</code> stores props, state variables, returned variables from <code>useCompute</code> or <code>useCallback</code>functions. If you are using certain methods, you must pass that method into <code>[dep]</code> <pre><code>// 2 ways to perform asyn operations in useEffect:\n\n// 1. (1) define async in useEffect callback\n//    (2) use the await result inside the defined callback\nconst [data, setData] = useState(\"\")\nuseEffect(() =&gt; {\n    // 1.1 define async func\n    const fetchData = async () =&gt; {\n        const response = await fetch(\"https://yourapi.com\")\n        const json = await response.json()\n        setData(json)\n    }\n\n    // 1.2. call async func\n    fetchData().catch(e =&gt; console.error(e));\n}, [])\n\n// 2. we can move the async func outside into useCallback\nconst [data, setData] = useState(\"\")\n// 2.1\nconst fetchData = useCallback(async () =&gt; {\n    const data = await fetch(\"https://www.api.com\")\n    setData(data)\n}, [])\n// 2.2 call fetchData and pass fetchData into [dep] of useEffect\nuseEffect(()=&gt;{\n    fetchData().catch(e =&gt; console.error(e))\n}, [fetchData])\n</code></pre></li> </ul> <p>useLayoutEffect:<code>useLayoutEffect</code> first arg accepts synchronous function with synchronous operations. <code>useLayoutEffect</code> happens before browser paint the component, while <code>useEffect</code> happens after painting. </p> <p>When to use:  Sometimes, a component's size and position is dynamic and not known until you render it because it has children props.With this hook, we can know the exact size and position before painting and rerender the component based on the exact size and location. </p> <p>In this example(https://react.dev/reference/react/useLayoutEffect), since <code>ToolTipContainer</code> has children props. We can only know the height of <code>ToolTipContainer</code> after we know what exactly is passed as children to render and we need to render <code>ToolTipContainer</code> based on its height. Thus, we need to use <code>useLayoutEffect</code> in this case.</p>","tags":["Programming"]},{"location":"2025/12/05/react/#324-useref","title":"3.2.4 useRef","text":"<p><code>useRef(initialValue)</code> itself returns a mutable object with a single property called <code>current</code> whose initial value is set to <code>initialValue</code>. This object does not trigger re-render. It can be passed to <code>ref</code> attribute of an html element to track and access the dom element and use with browser APIs like <code>focus</code>, <code>scrollIntoVies</code>, <code>play</code>, <code>select</code> and so on.</p> <pre><code>import { useRef } from 'react';\n\nexport default function Form() {\n  // step 1\n  const inputRef = useRef(null);\n\n  function handleClick() {\n    inputRef.current.focus();\n  }\n\n  return (\n    &lt;&gt;\n      &lt;!-- step 2--&gt;\n      &lt;input ref={inputRef} /&gt;\n      &lt;button onClick={handleClick}&gt;\n        Focus the input\n      &lt;/button&gt; \n    &lt;/&gt;\n  );\n}\n</code></pre>","tags":["Programming"]},{"location":"2025/12/05/react/#33-special-component","title":"3.3 Special Component","text":"","tags":["Programming"]},{"location":"2025/12/05/react/#331-rsc-in-ssr","title":"3.3.1 RSC in SSR","text":"<p>Note: When you enable SSR mode and choose RSC architecture in react, there are 2 types of components:</p> <ul> <li>Server Component(by default)</li> <li>Client Component(declared by <code>\"use client\"</code>)</li> </ul> <p>Server Component: Servers render Server Components into html on server side. Best used when the component needs to load or fetch static resources remotely or access the resources on the server locally(rather than have to fetch server resources from client) because the server can load the resources during the build process of server components.  Some notes about server components - cannot use hooks like <code>useState</code> - but can nest Client components inside to use react hooks - support async component</p> <p>Client Component key notes:  - client components are like regular components in CSR mode - can use server functions to let server execute</p> Nesting with each other <ul> <li>server component cannot be imported in a file declared with <code>\"use Client\"</code>, otherwise, it will be treated as client component</li> <li>solution is to pass server component in props</li> </ul> pattern supported How Client inside server yes direct import Server inside client(import) no it forces server component to be client component Server inside client(props) yes Pass the Server Component as\u00a0<code>children</code>\u00a0or another prop from a parent Server Component. <p>How to setup and create RSC components: https://thefrontenddev.medium.com/getting-started-with-react-server-components-rsc-react-19-and-next-js-in-action-7093448ee5f0</p>","tags":["Programming"]},{"location":"2025/12/05/react/#34-common-pattern","title":"3.4 Common pattern","text":"","tags":["Programming"]},{"location":"2025/12/05/react/#341-props-expose","title":"3.4.1 Props &amp; Expose","text":"<p>Props: In order for parent component to trigger children component's rerender through UI interactions of parent component, we lift the state into parent component and pass this state to children component to make children component re-render. This is called props down. Below is example of how to pass props from parent to children:</p> ChildComponent.jsxParentComponent.jsx <pre><code>function ChildComponent(props) {\n    return (&lt;&gt;\n        &lt;h2&gt; {props.msg} &lt;/h2&gt;\n    &lt;/&gt;)\n}\n</code></pre> <pre><code>import ChildComponent from './ChildComponent';\n\nfunction ParentComponent(){\n    const [msg, setMsg] = useState(\"\")\n\n    return (\n        &lt;ChildComponent msg={msg} /&gt;\n\n        &lt;!-- users control ChildComponent through Input at parent--&gt;\n        &lt;Input onChange={(e)=&gt; setMsg(e.target.value)} /&gt;\n    )\n}\n</code></pre> <p>special props</p> properties role key when new key is passed to a component's prop, the component will reset its states values children this prop receives slot elements for this component className assign css classes style assign inline style object ref assign return value of <code>useRef</code> to this property to access DOM <p>style keys:</p> category key role Layout display Defines the rendering box type(ex: <code>'flex'</code>,\u00a0<code>'grid'</code>,\u00a0<code>'block'</code>,\u00a0<code>'none'</code>) margin/padding Sets external and internal spacing width/height Sets dimension position position element(ex: <code>'absolute'</code>,\u00a0<code>'relative'</code>,\u00a0<code>'fixed'</code>) top,right,bottom,left Used with position Flexbox flexDirection Specifies the direction of flex items(ex: <code>'row'</code>,\u00a0<code>'column'</code>) justifyContent Aligns items along the main axis(ex: <code>'center'</code>,\u00a0<code>'space-between'</code>) alignItems Aligns items along the cross axis(ex: <code>'flex-start'</code>,\u00a0<code>'stretch'</code>) flex growth and shrinkage Visual Color Sets text color backgroundColor Sets the background color of the element borderRadius Rounds the corners of the element's outer border. border Sets the width, style, and color of the border opacity Sets the transparency level from\u00a00\u00a0to\u00a01 boxshadow add shadow effect Typography fontSize set the size of font fontWeight set thickness of characters fontFamily font family textAlign horizontal alignment for text (e.g.,\u00a0<code>'center'</code>,\u00a0<code>'right'</code>) <p>Expose: There is no expose method in react as defined in vue.</p>","tags":["Programming"]},{"location":"2025/12/05/react/#342-emit-events","title":"3.4.2 Emit events","text":"<p>In order for child component to trigger parent component's re-render through UI interaction at Child component level, we define event at child component to be emitted and pass event handler from parent to children. This is called event up. <pre><code>// 1. define event name \"onPlay\" through props\nfunction Button({ onPlay, children }) {\n  return (\n  // emit the event through onClick\n    &lt;button onClick={onPlay}&gt;\n      {children}\n    &lt;/button&gt;\n  );\n}\n\nfunction PlayButton() {\n  const [isPlaying, setIsPlaying] = useState(false)\n\n  return (\n    &lt;Button onClick={()=&gt; setIsPlaying(!isPlaying)}&gt;\n      Play \"{isPlaying}\"\n    &lt;/Button&gt;\n  );\n}\n</code></pre></p> <p>Common events:</p> categories Events element When is it fire Mouse onClick button, div, p mouse press down and release onDoubleClick button, div, p double click Form onSubmit form when a submit type button is clicked onInput input, select, textarea when there is change in input field onChange input,textarea, select when contents of the element changes onFocus input,textarea, select when user clicks the input element and the element becomes active for input onBlur input,textarea, select when input element lose activeness Clipboard onCopy div, p when user copies data from it onCut div, p when user cuts data from it onPaste input, textarea when user pastes data into it Pointer onPointerDown button, div, p just press down from mouse, touch or pen onPointerMove button, div, p mouse, touch or pen move on element onPointerUp button, div, p mouse, touch or pen released on element generic onError video,img, iframe,script,link when element fails to load onLoad video,img, iframe,script,link when element load resources UI onScroll div when user scroll page onResize div when size of browser window changes keyboard onKeyDown input when user presses a key from keyboard onKeyPress input when user presses a key from keyboard onKeyUp input when user presses and releases a key <p>All supported events: https://legacy.reactjs.org/docs/events.html#animation-events Event handler cheatsheet: https://react.dev/reference/react-dom/components/common#react-event-object</p> <p>Events(parameter type in event handler) API you may use:</p> <ul> <li>preventDefault()</li> <li>stopPropagation()</li> </ul>","tags":["Programming"]},{"location":"2025/12/05/react/#343-usecontext","title":"3.4.3 useContext","text":"<p><code>useContext</code> can also be a solution to trigger re-render from children to parent or from parent to children. In addition, it allows us to define states that can be shared between parent components and all of its descendant components 1. We first define our context state and setter through <code>createContext</code>. <code>createContext</code> accepts a variable or a setter function to create a global context to be shared. 2. Then you can access the context through <code>useContext</code> by passing the returned result from <code>createContext</code>. <code>useContext</code> will first find the value from the closest context provider value; if this cannot be found, it will look up the value from the <code>createContext</code>.</p> taskContext.jsxApp.jsxChildrenComponent.jsx <pre><code>import { createContext, useContext } from \"react\"\n\nconst TasksContext = createContext(null)\nconst TasksDispatchContext = createContext(null)\n\nexport function useTasks(){\n    return useContext(TasksContext)\n}\n\nexport function useTasksDispatch(){\n    return useContext(TasksDispatchContext)\n}\n\nexport function TasksProvider({ children }){\n    // or we can also use useReduce to create state and setter\n    const [tasks, setTasks] = useState([])\n\n    return (\n        &lt;TasksContext value={tasks}&gt;\n            &lt;TasksDispatchContext value={setTasks}&gt;\n                { children }\n            &lt;/TasksDispatchContext&gt;\n        &lt;/TasksContext&gt;\n    )\n}\n</code></pre> <pre><code>import { TasksProvider } from './TasksContext';\n\nexport default function TaskApp() {\n  return (\n    &lt;TasksProvider&gt;\n      &lt;ChildrenComponent /&gt;\n    &lt;/TasksProvider&gt;\n  );\n}\n</code></pre> <pre><code>import { useTasks, useTasksDispatch } from './TasksContext';\n\nexport default function ChildrenComponent(){\n    const tasks = useTasks()\n    const dispatch = useTasksDispatch()\n}\n</code></pre>","tags":["Programming"]},{"location":"2025/12/05/react/#344-slot","title":"3.4.4 slot","text":"<ul> <li>pass value to customized properties</li> </ul> ChildComponent.jsx <pre><code>function ChildComponent(props) {\n    return (&lt;&gt;\n        &lt;h2&gt; {props.msg} &lt;/h2&gt;\n        {props.children}\n    &lt;/&gt;)\n}\n</code></pre>","tags":["Programming"]},{"location":"2025/12/05/react/#345-lifecycle","title":"3.4.5 LifeCycle","text":"<p>Loading a page(initial render): render(from root component) -&gt; mount(insert the components into the DOM through <code>appendChild</code>) -&gt; useLayoutEffect(perform only synchronous operations in its hook) -&gt; browser paint the screen -&gt;useEffect(can perform async operations)</p> <p>re-render: setstate from <code>useState</code> buffer update -&gt; render(from components that call setState to leaf components) -&gt; useLayoutEffect -&gt; browser paint -&gt; useEffect</p>","tags":["Programming"]},{"location":"2025/12/05/react/#4-react-optimization","title":"4. React Optimization","text":"<p>CheckList:</p> <ul> <li>if a function is passed from parent to child, try to use <code>useCallback</code> to optimize</li> </ul>","tags":["Programming"]},{"location":"2025/12/05/react/#41-memo-react-compiler","title":"4.1 Memo() &amp; React compiler","text":"<p><code>React.Memo()</code> is used for optimizing\u00a0child\u00a0components when their\u00a0parent\u00a0re-renders but passes the\u00a0same props\u00a0down, stopping unnecessary rendering in the component tree.</p>","tags":["Programming"]},{"location":"2025/12/05/react/#5-react-router","title":"5. React Router","text":"","tags":["Programming"]},{"location":"2025/12/05/react/#6-redux","title":"6. Redux","text":"","tags":["Programming"]},{"location":"2025/12/05/react/#7-security","title":"7. Security","text":"","tags":["Programming"]},{"location":"2025/12/05/react/#71-cve-2025-55182","title":"7.1 CVE-2025-55182","text":"<p>https://www.wiz.io/blog/nextjs-cve-2025-55182-react2shell-deep-dive exploit: https://www.youtube.com/watch?v=jlFwcB0Csbs</p>","tags":["Programming"]},{"location":"2025/12/05/react/#8-popular-libraries","title":"8. Popular librariesShare this post:","text":"<ul> <li>Material UI</li> </ul> <p>Share on  Share on </p>","tags":["Programming"]},{"location":"2025/02/01/vscode/","title":"VSCode","text":"<p>VSCode configurations.</p>","tags":["Tool"]},{"location":"2025/02/01/vscode/#0-installation","title":"0. Installation","text":"<ol> <li>Install</li> <li>After installing,  right click desktop link &gt; properties, paste<code>\"&lt;VSCODE_INSTALL_DIRECTORY&gt;\\VS code\\Code.exe\" --extensions-dir \"&lt;DESIRED_EXTENSION_PATH&gt;\"</code></li> <li>when you launch vscode from the desktop link, you can install or load extensions in the <code>&lt;DESIRED_EXTENSION_PATH&gt;</code></li> </ol>","tags":["Tool"]},{"location":"2025/02/01/vscode/#1-config","title":"1. Config","text":"","tags":["Tool"]},{"location":"2025/02/01/vscode/#11-environ-variable","title":"1.1 Environ variable","text":"<p>Environment variables that can be used in <code>launch.json</code></p> VAR Role cwd the task runner's current working directory on startup workspaceFolder absolute path of current open folder in workspace workspaceRootFolderName folder name of current open folder in workspace relativeFile path of current open file relative to <code>$workspaceFolder</code> file absolute path of current open file fileBasename file name of current open file fileBasenameNoExtension file name of current open file excluding the extension fileDirname absolute path of current open file excluding the file name fileExtension extension of current open file <code>env:&lt;ENV_NAME&gt;</code> value of <code>ENV_NAME</code>","tags":["Tool"]},{"location":"2025/02/01/vscode/#2-config-files","title":"2. Config files","text":"<ul> <li>launch.json(debugger setting)</li> <li>settings.json</li> <li>tasks.json(config to test and build by vscode)</li> </ul> <p>tasks.json(example:</p> <pre><code>{\n    \"version\": \"2.0.0\",\n    \"tasks\": [\n        {\n            \"label\": \"make clean\",\n            \"command\": \"make\",\n            \"type\": \"shell\",\n            \"args\": [\n                \"clean\"\n            ],\n            \"options\": {\n                // cwd specify work path of current task to apply command\n                \"cwd\": \"${fileDirname}\"\n            },\n            \"group\": \"none\"  // group value is one of \"none\", \"build\", \"test\"\n        },\n        {\n            \"label\": \"make lab3\",\n            \"command\": \"make\",\n            \"type\": \"shell\",\n            \"args\": [\n                \"lab3\"\n            ],\n            \"options\": {\n                \"cwd\": \"${fileDirname}\"\n            },\n            \"group\": \"build\",\n            // \"dependsOn\" means this task happen after the list of tasks\n            \"dependsOn\": [\n                \"make clean\"\n            ], \n            //display all the gcc warnings and errors in the problem pannel      \n            //instead of in the terminal pannel\n            \"problemMatcher\": \"$gcc\" \n        }\n    ]\n}\n</code></pre>","tags":["Tool"]},{"location":"2025/02/01/vscode/#2-useful-plugins","title":"2. Useful plugins","text":"","tags":["Tool"]},{"location":"2025/02/01/vscode/#21-remote-ssh","title":"2.1 Remote - SSH","text":"<p>This plugin allows you to open folder on remote machines without download</p>","tags":["Tool"]},{"location":"2025/02/01/vscode/#211-establish-remote-connection","title":"2.1.1 Establish remote connection","text":"<ol> <li>Search and install \"Remote - SSH\" extension from vs code extensions market</li> <li><code>ctrl + shift + p</code>, type \"remote\", select \"Connect Current window to Host\"</li> <li>Type <code>&lt;USER_NAME&gt;@&lt;DOMAIN&gt;</code>, then enter password, there you go</li> </ol> <p>When you work in this environment, you can edit files or install extension on remote end</p>","tags":["Tool"]},{"location":"2025/02/01/vscode/#212-config-passwordless-conn","title":"2.1.2 Config passwordless conn","text":"<p>see 1.2.1 passwordless login</p>","tags":["Tool"]},{"location":"2025/02/01/vscode/#22-remote-repositories","title":"2.2 Remote Repositories","text":"<p>This plugin allows you to open github repo without cloning</p> <ol> <li>Install Remote Repositories</li> <li>Ctrl + shift + p, select open remote repositories</li> <li>Type <code>&lt;GITHUB_USER_NAME&gt;/&lt;REPO_NAME&gt;</code> will open the repo</li> </ol>","tags":["Tool"]},{"location":"2025/02/01/vscode/#3-sync-settings","title":"3. Sync settingsShare this post:","text":"<ol> <li>Sign in &gt; Turn on Setting syncs</li> <li>Select data for sync</li> <li>Sign in with github</li> </ol> <p>Once success, 1. ctrl+shift+p, select show sync data, will open manage sync data on left side pannel</p> <p>Share on  Share on </p>","tags":["Tool"]},{"location":"2025/12/01/vue/","title":"Vue","text":"<p>My note about Vue 3</p>","tags":["Programming"]},{"location":"2025/12/01/vue/#1-set-up","title":"1. Set up","text":"","tags":["Programming"]},{"location":"2025/12/01/vue/#11-scaffold-project","title":"1.1 Scaffold project","text":"<p>Create template code: <code>npm create vue@latest</code>(does not require global dependency) package dependencies: <pre><code>{\n    \"dependencies\": {\n    \u00a0 \u00a0 \"vue\": \"^3.5.25\"\n\u00a0 },\n\n\u00a0 \"devDependencies\": {\n\u00a0 \u00a0 \"@vitejs/plugin-vue\": \"^6.0.2\",\n\u00a0 \u00a0 \"vite\": \"^7.2.4\",\n\u00a0 \u00a0 \"vite-plugin-vue-devtools\": \"^8.0.5\"\n\u00a0 }\n}\n</code></pre></p>","tags":["Programming"]},{"location":"2025/12/01/vue/#12-program-entry","title":"1.2 Program entry","text":"<p>Program entry files(calling order from top to below):</p> <ul> <li>index.html</li> <li>main.js</li> <li>App.Vue</li> </ul> <p>App level APIs:</p> <ul> <li><code>createApp</code>:  return <code>app</code> instance</li> <li><code>app.mount</code>: mount the <code>app</code>to a div element</li> <li><code>app.component</code>: makes a component available for use anywhere</li> <li> <p><code>app.use</code>:</p> </li> <li> <p><code>app.config.errorhandler</code></p> </li> </ul>","tags":["Programming"]},{"location":"2025/12/01/vue/#13-config-ssr-csr","title":"1.3 Config: SSR, CSR","text":"<ul> <li>CSR: Vue by default is CSR, if not configured intentionally</li> <li>SSR<ul> <li>How to config(project template: https://github.com/vitejs/vite-plugin-vue/blob/main/playground/ssr-vue/index.html):</li> <li>we maintain <code>App.vue</code>. We change the one <code>main.js</code> to <code>server.js</code> and <code>client.js</code>. </li> <li>Hydration step: <ul> <li><code>server.js</code>: call <code>createSSRApp</code> instead of <code>createApp</code> from CSR mode, then call <code>renderToString</code> on return result of <code>createSSRApp</code></li> <li><code>Client.js</code>: edit <code>createSSRApp(app).mount('#app')</code></li> </ul> </li> <li>Inside <code>index.html</code>, add <code>&lt;script type=\"module\" src=\"/src/entry-client.js\"&gt;&lt;/script&gt;</code></li> <li>extra support:<ul> <li>Nuxt</li> <li>Quarsar</li> <li>Vite SSR</li> </ul> </li> <li>Note:<ul> <li>Avoid using <code>window</code>, <code>document</code> API</li> <li>certain lifecycle hooks won't execute: <code>beforeMount</code>, <code>onMount</code>, <code>beforeUpdate</code>, <code>updated</code></li> <li>Put async IO in the hook of <code>onServerPrefetch</code> for security when performing them in setup</li> <li>global state: use Pinia. Don't export or share state variables</li> <li>router: use SSR router</li> <li>avoid using <code>provide/inject</code> on component. Use <code>app.provide</code></li> </ul> </li> </ul> </li> </ul>","tags":["Programming"]},{"location":"2025/12/01/vue/#2-vue-syntax","title":"2. Vue Syntax","text":"<p><code>.vue</code> file general structure: <pre><code>&lt;script&gt;\n    // define functions\n    // register components method\n&lt;/script&gt;\n&lt;template&gt;\n    &lt;!-- Define html components\u00a0--&gt;\n&lt;/template&gt;\n&lt;style scoped&gt;\n    /* customize css for above html */\n&lt;/style&gt;\n</code></pre></p> <ol> <li> <p>Mustache(double curly braces) <pre><code>&lt;script&gt;\n    const msg = \"hello\";\n    const ok = 1;\n    const rawHtml = '&lt;span style=\"color: red\"&gt;This should be red.&lt;/span&gt;';\n&lt;/script&gt;\n\n&lt;template&gt;\n    &lt;!-- Mustache parses real-time value of variables/expression\n    into plain text in html\n --&gt;\n\n    &lt;span&gt;Message: {{ msg }}&lt;/span&gt;\n    &lt;span&gt;Ok: {{ ok ? 'YES' : 'NO' }}&lt;/span&gt;\n    &lt;span&gt;{{ rawHtml }}&lt;/span&gt;\n&lt;/template&gt;\n</code></pre></p> </li> <li> <p>Directives: v-html, v-bind, v-if, v-for, v-on, v-model, v-slot: <pre><code>&lt;!-- \n1. v-bind: assign variable/expression values to an element's attribute\n--&gt;\n&lt;button v-bind:disabled=\"isButtonDisabled\"&gt;Button&lt;/button&gt;\n&lt;button :disabled=\"isButtonDisabled\"&gt;Button&lt;/button&gt;\n&lt;!-- dynamic attribute, attr value should be in lower case--&gt;\n&lt;button :[attr]=\"isButtonDisabled\"&gt;Button&lt;/button&gt;\n&lt;!-- bind multiple attributes at one time, \n    const objectOfAttrs = {id: 'container', class: 'wrapper', style: 'background-color:green'}\n--&gt;\n&lt;div v-bind=\"objectOfAttrs\"&gt;&lt;/div&gt;\n&lt;!-- calling function values--&gt;\n&lt;time :title=\"toTitleDate(date)\"&gt; {{ formatDate(date) }} &lt;/time&gt;\n\n&lt;!--\n2. v-on: binds a function to an event or event's modifier,\n   syntax: v-on:&lt;Event_Name&gt;[.&lt;Modifier_Name&gt;]=\"&lt;Function_Name&gt;\"\n   Event_Name(common): click, mouseover/mouseenter, mouseout/mouseleave, \n                       keydown/keyup/keypress, change, submit, fous/blur, \n                       load/error, scroll\n   Mofifier: https://vuejs.org/guide/essentials/event-handling.html\n--&gt; \n&lt;a v-on:click=\"doSomething\"&gt;Click&lt;/a&gt;\n&lt;a @click=\"doSomething\"&gt;Click&lt;/a&gt;\n&lt;!-- dynamic event, eventName is a variable, its value should be lowercase \n--&gt;\n&lt;a @[eventName]=\"doSomething\"&gt;Click&lt;/a&gt;\n&lt;!-- modifier --&gt;\n&lt;form @submit.prevent=\"onSubmit\"&gt;&lt;input /&gt;&lt;/form&gt;\n\n&lt;!-- \n3. v-if: render components based on condition\n   v-show: render component but toggle display CSS property based on condition, suitable if you need to toggle to show sth very often\n--&gt;\n&lt;p v-if='message = \"A\"'&gt;A&lt;/p&gt;\n&lt;p v-else-if='message = \"B\"'&gt;B&lt;/p&gt;\n&lt;p v-else&gt;C&lt;/p&gt;\n&lt;p v-show=\"message === 'A'\"&gt;You can see me&lt;/p&gt;\n\n&lt;!--\n4. v-for: render item based on array or object\n --&gt;\n &lt;!-- array: const items = ref([{ message: 'Foo' }, { message: 'Bar' }]) --&gt;\n&lt;li v-for=\"item in items\"&gt;{{ item.message }}&lt;/li&gt;\n&lt;!-- object: const myObject = reactive({ title: 'How to do lists in Vue', author: 'Jane Doe', publishedAt: '2016-04-10' }) \n--&gt;\n&lt;li v-for=\"(value, key, index) in myObject\"&gt;\n  {{ index }}. {{ key }}: {{ value }}\n&lt;/li&gt;\n&lt;!-- for range --&gt;\n&lt;span v-for=\"n in 10\"&gt;{{ n }}&lt;/li&gt;\n&lt;!-- Note: v-for and v-if cannot be used on same element like this:\n    &lt;li v-for=\"todo in todos\" v-if=\"todo.enable\"&gt;{{ todo }}&lt;/li&gt;\nIt should be used as following\n --&gt;\n&lt;template v-for=\"todo in todos\"&gt;\n    &lt;li v-if=\"todo.enable\"&gt;{{ todo }}&lt;/li&gt;\n&lt;/template&gt;\n\n&lt;!--\n5. v-model: bind the value of input html elements to a variable, can be used for &lt;input&gt;, &lt;textarea&gt;, &lt;select&gt;, more can be found: https://vuejs.org/guide/essentials/forms.html\n --&gt;\n&lt;input v-model=\"message\" /&gt;\n&lt;textarea v-model=\"message\" /&gt;\n&lt;select v-model=\"selected\"&gt;\n    &lt;option :value=\"{ number: 123 }\"&gt;123&lt;/option&gt;\n&lt;/select&gt;\n</code></pre></p> </li> </ol>","tags":["Programming"]},{"location":"2025/12/01/vue/#3-vue-components","title":"3. Vue Components","text":"","tags":["Programming"]},{"location":"2025/12/01/vue/#31-option-vs-composition","title":"3.1 Option vs Composition","text":"<p>To create vue components, Vue has 2 syntax styles(difference of the two styles: https://vuejs.org/guide/introduction.html#api-styles):</p> <ul> <li>Option API</li> <li>Composition API(used in this note)</li> </ul>","tags":["Programming"]},{"location":"2025/12/01/vue/#32-components-api","title":"3.2 Components API","text":"","tags":["Programming"]},{"location":"2025/12/01/vue/#321-states-management","title":"3.2.1 States management","text":"<p>Component maintain state variables for rendering. Whenever state variables are changed, Vue rerender the components. The state variables are usually set by events triggered by user interactions on the UI.</p> <p>Create states with <code>ref</code>: <pre><code>&lt;script setup&gt;\n// declare state variable and set state hooks\nimport { ref } from \"vue\"\n\n// declare state variable\nconst count = ref(0)\n\n// set state\nfunction increment(){\n    count.value++;\n}\n&lt;/script&gt;\n\n&lt;template&gt;\n    &lt;!-- Note: use count instead of count.value below --&gt;\n    &lt;button @click=\"increment\"&gt; {{ count }}&lt;/button&gt;\n&lt;/template&gt;\n</code></pre> create states with <code>reactive</code>:</p>","tags":["Programming"]},{"location":"2025/12/01/vue/#322-computed-method","title":"3.2.2 computed method","text":"<p>Vue uses <code>computed</code> to create computed properties of the components. Whenever we have complicated expressions or call functions that rely on state variables or other variables, we can put them in computed properties. The benefit of this is that whenever the components render, computed properties cache these expressions and vue does not need to re-evaluate these expressions if their dependencies(i.e: state variables) does not change during this render.</p> <p><code>Compute</code> example: <pre><code>&lt;script setup&gt;\nimport { reactive, computed } from 'vue'\n\nconst author = reactive({\n  name: 'John Doe',\n  books: [\n    'Vue 2 - Advanced Guide',\n    'Vue 3 - Basic Guide',\n    'Vue 4 - The Mystery'\n  ]\n})\n\n// use1: publishedBooksMessage is cached if author is not changed\nconst publishedBooksMessage = computed(() =&gt; {\n  return author.books.length &gt; 0 ? 'Yes' : 'No'\n})\n\n// use2: compute properties can reuse previous value\nconst publishedBooksMessage = computed({\n    // be aware: don't make get return previous the first time to load\n    //           publishedBooksMessage\n    get(previous){\n        if(author.books.length &gt; 0)\n            return author.books.length &lt; 100 ? 'Yes' : 'No'\n        return previous\n    }\n})\n&lt;/script&gt;\n\n&lt;template&gt;\n  &lt;p&gt;Has published books:&lt;/p&gt;\n  &lt;span&gt;{{ publishedBooksMessage }}&lt;/span&gt;\n&lt;/template&gt;\n</code></pre></p>","tags":["Programming"]},{"location":"2025/12/01/vue/#323-watch-method","title":"3.2.3 watch method","text":"<p><code>watch</code> creates callback behavior when a state variable changes. The callback behavior includes: manipulate DOM, change another state, perform async operations. The first argument of <code>watch</code> can be ref, reactive, getter function or an array of previous types, the second argument is a function or async function. <code>watch</code> callback by default happens \u00a0after\u00a0parent component updates (if any), and\u00a0before\u00a0the owner component's DOM updates.</p> <pre><code>&lt;script setup&gt;\nconst x = ref(\"hello world\")\nconst y = reactive({ y: 0})\n\n// 1. single ref\nwatch(x, (newX, oldX) =&gt; {\n    console.log(`newX: ${newX}, oldX: ${oldX}`)\n})\n\n// 2. reactive object\nwatch(y, (newY, oldY) =&gt; {\n    console.log(`newY: ${newY.y}`)\n})\n// only watch a specific field of y, trigger if y.y is replaced\nwatch(()=&gt;y.y, (newY, oldY) =&gt; {\n    console.log(newY)\n})\n// say y.y is an object, this triggers if y.y mutates and not just replaced\nwatch(()=&gt;y.y, (newY, oldY) =&gt;{\n    console.log(newY)\n}, {deep: true})\n\n// 3. getter method, can contain state/props/computed variables\nwatch(\n    ()=&gt; x.value + y.y.toString(),\n    (curr, prev) =&gt; console.log(curr)\n)\n\n// 4. array of sources\nwatch([x, ()=&gt; y.y], ([newX, newY])=&gt;{\n    console.log(`x is ${newX}, y is ${newY}`)\n})\n\n// 5. async hook\nwatch(()=&gt; y.y, async (newY, oldY)=&gt;{\n    x.value = \"loading\";\n    try{\n        const res = await fetch('https://yesno.wtf/api')\n        x.value = (await res.json()).answer\n    }catch(err){\n        x.value = \"hello world\";\n    }\n})\n\n// 6. 3rd arg: immediate\n//    by default, watch callback executes only when watched source changes, we can force callback to be executed right after the watched source is created in addition to when it changes by passing immediate\nwatch(x, (newX, oldX) =&gt; {\n    console.log(`newX: ${newX}, oldX: ${oldX}`)\n}, { immediate: true })\n\n// 7. 3rd arg: once\n//   make watch callback executes only once when watched souce changes\nwatch(x,(newValue, oldValue) =&gt; {\n},{ once: true })\n\n&lt;/script&gt;\n</code></pre> <p><code>watchEffect</code>: automatically track callback dependencies instead of having to explicily maintain in <code>watch</code>. It's equivalent to pass <code>{immediate: true}</code> into <code>watch</code>. It can be more efficient then <code>watch</code> when there are multiple dependency variables and we track properties within these variables. <pre><code>&lt;script setup&gt;\n// can track state variables/props/computed variables\nwatchEffect(async () =&gt; {\n    const response = await fetch(`https://jsonplaceholder.typicode.com/todos/${y.y}`)\n})\n    x.value = await response.json();\n&lt;/script&gt;\n</code></pre></p>","tags":["Programming"]},{"location":"2025/12/01/vue/#324-usetemplateref","title":"3.2.4 useTemplateRef","text":"<p><code>useTemplateRef</code> allows us to reference a specific element within the current component in javascript. We can only use this reference variable after the component is mounted(i.e: we can use it in <code>onMount</code> or callbacks in <code>watch</code>)</p> <p>Reference element within current component: <pre><code>&lt;script setup&gt;\nimport { useTemplateRef, onMounted } from 'vue'\n\n// 2. reference the element through reference name in useTemplateRef\nconst input = useTemplateRef('my-input')\n\nonMounted(() =&gt; {\n  // 3. Use the reference in onMounted hook\n  input.value.focus()\n})\n&lt;/script&gt;\n\n&lt;template&gt;\n    &lt;!-- 1. define the reference name within the ref attribute --&gt;\n  &lt;input ref=\"my-input\" /&gt;\n&lt;/template&gt;\n</code></pre></p> <p>Reference element within child component(use <code>defineExpose</code>):</p> ChildComponent.vueParentComponent.vue <pre><code>&lt;script setup&gt;\nimport { useTemplateRef } from 'vue'\n\n// 2. reference the element through reference name in useTemplateRef\nconst myInput = useTemplateRef('my-input')\n\n// 3. Expose the ref\ndefineExpose({\n\u00a0 myInput\n})\n&lt;/script&gt;\n\n&lt;template&gt;\n    &lt;!-- 1. define the reference name within the ref attribute --&gt;\n  &lt;input ref=\"my-input\" /&gt;\n&lt;/template&gt;\n</code></pre> <pre><code>&lt;script setup&gt;\nimport { useTemplateRef, onMounted } from 'vue'\n\n// 5. reference the element through reference name in useTemplateRef\nconst childRef = useTemplateRef('child-ref')\n\n// 6. Use the childcomponent input reference in onMount\nonMounted(()=&gt;{\n    const childComponentInput = childRef.value.myInput\n    input.value.focus()\n})\n\n&lt;/script&gt;\n\n&lt;template&gt;\n    &lt;!-- 4. define the reference name within the ref attribute --&gt;\n  &lt;ChildComponent ref=\"child-ref\" /&gt;\n&lt;/template&gt;\n</code></pre> <p>Reference element within parent component: impossible with <code>useTemplateRef</code></p>","tags":["Programming"]},{"location":"2025/12/01/vue/#33-special-components","title":"3.3 Special components","text":"","tags":["Programming"]},{"location":"2025/12/01/vue/#331-components-with-async-setup","title":"3.3.1 Components with async setup","text":"<p>We can await an async function in <code>&lt;script setup&gt;</code> before rendering a component. To ensure an async operation is waited before rendering, we need to ensure <code>&lt;Suspense&gt;</code> exists in the parent chain of this component. </p> <p>Ex:</p> MyAsyncComponent.vueApp.vue <pre><code>&lt;script setup&gt;\nconst data = ref(\"hello world\")\ndata.value = await fetch(\"\")\n&lt;/script&gt;\n&lt;tenplate&gt;\n    {{ data }}\n&lt;/template&gt;\n</code></pre> <pre><code>&lt;template&gt;\n    &lt;MyAsyncComponent /&gt;\n&lt;/template&gt;\n</code></pre>","tags":["Programming"]},{"location":"2025/12/01/vue/#332-async-component","title":"3.3.2 Async Component","text":"<p>When we use <code>defineAsyncComponent</code>, we typically use it with <code>import()</code> function to lazy load heavy components. <code>import()</code>makes network request to retrieve the components' javascript bundle when the component is rendered combining with <code>v-if</code>(when condition of <code>v-if</code> is true). On the other hand, if we use <code>import ... from '...'</code> to load the component, we always load the heavy components eagerly when the page is loading. Some use cases of <code>AsyncComponent</code>:</p> <ul> <li>heavy components with <code>v-if</code> condition to be false or not immediately visible when loading the page</li> <li>router page that is not loaded.</li> </ul> <p>Use Case 1(defer loading heavy):</p> AsyncComponent.vueLoadingComponent.vue <pre><code>&lt;script setup&gt;\nimport { ref } from \"vue\"\nimport LoadingComponent from \"./Components/LoadingComponent\"\n\nconst loadingStatus = ref(false)\n\nfunction updateloadingStatus(){\n    loadingStatus.value = !loadingStatus.value\n}\n\nconst HeavyComponent = defineAsyncComponent({\n    loader: () =&gt; import(\"./Components/HeavyComponent\"),\n    loadingComponent: LoadingComponent\n})\n&lt;/script&gt;\n&lt;template&gt;\n    &lt;HeavyComponent v-if=\"loadingStatus\" /&gt;\n    &lt;button @click=\"loadingStatus\"&gt;Load&lt;/button&gt;\n&lt;/template&gt;\n</code></pre> <pre><code>&lt;template&gt;\n\u00a0 &lt;div class=\"loading-overlay\"&gt;\n\u00a0 \u00a0 &lt;div class=\"loader\"&gt;&lt;/div&gt;\n\u00a0 &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;style scoped&gt;\n.loading-overlay {\n/* Position the overlay fixed to cover the entire viewport */\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n\u00a0/* Set background color to gray with some opacity */\n    background-color: rgba(128, 128, 128, 0.5); /* Gray with 50% opacity */\n\u00a0/* Ensure it is on top of all other content */\n    z-index: 9999;\n\u00a0/* Center the loader within the overlay */\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n/* Optional: Add a simple CSS spinner */\n.loader {\n\u00a0 border: 8px solid #f3f3f3; /* Light gray border */\n\u00a0 border-top: 8px solid #3498db; /* Blue border for the spinner effect */\n\u00a0 border-radius: 50%;\n\u00a0 width: 50px;\n\u00a0 height: 50px;\n\u00a0 animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n\u00a0 0% { transform: rotate(0deg); }\n\u00a0 100% { transform: rotate(360deg); }\n}\n&lt;/style&gt;\n</code></pre> <p>use case 2(router): <pre><code>&lt;script setup&gt;\nimport { defineAsyncComponent } from 'vue';\n\nconst AsyncAbout = defineAsyncComponent({\n  loader: () =&gt; import('./views/About.vue'),\n  loadingComponent: { template: '&lt;div&gt;Loading About...&lt;/div&gt;' }, // Optional loading component\n  errorComponent: { template: '&lt;div&gt;Error loading About!&lt;/div&gt;' }, // Optional error component\n  delay: 200, // Optional delay before showing loading component (ms)\n  timeout: 3000 // Optional timeout for loading (ms)\n});\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: [\n    {\n      path: '/',\n      name: 'Home',\n      component: () =&gt; import('./views/Home.vue')\n    },\n    {\n      path: '/about',\n      name: 'About',\n      component: AsyncAbout // Using the defined async component\n    }\n  ]\n});\n\nexport default router;\n&lt;/script&gt;\n</code></pre></p> <p>Use case 3(use with <code>&lt;Suspense&gt;</code>): Suppose we have a component nested with different async components or components with async setup. Without Suspense, we will see each components loading spinner at a time when each of them handle their loaded state. The\u00a0<code>&lt;Suspense&gt;</code>\u00a0component gives us the ability to display top-level loading / error states while we wait on these nested async dependencies to be resolved. <pre><code>&lt;script setup&gt;\nimport AsyncSetUpComponent from \"./Components/AsyncSetUpComponent\"\nconst HeavyComponent = defineAsyncComponent({\n    loader: () =&gt; import(\"./Components/HeavyComponent\"),\n    loadingComponent: LoadingComponent\n})\n&lt;/script&gt;\n&lt;template&gt;\n    &lt;Suspense&gt;\n        &lt;!-- below elements go to default slot of Suspense --&gt;\n        &lt;AsyncSetUpComponent /&gt;\n        &lt;HeavyComponent /&gt;\n\n        &lt;!-- loading go to fallback slot of Suspense--&gt;\n        &lt;template #fallback&gt; Loading... &lt;/template&gt;\n    &lt;/Suspense&gt;\n&lt;/template&gt;\n</code></pre></p>","tags":["Programming"]},{"location":"2025/12/01/vue/#333-component","title":"3.3.3 <code>&lt;Component&gt;</code>","text":"","tags":["Programming"]},{"location":"2025/12/01/vue/#334-suspense","title":"3.3.4 <code>&lt;Suspense&gt;</code>","text":"","tags":["Programming"]},{"location":"2025/12/01/vue/#34-common-patterns","title":"3.4 Common patterns","text":"","tags":["Programming"]},{"location":"2025/12/01/vue/#341-props-expose","title":"3.4.1 Props &amp; Expose","text":"<p>When we pass parameters from parent to child:</p> Parent.vueChild.vue <pre><code>&lt;template&gt;\n    &lt;ChildComponent :foo=\"'hello world'\" /&gt;\n&lt;/template&gt;\n</code></pre> <pre><code>&lt;script setup&gt;\nconst props = defineProps(['foo'])\nwatch(()=&gt; props.foo, (newFoo) =&gt; console.log(newFoo))\n&lt;/script&gt;\n</code></pre> <p>When we pass parameters from chilld to parent:</p> Child.vueParent.vue <pre><code>&lt;script setup&gt;\nconst msg = ref(\"hello world\")\ndefineExpose({ msg })\n&lt;/script&gt;\n</code></pre> <pre><code>&lt;script setup&gt;\nimport { useTemplateRef, onMounted } from 'vue'\nconst childRef = useTemplateRef('child-ref')\nonMounted(()=&gt;{\n    const msg = childRef.value.msg\n})\n\n&lt;/script&gt;\n\n&lt;template&gt;\n  &lt;ChildComponent ref=\"child-ref\" /&gt;\n&lt;/template&gt;\n</code></pre>","tags":["Programming"]},{"location":"2025/12/01/vue/#342-event-emit","title":"3.4.2 Event emit","text":"<p>In order to control the parent component behavior from child component or set the state of parent component or let parent component execute something, we can create an event on child component and bind the event with a function from parent component. Then we control when to emit events inside child component to trigger.</p> <p>Example: we want to create a toggle button that can control the theme of the layout</p> Child.vueParent.vue <pre><code>&lt;script setup&gt;\nconst emit = defineEmits(['colorToggle'])\n\nfunction toggleColor(){\n    emit(\"colorToggle\")\n}\n&lt;/script&gt;\n&lt;template&gt;\n    &lt;button @click=\"toggleColor\"&gt;\n        Enable Night Mode\n    &lt;/button&gt;\n&lt;/template&gt;\n</code></pre> <pre><code>&lt;script setup&gt;\nconst isNightMode = ref(false)\n\nfunction enableNightMode(){\n    isNightMode.value = !isNightMode.value\n}\n&lt;/script&gt;\n&lt;template&gt;\n    &lt;div&gt;\n        {{ isNightMode ? \"Night\" : \"Day\" }}\n    &lt;/div&gt;\n    &lt;ToggleButton @colorToggle=\"enableNightMode\" /&gt;\n&lt;/template&gt;\n</code></pre> <p>pass arguments to events:</p> Child.vueParent.vue <pre><code>&lt;script setup&gt;\nconst emit = defineEmits(['my-custom-event'])\n\nfunction emitEvent(){\n    const payload = { msg: \"hello\" }\n    emit(\"my-custom-event\", payload )\n}\n&lt;/script&gt;\n&lt;template&gt;\n    &lt;button @click=\"emitEvent\"&gt;Emit&lt;/button&gt;\n&lt;/template&gt;\n</code></pre> <pre><code>&lt;script setup&gt;\n\nfunction eventHandler(payload){\n    console.log(payload)\n}\n&lt;/script&gt;\n&lt;template&gt;\n    &lt;div&gt;\n        {{ isNightMode ? \"Night\" : \"Day\" }}\n    &lt;/div&gt;\n    &lt;ChildComponent @my-custom-event=\"eventHandler\" /&gt;\n&lt;/template&gt;\n</code></pre>","tags":["Programming"]},{"location":"2025/12/01/vue/#343-provideinject","title":"3.4.3 provide/inject","text":"<p>provide/inject is the way to set shared data for all of its descendant components(not just parent/child) to access. It saves the need to pass props when there is a long chain between an ancestor and descendant.</p> Ancestor.vueDescendant.vue <pre><code>&lt;script setup&gt;\nimport { provide, ref } from 'vue'\n// use provide() to provide data to all its descendant\n// first arg is key to retrieve in descendant, second arg is value\nprovide('key1','hello!')\n\nconst counter = ref(0)\nfunction updateCounter(){\n    counter.value += 1\n}\n// classic use\nprovide('key2', { counter, updateCounter})\n&lt;/script&gt;\n</code></pre> <pre><code>&lt;script setup&gt;\nimport { inject } from 'vue'\n\n// use inject to retrieve the keys from `provide`\nconst { counter, updateCounter } = inject('key2')\n&lt;/script&gt;\n\n&lt;template&gt;\n  &lt;button @click=\"updateCounter\"&gt;{{ counter }}&lt;/button&gt;\n&lt;/template&gt;\n</code></pre>","tags":["Programming"]},{"location":"2025/12/01/vue/#344-slot","title":"3.4.4 Slot","text":"<p>Parents can pass html elements into children components for rendering through slots.</p> <p>Basic:</p> Child.vueParent.vue <pre><code>&lt;template&gt;\n    &lt;!-- slot pair will be replaced by html elements passed by parent--&gt;\n    &lt;button&gt;&lt;slot&gt;defalt content&lt;/slot&gt;&lt;/button&gt;\n&lt;/template&gt;\n</code></pre> <pre><code>&lt;template&gt;\n    &lt;!-- pass msg value--&gt;\n    &lt;ChildComponent&gt;{{ msg }}&lt;/ChildComponent&gt;\n    &lt;!-- pass Html --&gt;\n    &lt;ChildComponent&gt;\n        &lt;span&gt;Hello world&lt;/span&gt;\n    &lt;ChildCompnent&gt;\n    &lt;!-- when pass nothing, anything appears inside slot will appear--&gt;\n    &lt;ChildComponent /&gt;\n&lt;/template&gt;\n</code></pre> <p>Multiple slots:</p> Children.vueParent.vue <pre><code>&lt;template&gt;\n  &lt;div class=\"card\"&gt;\n    &lt;div v-if=\"$slots.header\" class=\"card-header\"&gt;\n      &lt;slot name=\"header\" /&gt;\n    &lt;/div&gt;\n\n    &lt;div v-if=\"$slots.default\" class=\"card-content\"&gt;\n      &lt;slot /&gt;\n    &lt;/div&gt;\n\n    &lt;div v-if=\"$slots.footer\" class=\"card-footer\"&gt;\n      &lt;slot name=\"footer\" /&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n</code></pre> <pre><code>&lt;template&gt;\n    &lt;ChildrenComponent&gt;\n        &lt;template v-slot:header&gt;\n            &lt;!-- Content for header slot --&gt;\n        &lt;/template&gt;\n    &lt;/ChildrenComponent&gt;\n    &lt;ChildrenComponent&gt;\n        &lt;template #header&gt;\n            &lt;!-- Content for header slot --&gt;\n        &lt;/template&gt;\n    &lt;/ChildrenComponent&gt;\n    &lt;ChildrenComponent&gt;\n      &lt;template #header&gt;\n        &lt;h1&gt;Here might be a page title&lt;/h1&gt;\n      &lt;/template&gt;\n\n      &lt;!-- implicit default slot --&gt;\n      &lt;p&gt;A paragraph for the main content.&lt;/p&gt;\n      &lt;p&gt;And another one.&lt;/p&gt;\n\n      &lt;template #footer&gt;\n        &lt;p&gt;Here's some contact info&lt;/p&gt;\n      &lt;/template&gt;\n    &lt;/ChildrenComponent&gt;\n&lt;/template&gt;\n</code></pre>","tags":["Programming"]},{"location":"2025/12/01/vue/#345-life-hook","title":"3.4.5 Life hook","text":"<ul> <li>onMounted: hook after the the vue component is mounted, can take sync/async hook, commonly used to fetch api for data when page is loading, add event listener to window</li> <li>onUnmounted: hook after the vue component is unmounted</li> <li>onUpdated: hook after state change but before DOM updates on page in browser</li> <li>nextTick: hook after the DOM updates on page in browser</li> </ul> <p>order of hook: onMounted(parent) -&gt; onMounted(children)</p>","tags":["Programming"]},{"location":"2025/12/01/vue/#4-optimization","title":"4. Optimization","text":"","tags":["Programming"]},{"location":"2025/12/01/vue/#5-other-classes","title":"5. Other classes","text":"","tags":["Programming"]},{"location":"2025/12/01/vue/#51-composable-function","title":"5.1 Composable function","text":"<p>Composable functions can encapsulate anything you defined in vue <code>&lt;script setup&gt;</code>, including state variables, computed properties, ref elements, prop variable, lifecycle hook, watched callback, customized functions. And they can return state variables &amp; customized functions.</p> <p>Commonly, we create composable functions to take a state variable as input and use watch method to watch that input variable. Examples like fetching data from a url below:</p> Composable.vueApp.vue <pre><code>&lt;script setup&gt;\nimport { ref, watchEffect, toValue } from 'vue'\n\nexport function useFetch(url) {\n  const data = ref(null)\n  const error = ref(null)\n  const fetchData = () =&gt; {\n    // reset state before fetching..\n    data.value = null\n    error.value = null\n\n    fetch(toValue(url))\n      .then((res) =&gt; res.json())\n      .then((json) =&gt; (data.value = json))\n      .catch((err) =&gt; (error.value = err))\n  }\n\n  watchEffect(() =&gt; {\n    fetchData()\n  })\n\n  return { data, error }\n}\n&lt;/script&gt;\n</code></pre> <pre><code>&lt;script setup&gt;\nconst url = ref('/initial-url')\n\nconst { data, error } = useFetch(url)\n\n// this should trigger a re-fetch due to watchEffect inside\nurl.value = '/new-url'\n&lt;/script&gt;\n</code></pre>","tags":["Programming"]},{"location":"2025/12/01/vue/#52-custom-directive","title":"5.2 Custom directive","text":"<p>We create custom directive when we want to manipulate a specific DOM directly. We typically define it to focus on an element, integrate with a library that manipulates DOM(charting lib, make an element drag and drop), add event handling.</p> <p>More: https://vuejs.org/guide/reusability/custom-directives.html</p>","tags":["Programming"]},{"location":"2025/12/01/vue/#6-vue-router","title":"6. Vue Router","text":"","tags":["Programming"]},{"location":"2025/12/01/vue/#61-navigate-to-a-url","title":"6.1 Navigate to a URL","text":"","tags":["Programming"]},{"location":"2025/12/01/vue/#62-back-and-refresh","title":"6.2 Back and refresh","text":"","tags":["Programming"]},{"location":"2025/12/01/vue/#7-pinia","title":"7. Pinia","text":"<p>Pinia is the newest library that has replaced Vuex. Pinia can implement a global store across the entire application where every components can access. Without Pinia, we can still implement this global store, but it may not work in SSR environment.</p>","tags":["Programming"]},{"location":"2025/12/01/vue/#8-default-config","title":"8. Default Config","text":"","tags":["Programming"]},{"location":"2025/12/01/vue/#81-fallthrough-attributes","title":"8.1 Fallthrough attributes","text":"","tags":["Programming"]},{"location":"2025/12/01/vue/#9-popular-libraries","title":"9. Popular librariesShare this post:","text":"<ul> <li>element UI</li> <li>Vuetify</li> </ul> <p>Share on  Share on </p>","tags":["Programming"]},{"location":"2025/05/01/flutter/","title":"Flutter","text":"<p>This is my flutter note.</p>","tags":["Programming"]},{"location":"2025/05/01/flutter/#0-setup","title":"0. SetUp","text":"","tags":["Programming"]},{"location":"2025/05/01/flutter/#1-flutter-sdk","title":"1. Flutter sdk","text":"<ol> <li> <p>config environment var in PATH: <code>&lt;Flutter_Directory&gt;/bin</code></p> </li> <li> <p>After installing flutter, execute: <code>flutter doctor</code> to verify</p> </li> </ol>","tags":["Programming"]},{"location":"2025/05/01/flutter/#2-android-studio","title":"2. Android Studio","text":"<p>\u9636\u6bb5\u4e00: \u521b\u5efa\u6a21\u62df\u5668\u8bbe\u5907</p> <ol> <li> <p>Create device:</p> </li> <li> <p>Choose system:</p> </li> <li> <p>Use graphic card:</p> </li> <li> <p>advanced setting\u91cc\u8981\u8bbe\u7f6ecold boot</p> </li> </ol> <p>\u9636\u6bb5\u4e8c: \u5b89\u88c5\u63d2\u4ef6</p> <ol> <li>market\u641c\u7d22flutter</li> </ol> <p>\u9636\u6bb5\u4e09: \u5728emulator\u91cc\u6253\u5f00\u9879\u76ee</p> <ol> <li> <p>\u9009\u62e9\u9879\u76ee:</p> </li> <li> <p>\u7b2c\u4e00\u6b21\u6253\u5f00\u65f6\uff0c\u4f1a\u8ba9\u4f60\u914d\u7f6edart\u8def\u5f84</p> </li> <li></li> <li> <p>\u518d\u542f\u52a8</p> </li> </ol>","tags":["Programming"]},{"location":"2025/05/01/flutter/#1-concept-overview","title":"1. Concept Overview","text":"<p>Mobile UI Layout(widget tree)</p> <ul> <li>root widget</li> <li>App bar widget</li> <li>Container widget</li> </ul> <p>Other widgets:</p> <ul> <li>text widget</li> <li>button widget</li> <li>row widget</li> <li>column widget</li> <li>Image Widget</li> </ul>","tags":["Programming"]},{"location":"2025/05/01/flutter/#2-dart","title":"2. Dart","text":"","tags":["Programming"]},{"location":"2025/05/01/flutter/#1-data-type","title":"1. Data type","text":"<p>Dart is a statically language, once we assign the type, we cannot assign a value of different type to it but u can change the type through keyword <code>dynamic</code>, basic types:</p> <ul> <li> <p><code>String</code></p> </li> <li> <p><code>int</code></p> </li> <li> <p><code>bool</code></p> </li> <li> <p><code>List</code></p> </li> <li> <p><code>class</code></p> </li> </ul> <pre><code>List name = [\"chun-li\", \"yoshi\", \"mario\"];\n\nname.add(\"luigi\");\nnames.remove(\"yoshi\")\n// Pure List can add different data type, so we can specify the content type by following lines\nnames.add(30)\n\nList&lt;Sting&gt; stringList = []\n</code></pre>","tags":["Programming"]},{"location":"2025/05/01/flutter/#2-demo-code","title":"2. Demo code","text":"<ul> <li>Create a class object:</li> </ul> <pre><code>class User {\n    String username = \"hi\";\n    int age = 5;\n\n    User(String s, int a){\n        this.username = s;\n        this.age = a;\n    }\n\n    void login(){\n        print(\"logged in\");\n    }\n}\n\nvoid main(){\n    User u = User(\"jack\", 2);\n    // the apprpriate way to call constructor is: User u = User(s: \"jack\", a: 2);\n    print(u.username);\n    u.login()\n}\n</code></pre> <ul> <li>Inheritance:</li> </ul> <pre><code>class SuperUser extends User {\n    // calls the constructor from the super class\n    SuperUser(String username, int age): super(username, age);\n\n    void publish(){\n        print(\"published\")\n    }\n}\n\nvoid main(){\n    SuperUser su = SuperUser(\"jack\", 2);\n    su.publish();\n    su.login();\n}\n</code></pre> <ul> <li>function:</li> </ul> <pre><code>String greeting(){\n    return \"hello\";\n}\n</code></pre> <ul> <li>use of <code>dynamic</code>:</li> </ul> <pre><code>void main(){\n    dynamic name = 'chun-li';\n    name = 30;\n    print(name);\n}\n</code></pre> <ul> <li>for loop:</li> </ul> <pre><code>void main(){\n    for(int i = 0; i &lt; 5; i++){\n        print('hello ${i + 1}')\n    }\n}\n</code></pre>","tags":["Programming"]},{"location":"2025/05/01/flutter/#3-widget-concepts","title":"3. Widget Concepts","text":"<ul> <li>Stateless Widget vs Stateful widget:</li> <li>Stateless: the state of the widget cannot change over time</li> <li>Stateful: the state of the widget can change over time</li> </ul> <p>Widget hierachy:</p> <p>MaterialApp</p> <p>Scaffold</p> <p>AppBar</p> <p>Body</p> <p>Container</p> <p>Padding</p> <ul> <li>Container widget: </li> </ul> <p>It's a box. When it has no child, it will occupy the whole parent widget. When it has a child, it will occupy the same size as its child(such as text widget if its child is Text widget)</p> <ul> <li>padding(property): example below</li> </ul> <pre><code>Container(\n    padding: EdgeInsets.symmetric(horizontal: 30.0, vertical: 10.0)\n    // padding: EdgeInsets.fromLTRB(10.0, 20.0, 30.0, 40.0)\n)\n</code></pre> <ul> <li>Scaffold</li> <li>Padding</li> <li>AppBar</li> <li>MaterialApp</li> <li>StatelessWidget</li> <li>StatefulWidget</li> <li>Row</li> <li>Column</li> </ul> <p>method of Widget class:</p> <ul> <li>build:(This function helps hot reload)</li> </ul> <pre><code>class Home extends StatelessWidget{\n    @Override\n    Widget build(BuildContext context){}\n}\n</code></pre> <p>Property of Widget class:</p> <ul> <li>child: <code>&lt;Widget&gt;</code> type</li> </ul>","tags":["Programming"]},{"location":"2025/05/01/flutter/#4-stateful-widget","title":"4. Stateful Widget","text":"<p>Demo:</p> <pre><code>// step2: create the factory class for that widget\nclass Test extends StatefulWidget {\n    @override\n    _TestState createState() =&gt; _TestState();\n}\n\n// step1: create the stateful widget class and let it extends State\nclass _TestState extends State&lt;Test&gt; {\n    int state1;\n    String state2;\n    // .. any other states, and then use setState((){...}) to change state inside \n    // build function\n    @override\n    Widget build(BuildContext context){\n        return Container();\n        // return how you define the Test Widget\n    }\n}\n</code></pre>","tags":["Programming"]},{"location":"2025/05/01/flutter/#5-define-route-rules","title":"5. Define Route rules","text":"<p>Route demo:</p> <p>Suppose the file folder is as following:</p> <p>world_time</p> <p>android</p> <p>ios</p> <p>lib</p> <p>pages</p> <p>Home.dart</p> <p>ChooseLocation.dart</p> <p>Loading.dart</p> <p>main.dart</p> <p>how to define routes in main.dart:</p> <pre><code>import \"package:flutter/material.dart\";\nimport \"package:world_time/pages/home.dart\";\nimport \"package:world_time/pages/Loading.dart\";\nimport \"package:world_time/pages/ChooseLocation.dart\";\n\nvoid main() =&gt; runApp(MaterialApp(\n    home: Home();\n    routes: {\n        \"/\": (context) =&gt; Loading(),\n        \"/home\": (context) =&gt; Home(),\n        \"/location\": (context) =&gt; ChooseLocation()\n    }\n))\n</code></pre>","tags":["Programming"]},{"location":"2025/05/01/flutter/#6-navigate-route-button","title":"6. Navigate route button","text":"<p>use the function<code>Navigator.pushNamed</code></p> <pre><code>class _HomeState extends State&lt;Home&gt; {\n    @override\n    Widget build(BuildContext context){\n        return Scaffold(\n            body: SafeArea(\n                child: Column(\n                    children: &lt;Widget&gt;[\n                        FlatButton.icon(\n                            onPressed: (){\n                                Navigator.pushNamed(context, \"/location\")\n                            },\n                            icon: Icon(Icons.edit_location),\n                            label: Text(\"edit location\")\n                        )\n                    ]\n                )\n            )\n        )\n    }\n}\n</code></pre>","tags":["Programming"]},{"location":"2025/05/01/flutter/#7-the-behind-routing-mechanism","title":"7. The behind routing mechanism","text":"<p>https://www.youtube.com/watch?v=WG5tJIAq5b0&amp;list=PL4cUxeGkcC9jLYyp2Aoh6hcWuxFDX6PBJ&amp;index=23</p>","tags":["Programming"]},{"location":"2025/05/01/flutter/#8-widget-lifecycle","title":"8. Widget Lifecycle","text":"<p>Stateless:</p> <ul> <li>State does not change over time</li> <li>build function only runs once</li> </ul> <p>Stateful:</p> <ul> <li>State can change over time</li> <li>setState() triggers the build function</li> </ul> <p>Stateful:</p> <p>initState -&gt; Build -&gt; setState -&gt; Build -&gt; dispose</p>","tags":["Programming"]},{"location":"2025/05/01/flutter/#9-async-code","title":"9. Async code","text":"<p>https://www.jianshu.com/p/cec4e117fce4</p> <p>demo:</p> <pre><code>void getData() async {\n    String username = await Future.delayed(Duration(seconds: 3), (){\n        return \"hi\";\n    });\n    String bio = await Future.delayed(Duration(seconds: 2), (){\n        return \"hello\";\n    });\n    print('${username} - ${bio}');\n}\n</code></pre>","tags":["Programming"]},{"location":"2025/05/01/flutter/#3-config","title":"3. ConfigShare this post:","text":"<ul> <li>./publicspec.yaml</li> </ul> <p>Share on  Share on </p>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/","title":"Typescrpt","text":"<p>This is my typescript note.</p> <p>resource</p>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#_1","title":"\u4e00. \u57fa\u672c","text":"","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#1-tsjs","title":"1. TS\u4e0eJS\u7684\u533a\u522b\u4e0e\u8054\u7cfb:","text":"<p>ts\u589e\u52a0\u4e86:</p> <ul> <li>\u7c7b\u578b</li> <li>ES\u65b0\u7279\u6027\u548cES\u4e0d\u5177\u5907\u7684\u7279\u6027</li> </ul> <p>\u8054\u7cfb:</p> <ul> <li>\u6240\u6709js\u4ee3\u7801\u53ef\u88abts\u89e3\u6790, ts\u662fjs\u7684\u8d85\u96c6</li> </ul>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#2","title":"2. \u5f00\u53d1\u73af\u5883\u642d\u5efa","text":"<ol> <li>\u4f7f\u7528npm\u5b89\u88c5Typescript: \u4e00\u4e0b\u4f9d\u8d56:</li> <li><code>npm i -g typescript ts-loader</code>(\u7528\u4e8e\u5c06typescript\u7f16\u8bd1\u6210js)</li> <li><code>npm i -g ts-node</code>\u53ef\u4ee5\u8df3\u8fc7\u7f16\u8bd1\u9636\u6bb5\u76f4\u63a5\u6267\u884cts\u4ee3\u7801(\u53ef\u72ec\u7acb\u4e0e\u4e0a\u9762\u7684\u4f9d\u8d56, \u5373\u4e0d\u88c5\u4e0a\u9762\u4ee5\u6765\u53ea\u88c5ts-node)</li> <li>(*\u53ef\u80fd)\u82e5\u5728powershell\u91cc\u4f7f\u7528<code>tsc -v</code>\u51fa\u73b0\u5728<code>\u5728\u6b64\u7cfb\u7edf\u4e0a\u7981\u7528\u811a\u672c</code>, \u5148<code>get-ExecutionPolicy</code>\u67e5\u770b\u662f\u5426\u4e3arestricted, \u518d\u4ee5\u7ba1\u7406\u5458\u8eab\u4efd<code>set-ExecutionPolicy RemoteSigned</code>\u5e76\u6572y\u6216a,\u89e3\u51b3\u8be5\u95ee\u9898</li> </ol>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#3-typescript","title":"3. \u521b\u5efa\u4e00\u4e2atypescript\u5e94\u7528","text":"<p>\u8fd0\u884cts\u6587\u4ef6\u65b9\u5f0f\u4e00:</p> <ol> <li>\u521b\u5efa\u4e00\u4e2a.ts\u7684\u6587\u4ef6</li> <li>\u8fdb\u5165\u6240\u5728\u6587\u4ef6\u5939\uff0c\u4f7f\u7528 <code>tsc \u6587\u4ef6\u540d.ts</code>\u7f16\u8bd1\u5c31\u4f1a\u751f\u6210.js\u6587\u4ef6</li> <li>\u518d\u7528node\u8fd0\u884c\u90a3\u4e2ajs\u6587\u4ef6\u5373\u53ef</li> </ol> <p>\u8fd0\u884cts\u6587\u4ef6\u65b9\u5f0f\u4e8c:</p> <ol> <li>\u76f4\u63a5<code>ts-node \u6587\u4ef6\u540d.ts</code>\u5373\u53ef\u4e0d\u7528\u7f16\u8bd1\u751f\u6210js\u6587\u4ef6\uff0c\u76f4\u63a5\u8fd0\u884cts\u6587\u4ef6</li> </ol>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#4","title":"4. \u8bed\u6cd5","text":"","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#1","title":"1. \u58f0\u660e\u53d8\u91cf\u7c7b\u578b:","text":"<p>\u53d8\u91cf\u7c7b\u578b:</p> \u7c7b\u578b \u503c \u63cf\u8ff0 number 1, 2 \u6570\u5b57 string boolean literal 1\uff0c \"a\", 1 | \"a\" \u4ee3\u7801\u91cc\u7ed9\u53d8\u91cf\u8d4b\u7684\u4efb\u4f55\u503c\uff0c\u88ab\u8d4b\u503c\u7684\u53d8\u91cf\u4e3a\u5e38\u91cf any * \u4efb\u610f\u7c7b\u578b unknown * \u7c7b\u578b\u5b89\u5168\u7684any void \u7a7a\u503c(undefined) \u6ca1\u6709\u503c(\u6216undefined) never \u6ca1\u6709\u503c \u4e0d\u80fd\u662f\u503c object {a: 'a'} \u4efb\u610f\u7684js\u5bf9\u8c61 array [1,2] \u5217\u8868 tuple [4,3] \u56fa\u5b9a\u957f\u5ea6\u7684\u5217\u8868 enum \uff08\u53c2\u6570\u540d:\u53c2\u6570\u7c7b\u578b...\uff09=&gt;\u8fd4\u56de\u503c\u7c7b\u578b \u8868\u793a\u4e00\u4e2a\u8be5\u51fd\u6570\u7b7e\u540d\u7684\u51fd\u6570\u7c7b\u578b class <p>\u8054\u5408\u7c7b\u578b:</p> <p>\u53d8\u91cf\u58f0\u660e\u65f6\u4f7f\u7528 <code>|</code> \u5206\u9694\u4e24\u4e2a\u4e0d\u540c\u7684\u7c7b\u578b: A\u548cB\uff0c\u8868\u793a\u8be5\u53d8\u91cf\u4e3aA\u7c7b\u578b\u6216B\u7c7b\u578b</p> <p>\u5982\u4f55\u58f0\u660e</p> <pre><code>/*\u53d8\u91cf\u540d: \u53d8\u91cf\u7c7b\u578b, \u793a\u4f8b\u5982\u4e0b:*/\nlet a: number\nconst a: number = 1\nfunction sum(b: number, c: number): number{...}\n</code></pre> <p>\u5982\u4f55\u58f0\u660e\u4e00\u4e2aclass:</p> <pre><code>class \u7c7b\u540d {\n    \u5c5e\u6027\u540d: \u7c7b\u578b\n    static \u5c5e\u6027\u540d: \u7c7b\u578b /*\u8868\u793a\u9759\u6001\u5c5e\u6027*/\n    constructor(\u53c2\u6570: \u7c7b\u578b){\n        this.\u5c5e\u6027\u540d = \u53c2\u6570\n    }\n\n    \u65b9\u6cd5\u540d(){...}\n}\n</code></pre> <p>\u83b7\u53d6\u4e00\u4e2a\u5bf9\u8c61\u7684\u7c7b\u578b,\u5e76\u8d4b\u7ed9\u4e00\u4e2a\u53d8\u91cf\uff1a</p> <pre><code>type myType = {name: string}\nconst obj: myType = {name: 'sb'}\n</code></pre> <p>\u5b9a\u4e49\u5e76\u4f7f\u7528\u63a5\u53e3:</p> <pre><code>interface A{\n    a: number,\n    sayhello(a: number): void\n};\n\ninterface B {\n    b: number,\n    sayhi(b: number): void\n}\n\nlet a: A = {a: 1, sayhello: ()=&gt;{console.log('hello')}} \n</code></pre> <p>\u5982\u4f55\u4f7f\u7528\u6cdb\u578b:</p> <p>1 \u6cdb\u578b\u5b9a\u4e49\uff1a\u5148\u5728\u53d8\u91cf\u540d\u53f3\u8fb9\u7528\u4e00\u4e2a\u5c16\u62ec\u53f7\u56ca\u62ec\u7528\u5230\u7684\u6cdb\u578b\u5b57\u6bcd\u4ee5\u6b64\u505a\u5230\u58f0\u660e\uff0c\u7136\u540e\u53ef\u4ee5\u5728\u53d8\u91cf\u53f3\u8fb9\u7684\u8d4b\u503c\u8868\u8fbe\u5f0f\u6216\u7c7b\u4f53\u6216\u51fd\u6570\u4f53\u91cc\u50cf\u4f7f\u7528\u7c7b\u578b\u4e00\u6837\u76f4\u63a5\u4f7f\u7528,</p> <p>\u793a\u4f8b\u4e00(\u8d4b\u503c\u8868\u8fbe\u5f0f):</p> <pre><code>type IsExactlyAny&lt;T, S&gt; = boolean extends (T extends S ? true : false) ? true : false;\n</code></pre> <p>\u793a\u4f8b\u4e8c(\u51fd\u6570\u4f53):</p> <pre><code>function f&lt;T&gt;(a: T): T {return a}\n</code></pre> <p>\u793a\u4f8b\u4e09(\u7c7b\u4f53):</p> <pre><code>class Component&lt;P, S&gt;{ a:T}\n</code></pre> <p>\u9650\u5b9a\u6cdb\u578b\u5fc5\u987b\u5305\u542bC\u7684\u5c5e\u6027\u548c\u65b9\u6cd5:</p> <pre><code>interface C{a: number};\ntype IsExactlyAny&lt;T extends C&gt;\n</code></pre> <p>2 \u5f15\u7528\u7531\u6cdb\u578b\u5b9a\u4e49\u7684\u53d8\u91cf:</p> <pre><code>let a = IsExactlyAny&lt;son, father&gt;;\nf(10);                  /*\u4e0d\u6307\u5b9a\u6cdb\u578b\u5f15\u7528*/\nf&lt;string&gt;('hello')      /*\u6307\u5b9a\u6cdb\u578b\u5f15\u7528*/   \n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#2-ts","title":"2. TS\u7f16\u8bd1\u9009\u9879","text":"<ul> <li>\u76d1\u6d4b\u5230ts\u6587\u4ef6\u53d8\u5316\u540e\u81ea\u52a8\u5316\u91cd\u65b0\u7f16\u8bd1: <code>tsc \u6587\u4ef6\u540d.ts -w</code></li> <li>\u4f7f\u7528\u914d\u7f6e\u6587\u4ef6(tsconfig.json)\u7f16\u8bd1:</li> <li>\u521b\u5efatsconfig.json(\u793a\u4f8b\u5982\u4e0b):</li> </ul> <pre><code>{\n    /**/\n    \"compilerOptions\": {\n        \"module\": \"commonjs\", \n        \"target\": \"es5\",\n        \"sourceMap\": true\n    },\n    /*\u8868\u793a\u5e0c\u671b\u54ea\u4e2a\u76ee\u5f55\u4e0b\u7684.ts\u6587\u4ef6\u4e0d\u88ab\u7f16\u8bd1*/\n    \"exclude\": [          \n        \"node_module\"\n    ],\n    /*\u8868\u793a\u5e0c\u671b\u90a3\u4e2a\u76ee\u5f55\u4e0b\u7684.ts\u6587\u4ef6\u88ab\u7f16\u8bd1*/\n    \"include\": [\"./src/**/*\"],  /*\"**\"\u8868\u793a\u4efb\u610f\u76ee\u5f55, *\u8868\u793a\u4efb\u610f\u6587\u4ef6*/\n    /*\u8868\u793a\u5e0c\u671b\u8be5\u6587\u4ef6\u4ece\u5e95\u4e0b\u7684\u54ea\u4e2a\u6587\u4ef6\u7ee7\u627f*/\n    \"extends\": \"./config/base\",\n    /*\u8868\u793a\u6307\u5b9a\u88ab\u7f16\u8bd1\u6587\u4ef6\u5217\u8868*/\n    \"files\": [\"core.ts\"],\n    /*compilerOptions\u5b50\u9009\u9879\u5982\u4e0b*/\n    \"compilerOptions\": {\n        \"target\": \"ES6\",\n        \"lib\": [\"ES6\", \"DOM\"],\n        ...\n    }\n}\n</code></pre> \u9009\u9879 \u53ef\u9009\u503c \u63cf\u8ff0 target: string \"es3\"(\u9ed8\u8ba4)\uff0c\"es5\", \"es6\" ts\u4ee3\u7801\u88ab\u7f16\u8bd1\u540e\u7684\u76ee\u6807\u7248\u672c lib: array[string] \u6307\u5b9a\u4ee3\u7801\u8fd0\u884c\u65f6\u6240\u5305\u542b\u7684\u5e93 module: string \"es5\", \"commonjs\" \u7f16\u8bd1\u540e\u4ee3\u7801\u6240\u4f7f\u7528\u7684\u6a21\u5757\u5316\u7cfb\u7edf outdir: string \u793a\u4f8b: \"./dist\" \u8f93\u51fa\u76ee\u5f55(\u9ed8\u8ba4tsconfig\u6240\u5728\u76ee\u5f55) outfile: string(\u5e38\u7528webpack\u4ee3\u66ff) \"./dist/app.js\" \u5c06\u6240\u6709\u4ee3\u7801\u5408\u5e76\u5230\u540c\u4e00\u6587\u4ef6 allowJs: boolean \u662f\u5426\u5c06js\u548cts\u4e00\u8d77\u7f16\u8bd1 removeComments: boolean \u662f\u5426\u79fb\u9664\u6ce8\u91ca noEmitOnError: boolean \u62a5\u9519\u65f6\u662f\u5426\u7ee7\u7eed\u7f16\u8bd1 <ol> <li>\u518d\u5230.json\u6240\u5728\u76ee\u5f55\u4f7f\u7528<code>tsc</code></li> </ol>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#3-webpackts","title":"3. Webpack\u7f16\u8bd1ts\u6587\u4ef6","text":"","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#4_1","title":"4. \u5173\u952e\u5b57","text":"static export export default import declare extends super abstract const let type interface public private declare namespace declare module <ul> <li> <p>extends:</p> </li> <li> <p>\u8868\u793a\u7ee7\u627f</p> </li> <li> <p>\u8868\u793a\u7ea6\u675f\u6cdb\u578b\uff1a\u5f53extends\u524d\u9762\u662f\u4e00\u4e2a\u6cdb\u578b\u7684\u65f6\u5019,\u8868\u793a\u8be5\u6cdb\u578b\u5fc5\u987b\u5305\u542bextends\u540e\u7684\u7c7b\u578b\u7684\u6240\u6709\u5c5e\u6027:</p> <pre><code>function getcnames&lt;T extends{cname: string}&gt;(entities: T[]): string[]{}\n</code></pre> </li> </ul>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#5","title":"5. \u8bed\u6cd5\u7cd6","text":"<ul> <li>\u53d8\u91cf\u540e?\u7684\u4f7f\u7528:</li> </ul> <pre><code>box?.addeventlistener(\"js\")  /*\u8868\u793a\u82e5box\u4e0d\u4e3anull\u6267\u884caddeventlistener,\u5426\u5219\uff0c\u4e0d\u6267\u884c*/\n</code></pre> <ul> <li>\u53d8\u91cf\u540e!\u7684\u4f7f\u7528(\u975e\u7a7a\u65ad\u8a00\u64cd\u4f5c\u7b26: \u4ece\u53d8\u91cf\u7684\u503c\u57df\u53bb\u9664null\u548cundefined)</li> </ul>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#_2","title":"\u4e8c. \u7c7b\u578b\u5927\u5168","text":"<ul> <li>number</li> <li>string</li> <li>Function</li> <li>any</li> <li>class</li> <li>List</li> </ul> <p>\u9ad8\u7ea7\u7c7b\u578b:</p> <ul> <li>class\u7c7b</li> <li>\u7c7b\u578b\u517c\u5bb9\u6027</li> <li>\u4ea4\u53c9\u7c7b\u578b</li> <li>\u6cdb\u578b\u548ckeyof</li> <li>\u7d22\u5f15\u7b7e\u540d\u7c7b\u578b\u548c\u7d22\u5f15\u67e5\u8be2\u7c7b\u578b</li> <li>\u6620\u5c04\u7c7b\u578b</li> </ul>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#_3","title":"\u4e09. \u7c7b\u578b\u64cd\u4f5c: \u4ea4\u53c9\u4e0e\u8054\u5408","text":"<ul> <li>\u8054\u5408: \u7528\u4e8e\u8868\u793a\u4e00\u4e2a\u7c7b\u578b\u662f\u591a\u4e2a\u7c7b\u578b\u7684\u5176\u4e2d\u67d0\u4e00\u4e2a, \u591a\u4e2a\u7c7b\u578b\u95f4\u7528<code>|</code>\u8fde\u63a5:</li> </ul> <pre><code>interface Person {name:string, id: number};\ninterface Contact {phone: string, id: number}\ntype A = Person | Contact\n</code></pre> <ul> <li>\u4ea4\u53c9: \u7528\u4e8e\u7ec4\u5408\u591a\u4e2a\u7c7b\u578b\u4e3a\u4e00\u4e2a\u7c7b\u578b, \u591a\u4e2a\u7c7b\u578b\u95f4\u7528<code>&amp;</code>\u8fde\u63a5(\u5f53<code>&amp;</code>\u524d\u540e\u4e24\u4e2a\u7c7b\u578b\u51fa\u73b0\u540c\u540d\u5c5e\u6027\u4f46\u5c5e\u6027\u7c7b\u578b\u51b2\u7a81\u65f6, <code>&amp;</code>\u4ea7\u751f\u7684\u65b0\u7c7b\u578b\u7684\u90a3\u4e2a\u540c\u540d\u5c5e\u6027\u4f1a\u662f<code>&amp;</code>\u524d\u540e\u4e24\u4e2a\u7c7b\u578b\u8054\u5408\u7c7b\u578b):</li> </ul> <pre><code>interface Person {name:string};\ninterface Contact {phone: string}\ntype B = Person &amp; Contact\nlet obj: B = {\n    name: \"hi\",\n    phone: \"123456\"\n}\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#classinterfacetype","title":"\u4e09. \u5b9a\u4e49Class\u548cinterface\u548ctype","text":"<p>interface\u793a\u4f8b:</p> <pre><code>interface A {\n    name: string\n}\n\nconst a: A = {name: \"a\"};\n</code></pre> <p>interface\u548ctype\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u4e00\u6837, \u53ef\u6df7\u7528:</p> <pre><code>type Foo = {\n    bar: string\n}\n\ninterface Foo = {\n    bar: string\n}\n</code></pre> <p>interface\u4e0etype\u5173\u952e\u5b57\u7684\u5dee\u522b:</p> <ul> <li>interface\u53ef\u4f7f\u7528extends\u8868\u793a\u7ee7\u627f,\u51fa\u73b0\u5b50\u7c7b\u4e0e\u7236\u7c7b\u6709\u540c\u540d\u5c5e\u6027\u4f46\u5c5e\u6027\u7c7b\u578b\u51b2\u7a81\u65f6\u4f1a\u62a5\u9519</li> <li>type\u58f0\u660e\u7684\u7c7b\u578b\u53ef\u4ee5\u7528<code>&amp;</code>, <code>|</code>\u7c7b\u578b\u7b26\u53f7, \u4ea4\u53c9\u4e24\u4e2a\u7c7b\u578b\u65f6, \u5f53<code>&amp;</code>\u524d\u540e\u4e24\u4e2a\u7c7b\u578b\u51fa\u73b0\u540c\u540d\u5c5e\u6027\u4f46\u5c5e\u6027\u7c7b\u578b\u51b2\u7a81\u65f6, <code>&amp;</code>\u4ea7\u751f\u7684\u65b0\u7c7b\u578b\u7684\u90a3\u4e2a\u540c\u540d\u5c5e\u6027\u4f1a\u662f<code>&amp;</code>\u524d\u540e\u4e24\u4e2a\u7c7b\u578b\u8054\u5408\u7c7b\u578b</li> <li>interface\u53ea\u80fd\u4e3a\u5bf9\u8c61\u6307\u5b9a\u7c7b\u578b, \u800ctype\u53ef\u4ee5\u4e3a\u4efb\u610f\u7c7b\u578b\u6307\u5b9a\u522b\u540d</li> </ul>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#_4","title":"\u56db. \u5404\u79cd\u58f0\u660e\u7c7b\u578b","text":"<p>\u65b9\u5f0f\u4e00(\u793a\u4f8b):</p> <pre><code>class A {\n    name: string\n}\nconst a: A = {name: \"a\"}\n</code></pre> <p>\u65b9\u5f0f\u4e8c(\u63a8\u8350):</p> <pre><code>// \u58f0\u660e\u4e00\u4e2a\u5bf9\u8c61\nconst a: {name: string} = {name: \"a\"}\n\n// \u58f0\u660e\u4e00\u4e2a\u51fd\u6570:\nconst b: ()=&gt;string = () =&gt; {return \"hello\"}\n\n// \u58f0\u660e\u4e00\u4e2a\u6df7\u5408\u7c7b\u578b\u6570\u7ec4:\nconst c: (number | string)[] = [1, \"string\", 2]\nconst d: {name: string}[] = [{name: \"d\"}]\ntype E = {name: string};\nconst e: E[] = [{name: \"e\"}]\n\n//\u58f0\u660e\u5143\u7ec4: \u5143\u7ec4\u91cc\u7684\u6bcf\u4e2a\u4f4d\u7f6e\u53ea\u80fd\u662f\u67d0\u4e2a\u7279\u5b9a\u7c7b\u578b\nconst f:[string, string, number] = [\"hello1\", \"hello2\", 2]\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#_5","title":"\u4e94. \u5173\u952e\u5b57\u5927\u5168","text":"<ul> <li>type, \u4f7f\u7528\u793a\u4f8b:</li> </ul> <pre><code>type E = {name: string}\nconst e:E[] = [{name: \"a\"}]\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#_6","title":"\u516d. \u6cdb\u578b\u521d\u6b65\u58f0\u660e","text":"<p>\u58f0\u660e\u4e00\u4e2a\u6cdb\u578b:</p> <ol> <li>\u5728interface\u540d\u6216class\u540d\u6216\u51fd\u6570\u540d\u65c1\u4f7f\u7528\u5c16\u62ec\u53f7,\u5c16\u62ec\u53f7\u91cc\u4f7f\u7528\u4efb\u610f\u7684variableName\u4f5c\u4e3a\u6cdb\u578b\u540d\u5373\u53ef\u58f0\u660e\u6cdb\u578b</li> <li>\u5728\u4f7f\u7528\u51fd\u6570\u6216\u521b\u5efa\u5b9e\u4f8b\u65f6\u901a\u8fc7\u5c16\u62ec\u53f7\u7ed9\u6cdb\u578b\u4f20\u5165\u771f\u5b9e\u7c7b\u578b,</li> </ol> <p>\u4e0a\u8ff0\u6b65\u9aa4\u7684demo:</p> <p>\u7ed9\u51fd\u6570\u58f0\u660e\u6cdb\u578b\u4e00:</p> <pre><code>// step 1:\nfunction join&lt;T&gt;(first: T, second: T){\n    return `${first} ${second}`;\n}\n// step 2\njoin&lt;string&gt;(\"a\", \"b\")\n</code></pre> <p>\u7ed9\u51fd\u6570\u58f0\u660e\u6cdb\u578b\u4e8c:</p> <pre><code>const getParam = &lt;T, U&gt;(param1: T: param2: U): [T, U][]\n</code></pre> <p>\u7ed9\u63a5\u53e3\u58f0\u660e\u6cdb\u578b:(\u6ce8\u610f: \u9700\u8981\u663e\u5f0f\u4e3a\u6cdb\u578b\u6307\u5b9a\u7c7b\u578b)</p> <pre><code>interface IdFunc&lt;T&gt;{\n    id: (value: T) =&gt; T,\n    ids: () =&gt; T[]\n}\n\n// \u663e\u5f0f\u4e3a\u6cdb\u578b\u6307\u5b9anumber\u7c7b\u578b\nlet obj: IdFunc&lt;number&gt; = {\n    id: (value: number) =&gt; value\n    ids: () =&gt; []\n}\n</code></pre> <p>\u7ed9\u6570\u7ec4\u58f0\u660e\u6cdb\u578b\uff1a(\u6ce8\u610f: \u6570\u7ec4\u5176\u5b9e\u5c31\u662f\u6cdb\u578b\u63a5\u53e3\uff0c\u53ca\u7b49\u540c\u4e8e\u4e3a\u63a5\u53e3\u58f0\u660e\u6cdb\u578b)</p> <p>\u7ed9class\u58f0\u660e\u6cdb\u578b: (\u6ce8\u610f: \u5f62\u4f3c\u7ed9\u63a5\u53e3\u58f0\u660e\u6cdb\u578b, \u4e0d\u540c\u7684\u662f\u663e\u5f0f\u4e3a\u6cdb\u578b\u6307\u5b9a\u7c7b\u578b\u5728\u8fd9\u91cc\u4e0d\u662f\u5fc5\u987b\u7684)</p> <pre><code>class A&lt;T&gt;{\n    id: T\n    constructor(value: T){\n        this.id = value;\n    }\n}\n\nconst a = new A&lt;number&gt;(100); //\u8fd9\u91cc&lt;number&gt;\u53ef\u4ee5\u7701\u7565\uff0c\u56e0\u4e3a\u6709constructor\u5e26\u5165T\u7c7b\u578b\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#_7","title":"\u4e03. \u6cdb\u578b\u7ea6\u675f","text":"<p>\u5f53\u6211\u4eec\u5728\u4e0a\u4e2asection\u6b65\u9aa4\u4e00\u4e2d\u58f0\u660e\u4e00\u4e2a\u6cdb\u578b\u65f6, \u6211\u4eec\u5728\u5c16\u62ec\u53f7\u91cc\u9664\u4e86\u5355\u7eaf\u7684\u4f20\u5165\u4e00\u4e2a\u6cdb\u578b\u53d8\u91cf,\u8fd8\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u5173\u952e\u5b57\u5bf9\u6cdb\u578b\u53d8\u91cf\u8fdb\u884c\u64cd\u4f5c,\u8fd9\u4e9b\u7edf\u79f0\u4e3a\u6cdb\u578b\u7ea6\u675f:</p> <ul> <li><code>T extends type</code>(\u7528\u4e8e\u8868\u660e\u8be5\u6cdb\u578b\u5fc5\u987b\u62e5\u6709extends\u540eclass\u6216interface\u6216\u6cdb\u578b\u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5):</li> </ul> <pre><code>interface A {\n    name: string\n}\n\nclass AClass&lt;T extends A&gt;{\n    constructor(private params: T[]){}\n}\n</code></pre> <ul> <li><code>[k: string]</code>\u7d22\u5f15\u7b7e\u540d\u7c7b\u578b(\u7528\u4e8e\u8868\u793a\u53ea\u8981\u662fstring\u7684\u5c5e\u6027\u540d\u79f0\u90fd\u53ef\u4ee5\u51fa\u73b0\u5728\u8be5\u5bf9\u8c61\u91cc):</li> </ul> <pre><code>interface A {\n    [k: number] : string\n    //\u8868\u793aA\u7c7b\u578b\u7684key\u662f\u4e00\u4e2anumber\u7c7b\u578b\uff0c\u503c\u4e3astring\u7c7b\u578b\uff0c\u4e14k\u53ef\u4ee5\u88ab\u52a8\u6001\u751f\u6210\n    [n: string]: string\n    [o: Symbol]: number\n    // js\u5bf9\u8c61\u7684\u952e\u540d\u5c5e\u6027\u53ea\u80fd\u662f\u5b57\u7b26\u4e32\u6216\u6570\u5b57\u6216Symbol\u5bf9\u8c61\u7684\u5176\u4e2d\u4e00\u79cd\n}\n</code></pre> <ul> <li><code>readonly</code>\u53ea\u8bfb\u5c5e\u6027:</li> </ul> <pre><code>interface A {\n    readonly name: string\n}\n</code></pre> <ul> <li><code>K extends keyof T</code>: \u83b7\u53d6\u6240\u6709T\u7684\u5c5e\u6027\u540d\u5b57\u7b26\u4e32\uff0c\u5e76\u5c06\u5b83\u4eec\u7ed3\u6784\u51fa\u6765\u4f5c\u4e3a\u8054\u5408\u7c7b\u578b\u8fd4\u56de</li> </ul> <pre><code>interface IPerson {\n    name: string,\n    age: number,\n    sex: 0 | 1\n}\n\ntype P1 = keyof IPerson;\n\ninterface ITest {\n    key: P1 // key\u7684\u503c\u53ea\u80fd\u662f\"name\", \"age\", \"sex\"\u4e09\u8005\u4e2d\u7684\u5176\u4e2d\u4e00\u4e2a\u5b57\u7b26\u4e32\n}\n\nlet test: ITest = {\n    key: \"name\"  // \u53ef\u4ee5\u8fd8\u53ef\u4ee5\u88ab\u8d4b\u503c\u4e3a\"age\"\u6216\"sex\"\n}\n\nconst getProps = &lt;T, K extends keyof T&gt;(object: T, propName: K) =&gt; {\n    return object[propName] \n    // K\u7c7b\u578b\u53ea\u80fd\u662fT\u7684\u952e\u540d\u79f0\u5b57\u7b26\u4e32, \u5373propName\u7684\u503c\u53ea\u80fd\u662fobject\u7684\u952e\u540d\u79f0\u7684\u5b57\u7b26\u4e32,\n    //\u56e0\u800c\u5f53T\u4e3aIPerson\u7c7b\u578b\u65f6, K extends keyof T\u88ab\u8f6c\u6362\u4e3a\u4e86\"name\" | \"age\" | \"sex\",\n    // \u6240\u4ee5,\u51fd\u6570\u91cc\u7684propName: K\u5373\u4e3apropName: \"name\" | \"age\" | \"sex\"\n}\n\ngetProps(test, \"name\")\n</code></pre> <ul> <li><code>[k in PropKeys]</code>\u6620\u5c04\u7c7b\u578b:</li> </ul> <p>(\u5176\u4e2din\u540e\u9762\u8ddf\u7684PropKeys\u8868\u793a\u4e00\u4e2a\u8054\u5408\u7c7b\u578b, \u7528\u4e8e\u8868\u793a\u952e\u540d\u79f0\u4ecePropKey\u4e2d\u7b5b\u9009):</p> <pre><code>type PropKeys = \"a\" | \"b\" | \"c\";\ntype T = {[k in PropKeys]: number}\n</code></pre> <ul> <li><code>[k in keyof T]</code>\u6620\u5c04\u7c7b\u578b:</li> </ul> <pre><code>type Props = {a: number, b: string, c: string};\ntype P = {[k in keyof Props]: number}\n</code></pre> <ul> <li><code>T[P]</code>\u7d22\u5f15\u67e5\u8be2(\u8bbf\u95ee)\u7c7b\u578b: </li> </ul> <p>\u5f53<code>T[P]</code>\u4e0etype\u5173\u952e\u5b57\u7ed3\u5408\u65f6, \u5219\u8868\u793a\u83b7\u53d6T\u7c7b\u578b\u4e2d\u952e\u4e3aP\u7684\u5c5e\u6027\u503c\u7c7b\u578b,\u51fa\u73b0\u7684\u573a\u666f\u53ef\u4ee5\u5728<code>Partial&lt;T&gt;</code>\u7684\u5b9e\u73b0\u4e2d\u770b\u5230</p> <pre><code>// Partial\u7684\u5b9e\u73b0:\ntype Partial&lt;T&gt; = {\n    [P in keyof T]?: T[P]\n    //\u8fd9\u91ccT[P]\u8868\u793a\u7684\u662f\u83b7\u53d6T[P]\u5c5e\u6027\u6240\u5bf9\u5e94\u7684\u7c7b\u578b\uff0c\u800c\u4e0d\u662fT[P]\u7684\u5bf9\u8c61\u5c5e\u6027\u503c\n}\n\n//\u57fa\u672c\u4f7f\u7528:\ntype Props = {a: number, b: string, c: boolean}\ntype TypeA = Props[\"a\"]\n//\u6ce8\u610f: \u5fc5\u987b\u8981\u6709type\u5173\u952e\u5b57, Props[\"a\"]\u624d\u8868\u793a\u8bbf\u95eea\u5c5e\u6027\u7684\u7c7b\u578b\uff0c\u5426\u5219\u4f1a\u88ab\u89e3\u91ca\u4e3ajs\u4e2d\u8bbf\u95eea\u5c5e\u6027\u7684\u503c\n</code></pre> <ul> <li><code>T[A | B]</code>\u7d22\u5f15\u67e5\u8be2\u591a\u4e2a\u7c7b\u578b:</li> </ul> <p>\u5f53\u65b9\u62ec\u53f7\u91cc\u662f\u4e00\u4e2a\u8054\u5408\u7c7b\u578b\u65f6,\u8868\u793a\u5c5e\u6027\u540d\u4e3aA\u7684\u7c7b\u578b\u8054\u5408\u5c5e\u6027\u4e3aB\u7684\u7c7b\u578b,\u793a\u4f8b:</p> <pre><code>type Props = {a: number, b: string, c: boolean};\ntype typeA = Props[\"a\" | \"b\" | \"c\"]\n// \u7b49\u540c\u4e8e typeA = number | string | boolean\ntype typeA = Props[keyof Props]\n</code></pre> <p>https://wenku.baidu.com/view/29b29d1664ec102de2bd960590c69ec3d4bbdb43.html</p> <p>https://blog.csdn.net/web15117716165/article/details/123080349</p>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#_8","title":"\u516b. \u6cdb\u578b\u5de5\u5177\u7c7b","text":"<p>\u6cdb\u578b\u5de5\u5177\u7c7b\u578b\u662f\u57fa\u4e8e\u6cdb\u578b\u5b9e\u73b0\u7684\u7c7b\uff0c\u7528\u4e8e\u64cd\u4f5c\u6cdb\u578b\u7684\u5173\u7cfb,\u4e14\u662fts\u5185\u7f6e\u7684</p>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#1-partial","title":"1. Partial","text":"<p><code>Partial&lt;T&gt;</code>\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u65b0\u7c7b\u578b,\u8fd9\u4e2a\u65b0\u7c7b\u578b\u5c06\u539f\u6709\u7684T\u7c7b\u578b\u8bbe\u7f6e\u4e3a\u53ef\u9009, \u793a\u4f8b:</p> <pre><code>interface Props {\n    id: string\n    children: number[]\n}\n\ntype partialProps = Partial&lt;Props&gt;\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#2-readonly","title":"2. Readonly","text":"<p><code>Readonly&lt;T&gt;</code>\u7528\u4e8e\u5c06\u539f\u6709T\u7c7b\u578b\u7684\u6240\u6709\u5c5e\u6027\u8bbe\u7f6e\u4e3a\u53ea\u53ef\u8bfb:</p> <pre><code>interface Props {\n    id: string\n    children: number[]\n}\n\ntype partialProps = Readonly&lt;Props&gt;\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#3-pick","title":"3. Pick","text":"<p><code>Pick&lt;T, K&gt;</code>\u8868\u793a\u4eceT\u7c7b\u578b\u4e2d\u9009\u62e9\u4e00\u7ec4\u7531K\u6307\u5b9a\u7684\u5c5e\u6027\u6765\u6784\u9020\u65b0\u7c7b\u578b,\u793a\u4f8b:</p> <pre><code>interface Props {\n    id: string\n    title: string\n    children: number[]\n}\ntype PickProps = Pick&lt;Props, \"id\" | \"title\"&gt;\n</code></pre>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#4-record","title":"4. Record","text":"<p><code>Record&lt;K, T&gt;</code>\u6784\u9020\u4e00\u4e2a\u5bf9\u8c61\u7c7b\u578b, K\u4e3a\u5c5e\u6027\u952e, T\u4e3a\u5c5e\u6027\u503c\u4e14\u7c7b\u578b\u4e3atype, \u793a\u4f8b:</p> <pre><code>type RecordObj = Record&lt;'a' | 'b' | 'c', string[]&gt;\n// \u4e0a\u9762\u521b\u5efa\u4e86RecordObj\u7c7b\u578b\uff0c\u8be5\u7c7b\u578b\u7531a, b, c\u4e09\u4e2a\u5c5e\u6027\uff0c\u4e14\u8fd9\u4e09\u4e2a\u5c5e\u6027\u7684\u7c7b\u578b\u4e3astring[]\nlet obj: RecordObj = {\n    a: ['1'],\n    b: ['2'],\n    c: ['3']\n}\n</code></pre> <p>https://blog.csdn.net/weixin_44828005/article/details/119720185</p>","tags":["Programming"]},{"location":"2025/10/10/typescrpt/#namespace","title":"\u516b. NamespaceShare this post:","text":"<p>\u5c06\u4e00\u4e9bclass\u6216variable\u6216\u51fd\u6570\u6a21\u5757\u5316\uff0c\u53ef\u4ee5\u5c06\u5b83\u4eec\u653e\u5728\u4e00\u4e2anamespace\u91cc\uff0c\u8981\u521b\u5efa\u4e00\u4e2anamespace,\u53ef\u4ee5\u7528namespace\u5173\u952e\u5b57\u521b\u5efa, \u793a\u4f8b:</p> <pre><code>namespace alpha{\n    export class A{\n        constructor(){}\n    }\n}\nalpha.A();\n</code></pre> <p>\u5bf9\u4e8enamespace\u7684\u64cd\u4f5c: namespace\u8fd8\u53ef\u4ee5\u5d4c\u5957,\u793a\u4f8b:</p> <pre><code>namespace alpha{\n    export namespace alpha1{\n       export class A{\n        constructor(){}\n        } \n    }\n}\nalpha.alpha1.A()\n</code></pre> <p>Share on  Share on </p>","tags":["Programming"]},{"location":"archive/2025/","title":"2025","text":""}]}